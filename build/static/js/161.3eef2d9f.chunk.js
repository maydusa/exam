(self.webpackChunkchat=self.webpackChunkchat||[]).push([[161],{24122:function(e,t,n){"use strict";n(72791);var a=n(42982),r=n(70885),s=n(74165),i=n(1413),o=n(4942),l=n(15671),_=n(43144),c=n(97326),f=n(60136),u=n(27277),h=n(15861),p=n(37762);function d(e){return e&&e.__esModule?e.default:e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b,v,g,w,k,S,y={},M=[],x=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function A(e,t){for(var n in t)e[n]=t[n];return e}function R(e){var t=e.parentNode;t&&t.removeChild(e)}function B(e,t,n){var a,r,s,i={};for(s in t)"key"==s?a=t[s]:"ref"==s?r=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?b.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===i[s]&&(i[s]=e.defaultProps[s]);return E(e,i,a,r,null)}function E(e,t,n,a,r){var s={type:e,props:t,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++g:r};return null==r&&null!=v.vnode&&v.vnode(s),s}function T(e){return e.children}function C(e,t){this.props=e,this.context=t}function L(e,t){if(null==t)return e.__?L(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?L(e):null}function P(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return P(e)}}function I(e){(!e.__d&&(e.__d=!0)&&w.push(e)&&!H.__r++||S!==v.debounceRendering)&&((S=v.debounceRendering)||k)(H)}function H(){for(var e;H.__r=w.length;)e=w.sort((function(e,t){return e.__v.__b-t.__v.__b})),w=[],e.some((function(e){var t,n,a,r,s,i;e.__d&&(s=(r=(t=e).__v).__e,(i=t.__P)&&(n=[],(a=A({},r)).__v=r.__v+1,X(i,r,a,t.__n,void 0!==i.ownerSVGElement,null!=r.__h?[s]:null,n,null==s?L(r):s,r.__h),q(n,r),r.__e!=s&&P(r)))}))}function V(e,t,n,a,r,s,i,o,l,_){var c,f,u,h,p,d,m,b=a&&a.__k||M,v=b.length;for(n.__k=[],c=0;c<t.length;c++)if(null!=(h=n.__k[c]=null==(h=t[c])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?E(null,h,null,null,h):Array.isArray(h)?E(T,{children:h},null,null,null):h.__b>0?E(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(u=b[c])||u&&h.key==u.key&&h.type===u.type)b[c]=void 0;else for(f=0;f<v;f++){if((u=b[f])&&h.key==u.key&&h.type===u.type){b[f]=void 0;break}u=null}X(e,h,u=u||y,r,s,i,o,l,_),p=h.__e,(f=h.ref)&&u.ref!=f&&(m||(m=[]),u.ref&&m.push(u.ref,null,h),m.push(f,h.__c||p,h)),null!=p?(null==d&&(d=p),"function"==typeof h.type&&h.__k===u.__k?h.__d=l=O(h,l,e):l=j(e,h,u,b,p,l),"function"==typeof n.type&&(n.__d=l)):l&&u.__e==l&&l.parentNode!=e&&(l=L(u))}for(n.__e=d,c=v;c--;)null!=b[c]&&("function"==typeof n.type&&null!=b[c].__e&&b[c].__e==n.__d&&(n.__d=L(a,c+1)),U(b[c],b[c]));if(m)for(c=0;c<m.length;c++)Y(m[c],m[++c],m[++c])}function O(e,t,n){for(var a,r=e.__k,s=0;r&&s<r.length;s++)(a=r[s])&&(a.__=e,t="function"==typeof a.type?O(a,t,n):j(n,a,a,r,a.__e,t));return t}function N(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){N(e,t)})):t.push(e)),t}function j(e,t,n,a,r,s){var i,o,l;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||r!=s||null==r.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(r),i=null;else{for(o=s,l=0;(o=o.nextSibling)&&l<a.length;l+=2)if(o==r)break e;e.insertBefore(r,s),i=s}return void 0!==i?i:r.nextSibling}function D(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||x.test(t)?n:n+"px"}function F(e,t,n,a,r){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof a&&(e.style.cssText=a=""),a)for(t in a)n&&t in n||D(e.style,t,"");if(n)for(t in n)a&&n[t]===a[t]||D(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?a||e.addEventListener(t,s?Z:z,s):e.removeEventListener(t,s?Z:z,s);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(i){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function z(e){this.l[e.type+!1](v.event?v.event(e):e)}function Z(e){this.l[e.type+!0](v.event?v.event(e):e)}function X(e,t,n,a,r,s,i,o,l){var _,c,f,u,h,p,d,m,g,w,k,S=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,o=t.__e=n.__e,t.__h=null,s=[o]),(_=v.__b)&&_(t);try{e:if("function"==typeof S){if(m=t.props,g=(_=S.contextType)&&a[_.__c],w=_?g?g.props.value:_.__:a,n.__c?d=(c=t.__c=n.__c).__=c.__E:("prototype"in S&&S.prototype.render?t.__c=c=new S(m,w):(t.__c=c=new C(m,w),c.constructor=S,c.render=G),g&&g.sub(c),c.props=m,c.state||(c.state={}),c.context=w,c.__n=a,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=S.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=A({},c.__s)),A(c.__s,S.getDerivedStateFromProps(m,c.__s))),u=c.props,h=c.state,f)null==S.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==S.getDerivedStateFromProps&&m!==u&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,w),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,w)||t.__v===n.__v){c.props=m,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),c.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&i.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,w),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(u,h,p)}))}c.context=w,c.props=m,c.state=c.__s,(_=v.__r)&&_(t),c.__d=!1,c.__v=t,c.__P=e,_=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(a=A(A({},a),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(u,h)),k=null!=_&&_.type===T&&null==_.key?_.props.children:_,V(e,Array.isArray(k)?k:[k],t,n,a,r,s,i,o,l),c.base=t.__e,t.__h=null,c.__h.length&&i.push(c),d&&(c.__E=c.__=null),c.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,a,r,s,i,o){var l,_,c,f=n.props,u=t.props,h=t.type,p=0;if("svg"===h&&(r=!0),null!=s)for(;p<s.length;p++)if((l=s[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:3===l.nodeType)){e=l,s[p]=null;break}if(null==e){if(null===h)return document.createTextNode(u);e=r?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,u.is&&u),s=null,o=!1}if(null===h)f===u||o&&e.data===u||(e.data=u);else{if(s=s&&b.call(e.childNodes),_=(f=n.props||y).dangerouslySetInnerHTML,c=u.dangerouslySetInnerHTML,!o){if(null!=s)for(f={},p=0;p<e.attributes.length;p++)f[e.attributes[p].name]=e.attributes[p].value;(c||_)&&(c&&(_&&c.__html==_.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,n,a,r){var s;for(s in n)"children"===s||"key"===s||s in t||F(e,s,null,n[s],a);for(s in t)r&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||F(e,s,t[s],n[s],a)}(e,u,f,r,o),c)t.__k=[];else if(p=t.props.children,V(e,Array.isArray(p)?p:[p],t,n,a,r&&"foreignObject"!==h,s,i,s?s[0]:n.__k&&L(n,0),o),null!=s)for(p=s.length;p--;)null!=s[p]&&R(s[p]);o||("value"in u&&void 0!==(p=u.value)&&(p!==f.value||p!==e.value||"progress"===h&&!p)&&F(e,"value",p,f.value,!1),"checked"in u&&void 0!==(p=u.checked)&&p!==e.checked&&F(e,"checked",p,f.checked,!1))}return e}(n.__e,t,n,a,r,s,i,l);(_=v.diffed)&&_(t)}catch(M){t.__v=null,(l||null!=s)&&(t.__e=o,t.__h=!!l,s[s.indexOf(o)]=null),v.__e(M,t,n)}}function q(e,t){v.__c&&v.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){v.__e(n,t.__v)}}))}function Y(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(a){v.__e(a,n)}}function U(e,t,n){var a,r;if(v.unmount&&v.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||Y(a,null,t)),null!=(a=e.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(s){v.__e(s,t)}a.base=a.__P=null}if(a=e.__k)for(r=0;r<a.length;r++)a[r]&&U(a[r],t,"function"!=typeof e.type);n||null==e.__e||R(e.__e),e.__e=e.__d=void 0}function G(e,t,n){return this.constructor(e,n)}function W(e,t,n){var a,r,s;v.__&&v.__(e,t),r=(a="function"==typeof n)?null:n&&n.__k||t.__k,s=[],X(t,e=(!a&&n||t).__k=B(T,null,[e]),r||y,y,void 0!==t.ownerSVGElement,!a&&n?[n]:r?null:t.firstChild?b.call(t.childNodes):null,s,!a&&n?n:r?r.__e:t.firstChild,a),q(s,e)}b=M.slice,v={__e:function(e,t){for(var n,a,r;t=t.__;)if((n=t.__c)&&!n.__)try{if((a=n.constructor)&&null!=a.getDerivedStateFromError&&(n.setState(a.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return n.__E=n}catch(s){e=s}throw e}},g=0,C.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=A({},this.state),"function"==typeof e&&(e=e(A({},n),this.props)),e&&A(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),I(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),I(this))},C.prototype.render=T,w=[],k="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,H.__r=0;var K=0;function Q(e,t,n,a,r){var s,i,o={};for(i in t)"ref"==i?s=t[i]:o[i]=t[i];var l={type:e,props:o,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--K,__source:a,__self:r};if("function"==typeof e&&(s=e.defaultProps))for(i in s)void 0===o[i]&&(o[i]=s[i]);return v.vnode&&v.vnode(l),l}var J={set:function(e,t){try{window.localStorage["emoji-mart.".concat(e)]=JSON.stringify(t)}catch(n){}},get:function(e){try{var t=window.localStorage["emoji-mart.".concat(e)];if(t)return JSON.parse(t)}catch(n){}}},$=new Map,ee=[{v:14,emoji:"\ud83e\udee0"},{v:13.1,emoji:"\ud83d\ude36\u200d\ud83c\udf2b\ufe0f"},{v:13,emoji:"\ud83e\udd78"},{v:12.1,emoji:"\ud83e\uddd1\u200d\ud83e\uddb0"},{v:12,emoji:"\ud83e\udd71"},{v:11,emoji:"\ud83e\udd70"},{v:5,emoji:"\ud83e\udd29"},{v:4,emoji:"\ud83d\udc71\u200d\u2640\ufe0f"},{v:3,emoji:"\ud83e\udd23"},{v:2,emoji:"\ud83d\udc4b\ud83c\udffb"},{v:1,emoji:"\ud83d\ude43"}];function te(e){if($.has(e))return $.get(e);var t=ne(e);return $.set(e,t),t}var ne=function(){var e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch(a){}if(!e)return function(){return!1};var t=20,n=Math.floor(12.5);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=40,e.canvas.height=25,function(n){e.clearRect(0,0,40,25),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,t,22);for(var a=e.getImageData(0,0,t,25).data,r=a.length,s=0;s<r&&!a[s+3];s+=4);if(s>=r)return!1;var i=t+s/4%t,o=Math.floor(s/4/t),l=e.getImageData(i,o,1,1).data;return a[s]===l[0]&&a[s+2]===l[2]&&!(e.measureText(n).width>=t)}}(),ae={latestVersion:function(){var e,t=(0,p.Z)(ee);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=n.v;if(te(n.emoji))return a}}catch(r){t.e(r)}finally{t.f()}},noCountryFlags:function(){return!te("\ud83c\udde8\ud83c\udde6")}},re=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"],se=null;var ie,oe={add:function(e){se||(se=J.get("frequently")||{});var t=e.id||e;t&&(se[t]||(se[t]=0),se[t]+=1,J.set("last",t),J.set("frequently",se))},get:function(e){var t=e.maxFrequentRows,n=e.perLine;if(!t)return[];se||(se=J.get("frequently"));var a=[];if(!se){for(var r in se={},re.slice(0,n)){var s=re[r];se[s]=n-r,a.push(s)}return a}var i=t*n,o=J.get("last");for(var l in se)a.push(l);if(a.sort((function(e,t){var n=se[t],a=se[e];return n==a?e.localeCompare(t):n-a})),a.length>i){var _=a.slice(i);a=a.slice(0,i);var c,f=(0,p.Z)(_);try{for(f.s();!(c=f.n()).done;){var u=c.value;u!=o&&delete se[u]}}catch(h){f.e(h)}finally{f.f()}o&&-1==a.indexOf(o)&&(delete se[a[a.length-1]],a.splice(-1,1,o)),J.set("frequently",se)}return a},DEFAULTS:re};ie=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn\u2019t be found","pick":"Pick an emoji\u2026","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var le={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:14,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","kr","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}},_e=null,ce=null,fe={};function ue(e){return he.apply(this,arguments)}function he(){return(he=(0,h.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe[t]){e.next=2;break}return e.abrupt("return",fe[t]);case 2:return e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,fe[t]=a,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=null,de=null,me=!1;function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.caller;return pe||(pe=new Promise((function(e){de=e}))),e?ve(e):n&&!me&&console.warn("`".concat(n,"` requires data to be initialized first. Promise will be pending until `init` is called.")),pe}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,h.Z)((0,s.Z)().mark((function e(t){var n,a,i,o,l,_,c,f,u,h,m,b,v,g,w,k,S;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me=!0,n=t.emojiVersion,a=t.set,i=t.locale,n||(n=le.emojiVersion.value),a||(a=le.set.value),i||(i=le.locale.value),ce){e.next=36;break}if("function"!==typeof t.data){e.next=12;break}return e.next=9,t.data();case 9:e.t1=e.sent,e.next=13;break;case 12:e.t1=t.data;case 13:if(e.t0=e.t1,e.t0){e.next=18;break}return e.next=17,ue("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/".concat(n,"/").concat(a,".json"));case 17:e.t0=e.sent;case 18:(ce=e.t0).emoticons={},ce.natives={},ce.categories.unshift({id:"frequent",emojis:[]}),e.t2=(0,s.Z)().keys(ce.aliases);case 23:if((e.t3=e.t2()).done){e.next=33;break}if(o=e.t3.value,l=ce.aliases[o],_=ce.emojis[l]){e.next=29;break}return e.abrupt("continue",23);case 29:_.aliases||(_.aliases=[]),_.aliases.push(o),e.next=23;break;case 33:ce.originalCategories=ce.categories,e.next=37;break;case 36:ce.categories=ce.categories.filter((function(e){return!!!e.name}));case 37:if("function"!==typeof t.i18n){e.next=43;break}return e.next=40,t.i18n();case 40:e.t5=e.sent,e.next=44;break;case 43:e.t5=t.i18n;case 44:if(e.t4=e.t5,e.t4){e.next=54;break}if("en"!=i){e.next=50;break}e.t6=d(ie),e.next=53;break;case 50:return e.next=52,ue("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/".concat(i,".json"));case 52:e.t6=e.sent;case 53:e.t4=e.t6;case 54:if(_e=e.t4,!t.custom){e.next=72;break}e.t7=(0,s.Z)().keys(t.custom);case 57:if((e.t8=e.t7()).done){e.next=72;break}if(c=e.t8.value,c=parseInt(c),f=t.custom[c],u=t.custom[c-1],f.emojis&&f.emojis.length){e.next=64;break}return e.abrupt("continue",57);case 64:f.id||(f.id="custom_".concat(c+1)),f.name||(f.name=_e.categories.custom),u&&!f.icon&&(f.target=u.target||u),ce.categories.push(f),h=(0,p.Z)(f.emojis);try{for(h.s();!(m=h.n()).done;)b=m.value,ce.emojis[b.id]=b}catch(y){h.e(y)}finally{h.f()}e.next=57;break;case 72:t.categories&&(ce.categories=ce.originalCategories.filter((function(e){return-1!=t.categories.indexOf(e.id)})).sort((function(e,n){return t.categories.indexOf(e.id)-t.categories.indexOf(n.id)}))),v=null,g=null,"native"==a&&(v=ae.latestVersion(),g=t.noCountryFlags||ae.noCountryFlags()),w=ce.categories.length,k=!1,S=function(){var e=ce.categories[w];if("frequent"==e.id){var n=t.maxFrequentRows,a=t.perLine;n=n>=0?n:le.maxFrequentRows.value,a||(a=le.perLine.value),e.emojis=oe.get({maxFrequentRows:n,perLine:a})}if(!e.emojis||!e.emojis.length)return ce.categories.splice(w,1),"continue";var s=t.categoryIcons;if(s){var i=s[e.id];i&&!e.icon&&(e.icon=i)}for(var o=e.emojis.length;o--;){var l=e.emojis[o],_=l.id?l:ce.emojis[l],c=function(){e.emojis.splice(o,1)};if(!_||t.exceptEmojis&&t.exceptEmojis.includes(_.id))c();else if(v&&_.version>v)c();else if(!g||"flags"!=e.id||xe.includes(_.id)){if(!_.search){if(k=!0,_.search=","+[[_.id,!1],[_.name,!0],[_.keywords,!1],[_.emoticons,!1]].map((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];if(n)return(Array.isArray(n)?n:[n]).map((function(e){return(a?e.split(/[-|_|\s]+/):[e]).map((function(e){return e.toLowerCase()}))})).flat()})).flat().filter((function(e){return e&&e.trim()})).join(","),_.emoticons){var f,u=(0,p.Z)(_.emoticons);try{for(u.s();!(f=u.n()).done;){var h=f.value;ce.emoticons[h]||(ce.emoticons[h]=_.id)}}catch(y){u.e(y)}finally{u.f()}}var d,m=0,b=(0,p.Z)(_.skins);try{for(b.s();!(d=b.n()).done;){var S=d.value;if(S){m++;var M=S.native;M&&(ce.natives[M]=_.id,_.search+=",".concat(M));var x=1==m?"":":skin-tone-".concat(m,":");S.shortcodes=":".concat(_.id,":").concat(x)}}}catch(y){b.e(y)}finally{b.f()}}}else c()}};case 79:if(!w--){e.next=85;break}if("continue"!==S()){e.next=83;break}return e.abrupt("continue",79);case 83:e.next=79;break;case 85:k&&Me.reset(),de();case 87:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t,n){e||(e={});var a={};for(var r in t)a[r]=ke(r,e,t,n);return a}function ke(e,t,n,a){var r=n[e],s=a&&a.getAttribute(e)||(null!=t[e]&&void 0!=t[e]?t[e]:null);return r?(null!=s&&r.value&&typeof r.value!=typeof s&&(s="boolean"==typeof r.value?"false"!=s:r.value.constructor(s)),r.transform&&s&&(s=r.transform(s)),(null==s||r.choices&&-1==r.choices.indexOf(s))&&(s=r.value),s):s}var Se=null;function ye(){return ye=(0,h.Z)((0,s.Z)().mark((function e(t){var n,a,r,i,o,l,_,c,f,u,h,d,m,b,v=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>1&&void 0!==v[1]?v[1]:{},a=n.maxResults,r=n.caller,t&&t.trim().length){e.next=3;break}return e.abrupt("return",null);case 3:return a||(a=90),e.next=6,be(null,{caller:r||"SearchIndex.search"});case 6:if((i=t.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((function(e,t,n){return e.trim()&&n.indexOf(e)==t}))).length){e.next=9;break}return e.abrupt("return");case 9:o=Se||(Se=Object.values(ce.emojis)),c=(0,p.Z)(i),e.prev=11,c.s();case 13:if((f=c.n()).done){e.next=45;break}if(u=f.value,o.length){e.next=17;break}return e.abrupt("break",45);case 17:l=[],_={},h=(0,p.Z)(o),e.prev=20,h.s();case 22:if((d=h.n()).done){e.next=34;break}if((m=d.value).search){e.next=26;break}return e.abrupt("continue",32);case 26:if(-1!=(b=m.search.indexOf(",".concat(u)))){e.next=29;break}return e.abrupt("continue",32);case 29:l.push(m),_[m.id]||(_[m.id]=0),_[m.id]+=m.id==u?0:b+1;case 32:e.next=22;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(20),h.e(e.t0);case 39:return e.prev=39,h.f(),e.finish(39);case 42:o=l;case 43:e.next=13;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(11),c.e(e.t1);case 50:return e.prev=50,c.f(),e.finish(50);case 53:if(!(l.length<2)){e.next=55;break}return e.abrupt("return",l);case 55:return l.sort((function(e,t){var n=_[e.id],a=_[t.id];return n==a?e.id.localeCompare(t.id):n-a})),l.length>a&&(l=l.slice(0,a)),e.abrupt("return",l);case 58:case"end":return e.stop()}}),e,null,[[11,47,50,53],[20,36,39,42]])}))),ye.apply(this,arguments)}var Me={search:function(e){return ye.apply(this,arguments)},get:function(e){return e.id?e:ce.emojis[e]||ce.emojis[ce.aliases[e]]||ce.emojis[ce.natives[e]]},reset:function(){Se=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/},xe=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function Ae(){return Re.apply(this,arguments)}function Re(){return Re=(0,h.Z)((0,s.Z)().mark((function e(){var t,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:1,e.t0=(0,s.Z)().keys((0,a.Z)(Array(t).keys()));case 2:if((e.t1=e.t0()).done){e.next=8;break}return e.t1.value,e.next=6,new Promise(requestAnimationFrame);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skinIndex,a=void 0===n?0:n,r=e.skins[a]||(a=0,e.skins[a]),s={id:e.id,name:e.name,native:r.native,unified:r.unified,keywords:e.keywords,shortcodes:r.shortcodes||e.shortcodes};return e.skins.length>1&&(s.skin=a+1),r.src&&(s.src=r.src),e.aliases&&e.aliases.length&&(s.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(s.emoticons=e.emoticons),s}var Ee={categories:{activity:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Q("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Q("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Q("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Q("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Q("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),Q("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Q("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),Q("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Q("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Q("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),Q("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:Q("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Q("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),Q("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Q("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),Q("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Q("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Q("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Q("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Q("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function Te(e){var t=e.id,n=e.skin,a=e.emoji;if(e.shortcodes){var r=e.shortcodes.match(Me.SHORTCODES_REGEX);r&&(t=r[1],r[2]&&(n=r[2]))}if(a||(a=Me.get(t||e.native)),!a)return e.fallback;var s=a.skins[n-1]||a.skins[0],i=s.src||("native"==e.set||e.spritesheet?void 0:"function"===typeof e.getImageURL?e.getImageURL(e.set,s.unified):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@14.0.0/img/").concat(e.set,"/64/").concat(s.unified,".png")),o="function"===typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@14.0.0/img/").concat(e.set,"/sheets-256/64.png");return Q("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:i?Q("img",{style:{maxWidth:e.size||"1em",maxHeight:e.size||"1em",display:"inline-block"},alt:s.native||s.shortcodes,src:i}):"native"==e.set?Q("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:s.native}):Q("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:"url(".concat(o,")"),backgroundSize:"".concat(100*ce.sheet.cols,"% ").concat(100*ce.sheet.rows,"%"),backgroundPosition:"".concat(100/(ce.sheet.cols-1)*s.x,"% ").concat(100/(ce.sheet.rows-1)*s.y,"%")}})})}var Ce=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,l.Z)(this,n),(e=t.call(this)).props=a,a.parent||a.ref){var r=null,s=a.parent||(r=a.ref&&a.ref.current);r&&(r.innerHTML=""),s&&s.appendChild((0,c.Z)(e))}return e}return(0,_.Z)(n,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.attributeChangedCallback(t,null,e[t])}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.component){var a=ke(e,(0,o.Z)({},e,n),this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps((0,o.Z)({},e,a)):(this.component.props[e]=a,this.component.forceUpdate())}}},{key:"disconnectedCallback",value:function(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}}],[{key:"observedAttributes",get:function(){return Object.keys(this.Props)}}]),n}("undefined"!==typeof window&&window.HTMLElement?window.HTMLElement:Object),Le=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.styles;return(0,l.Z)(this,n),(a=t.call(this,e)).setShadow(),a.injectStyles(s),a}return(0,_.Z)(n,[{key:"setShadow",value:function(){this.attachShadow({mode:"open"})}},{key:"injectStyles",value:function(e){if(e){var t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}}}]),n}(Ce),Pe={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:function(e){return/\D/.test(e)?e:"".concat(e,"px")}},set:le.set,skin:le.skin},Ie=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,_.Z)(n,[{key:"connectedCallback",value:function(){var e=(0,h.Z)((0,s.Z)().mark((function e(){var t,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=we(this.props,Pe,this)).element=this,t.ref=function(e){n.component=e},e.next=5,be();case 5:if(!this.disconnected){e.next=7;break}return e.abrupt("return");case 7:W(Q(Te,(0,i.Z)({},t)),this);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ce);m(Ie,"Props",Pe),"undefined"===typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",Ie);var He,Ve,Oe=[],Ne=v.__b,je=v.__r,De=v.diffed,Fe=v.__c,ze=v.unmount;function Ze(){var e;for(Oe.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=Oe.pop();)if(e.__P)try{e.__H.__h.forEach(qe),e.__H.__h.forEach(Ye),e.__H.__h=[]}catch(t){e.__H.__h=[],v.__e(t,e.__v)}}v.__b=function(e){He=null,Ne&&Ne(e)},v.__r=function(e){je&&je(e),0;var t=(He=e.__c).__H;t&&(t.__h.forEach(qe),t.__h.forEach(Ye),t.__h=[])},v.diffed=function(e){De&&De(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Oe.push(t)&&Ve===v.requestAnimationFrame||((Ve=v.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(a),Xe&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(n,100);Xe&&(t=requestAnimationFrame(n))})(Ze)),He=null},v.__c=function(e,t){t.some((function(e){try{e.__h.forEach(qe),e.__h=e.__h.filter((function(e){return!e.__||Ye(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],v.__e(n,e.__v)}})),Fe&&Fe(e,t)},v.unmount=function(e){ze&&ze(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{qe(e)}catch(n){t=n}})),t&&v.__e(t,n.__v))};var Xe="function"==typeof requestAnimationFrame;function qe(e){var t=He,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),He=t}function Ye(e){var t=He;e.__c=e.__(),He=t}function Ue(e,t){for(var n in t)e[n]=t[n];return e}function Ge(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function We(e){this.props=e}(We.prototype=new C).isPureReactComponent=!0,We.prototype.shouldComponentUpdate=function(e,t){return Ge(this.props,e)||Ge(this.state,t)};var Ke=v.__b;v.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ke&&Ke(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var Qe=v.__e;v.__e=function(e,t,n){if(e.then)for(var a,r=t;r=r.__;)if((a=r.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t);Qe(e,t,n)};var Je=v.unmount;function $e(){this.__u=0,this.t=null,this.__b=null}function et(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function tt(){this.u=null,this.o=null}v.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Je&&Je(e)},($e.prototype=new C).__c=function(e,t){var n=t.__c,a=this;null==a.t&&(a.t=[]),a.t.push(n);var r=et(a.__v),s=!1,i=function(){s||(s=!0,n.__R=null,r?r(o):o())};n.__R=i;var o=function(){if(!--a.__u){if(a.state.__e){var e=a.state.__e;a.__v.__k[0]=function e(t,n,a){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,a)})),t.__c&&t.__c.__P===n&&(t.__e&&a.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=a)),t}(e,e.__c.__P,e.__c.__O)}var t;for(a.setState({__e:a.__b=null});t=a.t.pop();)t.forceUpdate()}},l=!0===t.__h;a.__u++||l||a.setState({__e:a.__b=a.__v.__k[0]}),e.then(i,i)},$e.prototype.componentWillUnmount=function(){this.t=[]},$e.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,a){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=Ue({},t)).__c&&(t.__c.__P===a&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,a)}))),t}(this.__b,n,a.__O=a.__P)}this.__b=null}var r=t.__e&&B(T,null,e.fallback);return r&&(r.__h=null),[B(T,null,t.__e?null:e.children),r]};var nt=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(tt.prototype=new C).__e=function(e){var t=this,n=et(t.__v),a=t.o.get(e);return a[0]++,function(r){var s=function(){t.props.revealOrder?(a.push(r),nt(t,e,a)):r()};n?n(s):s()}},tt.prototype.render=function(e){this.u=null,this.o=new Map;var t=N(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},tt.prototype.componentDidUpdate=tt.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){nt(e,n,t)}))};var at="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,rt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,st="undefined"!=typeof document;C.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(C.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var it=v.event;function ot(){}function lt(){return this.cancelBubble}function _t(){return this.defaultPrevented}v.event=function(e){return it&&(e=it(e)),e.persist=ot,e.isPropagationStopped=lt,e.isDefaultPrevented=_t,e.nativeEvent=e};var ct={configurable:!0,get:function(){return this.class}},ft=v.vnode;v.vnode=function(e){var t,n=e.type,a=e.props,r=a;if("string"==typeof n){var s=-1===n.indexOf("-");for(var i in r={},a){var o=a[i];st&&"children"===i&&"noscript"===n||"value"===i&&"defaultValue"in a&&null==o||("defaultValue"===i&&"value"in a&&null==a.value?i="value":"download"===i&&!0===o?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+n)&&(t=a.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t))?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():s&&rt.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),r[i]=o)}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=N(a.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=N(a.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,a.class!=a.className&&(ct.enumerable="className"in a,null!=a.className&&(r.class=a.className),Object.defineProperty(r,"className",ct))}e.$$typeof=at,ft&&ft(e)};var ut=v.__r;v.__r=function(e){ut&&ut(e),e.__c};var ht={light:"outline",dark:"solid"},pt=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).categories=ce.categories.filter((function(e){return!e.target})),e.state={categoryId:e.categories[0].id},e}return(0,_.Z)(n,[{key:"renderIcon",value:function(e){var t=e.icon;if(t){if(t.svg)return Q("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return Q("img",{src:t.src})}var n=Ee.categories[e.id]||Ee.categories.custom;return n["auto"==this.props.icons?ht[this.props.theme]:this.props.icons]||n}},{key:"render",value:function(){var e=this,t=null;return Q("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:Q("div",{class:"flex relative",children:[this.categories.map((function(n,a){var r=n.name||_e.categories[n.id],s=!e.props.unfocused&&n.id==e.state.categoryId;return s&&(t=a),Q("button",{"aria-label":r,"aria-selected":s||void 0,title:r,type:"button",class:"flex flex-grow flex-center",onMouseDown:function(e){return e.preventDefault()},onClick:function(){e.props.onClick({category:n,i:a})},children:e.renderIcon(n)})})),Q("div",{class:"bar",style:{width:"".concat(100/this.categories.length,"%"),opacity:null==t?0:1,transform:"rtl"===this.props.dir?"scaleX(-1) translateX(".concat(100*t,"%)"):"translateX(".concat(100*t,"%)")}})]})})}}]),n}(We),dt=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"shouldComponentUpdate",value:function(e){for(var t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}},{key:"render",value:function(){return this.props.children}}]),n}(We),mt=10,bt=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;return(0,l.Z)(this,n),a=t.call(this),m((0,c.Z)(a),"handleClickOutside",(function(e){var t=a.props.element;e.target!=t&&(a.state.showSkins&&a.closeSkins(),a.props.onClickOutside&&a.props.onClickOutside(e))})),m((0,c.Z)(a),"handleBaseClick",(function(e){a.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),a.closeSkins()))})),m((0,c.Z)(a),"handleBaseKeydown",(function(e){a.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),a.closeSkins())})),m((0,c.Z)(a),"handleSearchClick",(function(){a.getEmojiByPos(a.state.pos)&&a.setState({pos:[-1,-1]})})),m((0,c.Z)(a),"handleSearchInput",(0,h.Z)((0,s.Z)().mark((function e(){var t,n,r,i,o,l,_,c,f,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.refs.searchInput.current){e.next=3;break}return e.abrupt("return");case 3:return n=t.value,e.next=6,Me.search(n);case 6:if(r=e.sent,i=function(){a.refs.scroll.current&&(a.refs.scroll.current.scrollTop=0)},r){e.next=10;break}return e.abrupt("return",a.setState({searchResults:r,pos:[-1,-1]},i));case 10:o=t.selectionStart==t.value.length?[0,0]:[-1,-1],(l=[]).setsize=r.length,_=null,c=(0,p.Z)(r);try{for(c.s();!(f=c.n()).done;)u=f.value,l.length&&_.length!=a.getPerLine()||((_=[]).__categoryId="search",_.__index=l.length,l.push(_)),_.push(u)}catch(s){c.e(s)}finally{c.f()}a.ignoreMouse(),a.setState({searchResults:l,pos:o},i);case 18:case"end":return e.stop()}}),e)})))),m((0,c.Z)(a),"handleSearchKeyDown",(function(e){var t=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":a.navigate({e:e,input:t,left:!0});break;case"ArrowRight":a.navigate({e:e,input:t,right:!0});break;case"ArrowUp":a.navigate({e:e,input:t,up:!0});break;case"ArrowDown":a.navigate({e:e,input:t,down:!0});break;case"Enter":e.preventDefault(),a.handleEmojiClick({e:e,pos:a.state.pos});break;case"Escape":e.preventDefault(),a.state.searchResults?a.clearSearch():a.unfocusSearch()}})),m((0,c.Z)(a),"clearSearch",(function(){var e=a.refs.searchInput.current;e&&(e.value="",e.focus(),a.handleSearchInput())})),m((0,c.Z)(a),"handleCategoryClick",(function(e){var t=e.category,n=e.i;a.scrollTo(0==n?{row:-1}:{categoryId:t.id})})),m((0,c.Z)(a),"openSkins",(function(e){var t=e.currentTarget.getBoundingClientRect();a.setState({showSkins:t},(0,h.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(2);case 2:if(t=a.refs.menu.current){e.next=5;break}return e.abrupt("return");case 5:t.classList.remove("hidden"),a.refs.skinToneRadio.current.focus(),a.base.addEventListener("click",a.handleBaseClick,!0),a.base.addEventListener("keydown",a.handleBaseKeydown,!0);case 9:case"end":return e.stop()}}),e)}))))})),a.observers=[],a.state=(0,i.Z)({pos:[-1,-1],perLine:a.initDynamicPerLine(e),visibleRows:{0:!0}},a.getInitialState(e)),a}return(0,_.Z)(n,[{key:"getInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{skin:J.get("skin")||e.skin,theme:this.initTheme(e.theme)}}},{key:"componentWillMount",value:function(){this.dir=_e.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}},{key:"componentDidMount",value:function(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){var e=this.refs.searchInput;e.current&&e.current.focus()}}},{key:"componentWillReceiveProps",value:function(e){var t=this;for(var n in this.nextState||(this.nextState={}),e)this.nextState[n]=e[n];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout((function(){var e=!1;for(var n in t.nextState)t.props[n]=t.nextState[n],"custom"!==n&&"categories"!==n||(e=!0);delete t.nextState;var a=t.getInitialState();if(e)return t.reset(a);t.setState(a)}))}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"reset",value:function(){var e=(0,h.Z)((0,s.Z)().mark((function e(){var t,n=this,a=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,be(this.props);case 3:this.initGrid(),this.unobserve(),this.setState(t,(function(){n.observeCategories(),n.observeRows()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){document.addEventListener("click",this.handleClickOutside),this.observe()}},{key:"unregister",value:function(){document.removeEventListener("click",this.handleClickOutside),this.unobserve()}},{key:"observe",value:function(){this.observeCategories(),this.observeRows()}},{key:"unobserve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.except,n=void 0===t?[]:t;Array.isArray(n)||(n=[n]);var a,r=(0,p.Z)(this.observers);try{for(r.s();!(a=r.n()).done;){var s=a.value;n.includes(s)||s.disconnect()}}catch(i){r.e(i)}finally{r.f()}this.observers=[].concat(n)}},{key:"initGrid",value:function(){var e=this,t=ce.categories;this.refs.categories=new Map;var n=ce.categories.map((function(e){return e.id})).join(",");this.navKey&&this.navKey!=n&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=n,this.grid=[],this.grid.setsize=0;var a,r=function(t,n){var a=[];a.__categoryId=n.id,a.__index=t.length,e.grid.push(a);var r=e.grid.length-1,s=r%mt?{}:{current:null};return s.index=r,s.posinset=e.grid.setsize+1,t.push(s),a},s=(0,p.Z)(t);try{for(s.s();!(a=s.n()).done;){var i,o=a.value,l=[],_=r(l,o),c=(0,p.Z)(o.emojis);try{for(c.s();!(i=c.n()).done;){var f=i.value;_.length==this.getPerLine()&&(_=r(l,o)),this.grid.setsize+=1,_.push(f)}}catch(u){c.e(u)}finally{c.f()}this.refs.categories.set(o.id,{root:{current:null},rows:l})}}catch(u){s.e(u)}finally{s.f()}}},{key:"initTheme",value:function(e){var t=this;if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addListener((function(){"auto"==t.props.theme&&t.setState({theme:t.darkMedia.matches?"dark":"light"})}))}return this.darkMedia.matches?"dark":"light"}},{key:"initDynamicPerLine",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(t.dynamicWidth){var n=t.element,a=t.emojiButtonSize,r=function(){var e=n.getBoundingClientRect().width;return Math.floor(e/a)},s=new ResizeObserver((function(){e.unobserve({except:s}),e.setState({perLine:r()},(function(){e.initGrid(),e.forceUpdate((function(){e.observeCategories(),e.observeRows()}))}))}));return s.observe(n),this.observers.push(s),r()}}},{key:"getPerLine",value:function(){return this.state.perLine||this.props.perLine}},{key:"getEmojiByPos",value:function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1],s=this.state.searchResults||this.grid,i=s[n]&&s[n][a];if(i)return Me.get(i)}},{key:"observeCategories",value:function(){var e=this.refs.navigation.current;if(e){var t,n=new Map,s={root:this.refs.scroll.current,threshold:[0,1]},i=new IntersectionObserver((function(t){var s,i=(0,p.Z)(t);try{for(i.s();!(s=i.n()).done;){var o=s.value,l=o.target.dataset.id;n.set(l,o.intersectionRatio)}}catch(m){i.e(m)}finally{i.f()}var _,c,f=(0,a.Z)(n),u=(0,p.Z)(f);try{for(u.s();!(_=u.n()).done;){var h=(0,r.Z)(_.value,2),d=h[0];if(h[1]){(c=d)!=e.state.categoryId&&e.setState({categoryId:c});break}}}catch(m){u.e(m)}finally{u.f()}}),s),o=(0,p.Z)(this.refs.categories.values());try{for(o.s();!(t=o.n()).done;){var l=t.value.root;i.observe(l.current)}}catch(_){o.e(_)}finally{o.f()}this.observers.push(i)}}},{key:"observeRows",value:function(){var e,t=this,n=(0,i.Z)({},this.state.visibleRows),a=new IntersectionObserver((function(e){var a,r=(0,p.Z)(e);try{for(r.s();!(a=r.n()).done;){var s=a.value,i=parseInt(s.target.dataset.index);s.isIntersecting?n[i]=!0:delete n[i]}}catch(o){r.e(o)}finally{r.f()}t.setState({visibleRows:n})}),{root:this.refs.scroll.current,rootMargin:"".concat(this.props.emojiButtonSize*(mt+5),"px 0px ").concat(this.props.emojiButtonSize*mt,"px")}),r=(0,p.Z)(this.refs.categories.values());try{for(r.s();!(e=r.n()).done;){var s,o=e.value.rows,l=(0,p.Z)(o);try{for(l.s();!(s=l.n()).done;){var _=s.value;_.current&&a.observe(_.current)}}catch(c){l.e(c)}finally{l.f()}}}catch(c){r.e(c)}finally{r.f()}this.observers.push(a)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"unfocusSearch",value:function(){var e=this.refs.searchInput.current;e&&e.blur()}},{key:"navigate",value:function(e){var t=this,n=e.e,a=e.input,s=e.left,i=e.right,o=e.up,l=e.down,_=this.state.searchResults||this.grid;if(_.length){var c=(0,r.Z)(this.state.pos,2),f=c[0],u=c[1],h=function(){if(0==f&&0==u&&!n.repeat&&(s||o))return null;if(-1==f)return n.repeat||!i&&!l||a.selectionStart!=a.value.length?null:[0,0];if(s||i){var e=_[f],t=s?-1:1;if(!e[u+=t]){if(!(e=_[f+=t]))return f=s?0:_.length-1,u=s?0:_[f].length-1,[f,u];u=s?e.length-1:0}return[f,u]}if(o||l){var r=_[f+=o?-1:1];return r?(r[u]||(u=r.length-1),[f,u]):(f=o?0:_.length-1,u=o?0:_[f].length-1,[f,u])}}();h?(n.preventDefault(),this.setState({pos:h,keyboard:!0},(function(){t.scrollTo({row:h[0]})}))):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}}},{key:"scrollTo",value:function(e){var t=e.categoryId,n=e.row,a=this.state.searchResults||this.grid;if(a.length){var r=this.refs.scroll.current,s=r.getBoundingClientRect(),i=0;if(n>=0&&(t=a[n].__categoryId),t)i=(this.refs[t]||this.refs.categories.get(t).root).current.getBoundingClientRect().top-(s.top-r.scrollTop)+1;if(n>=0)if(n){var o=i+a[n].__index*this.props.emojiButtonSize,l=o+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(o<r.scrollTop)i=o;else{if(!(l>r.scrollTop+s.height))return;i=l-s.height}}else i=0;this.ignoreMouse(),r.scrollTop=i}}},{key:"ignoreMouse",value:function(){var e=this;this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout((function(){delete e.mouseIsIgnored}),100)}},{key:"handleEmojiOver",value:function(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}},{key:"handleEmojiClick",value:function(e){var t=e.e,n=e.emoji,a=e.pos;if(this.props.onEmojiSelect&&(!n&&a&&(n=this.getEmojiByPos(a)),n)){var r=Be(n,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&oe.add(r,this.props),this.props.onEmojiSelect(r,t)}}},{key:"closeSkins",value:function(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}},{key:"handleSkinMouseOver",value:function(e){this.setState({tempSkin:e})}},{key:"handleSkinClick",value:function(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),J.set("skin",e)}},{key:"renderNav",value:function(){return Q(pt,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}},{key:"renderPreview",value:function(){var e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return Q("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[Q("div",{class:"flex flex-middle flex-grow",children:[Q("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:Q(Te,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),Q("div",{class:"margin-".concat(this.dir[0]),children:Q("div",e||t?{class:"padding-".concat(this.dir[2]," align-").concat(this.dir[0]),children:[Q("div",{class:"preview-title ellipsis",children:e?e.name:_e.search_no_results_1}),Q("div",{class:"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:_e.search_no_results_2})]}:{class:"preview-placeholder color-c",children:_e.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}},{key:"renderEmojiButton",value:function(e,t){var n,a,r=this,s=t.pos,i=t.posinset,o=t.grid,l=this.props.emojiButtonSize,_=this.state.tempSkin||this.state.skin,c=(e.skins[_-1]||e.skins[0]).native,f=(n=this.state.pos,a=s,Array.isArray(n)&&Array.isArray(a)&&n.length===a.length&&n.every((function(e,t){return e==a[t]}))),u=s.concat(e.id).join("");return Q(dt,{selected:f,skin:_,size:l,children:Q("button",{"aria-label":c,"aria-selected":f||void 0,"aria-posinset":i,"aria-setsize":o.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:function(t){return r.handleEmojiClick({e:t,emoji:e})},onMouseEnter:function(){return r.handleEmojiOver(s)},onMouseLeave:function(){return r.handleEmojiOver()},style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[Q("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(i-1)%this.props.emojiButtonColors.length]:void 0}}),Q(Te,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:_,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},u)}},{key:"renderSearch",value:function(){var e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return Q("div",{children:[Q("div",{class:"spacer"}),Q("div",{class:"flex flex-middle",children:[Q("div",{class:"search relative flex-grow",children:[Q("input",{type:"search",ref:this.refs.searchInput,placeholder:_e.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),Q("span",{class:"icon loupe flex",children:Ee.search.loupe}),this.state.searchResults&&Q("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:Ee.search.delete})]}),e&&this.renderSkinToneButton()]})]})}},{key:"renderSearchResults",value:function(){var e=this,t=this.state.searchResults;return t?Q("div",{class:"category",ref:this.refs.search,children:[Q("div",{class:"sticky padding-small align-".concat(this.dir[0]),children:_e.categories.search}),Q("div",{children:t.length?t.map((function(n,a){return Q("div",{class:"flex",children:n.map((function(n,r){return e.renderEmojiButton(n,{pos:[a,r],posinset:a*e.props.perLine+r+1,grid:t})}))})})):Q("div",{class:"padding-small align-".concat(this.dir[0]),children:this.props.onAddCustomEmoji&&Q("a",{onClick:this.props.onAddCustomEmoji,children:_e.add_custom})})})]}):null}},{key:"renderCategories",value:function(){var e=this,t=ce.categories,n=!!this.state.searchResults,r=this.getPerLine();return Q("div",{style:{visibility:n?"hidden":void 0,display:n?"none":void 0,height:"100%"},children:t.map((function(t){var n=e.refs.categories.get(t.id),s=n.root,i=n.rows;return Q("div",{"data-id":t.target?t.target.id:t.id,class:"category",ref:s,children:[Q("div",{class:"sticky padding-small align-".concat(e.dir[0]),children:t.name||_e.categories[t.id]}),Q("div",{class:"relative",style:{height:i.length*e.props.emojiButtonSize},children:i.map((function(n,s){var i=n.index-n.index%mt,o=e.state.visibleRows[i],l="current"in n?n:void 0;if(!o&&!l)return null;var _=s*r,c=_+r,f=t.emojis.slice(_,c);return f.length<r&&f.push.apply(f,(0,a.Z)(new Array(r-f.length))),Q("div",{"data-index":n.index,ref:l,class:"flex row",style:{top:s*e.props.emojiButtonSize},children:o&&f.map((function(t,a){if(!t)return Q("div",{style:{width:e.props.emojiButtonSize,height:e.props.emojiButtonSize}});var r=Me.get(t);return e.renderEmojiButton(r,{pos:[n.index,a],posinset:n.posinset+a,grid:e.grid})}))},n.index)}))})]})}))})}},{key:"renderSkinToneButton",value:function(){return"none"==this.props.skinTonePosition?null:Q("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:Q("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":_e.skins.choose,title:_e.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:Q("span",{class:"skin-tone skin-tone-".concat(this.state.skin)})})})}},{key:"renderLiveRegion",value:function(){var e=this.getEmojiByPos(this.state.pos);return Q("div",{"aria-live":"polite",class:"sr-only",children:e?e.name:""})}},{key:"renderSkins",value:function(){var e=this,t=this.refs.skinToneButton.current.getBoundingClientRect(),n=this.base.getBoundingClientRect(),r={};return"ltr"==this.dir?r.right=n.right-t.right-3:r.left=t.left-n.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?r.bottom=n.bottom-t.top+6:(r.top=t.bottom-n.top+3,r.bottom="auto"),Q("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":_e.skins.choose,class:"menu hidden","data-position":r.top?"top":"bottom",style:r,children:(0,a.Z)(Array(6).keys()).map((function(t){var n=t+1,a=e.state.skin==n;return Q("div",{children:[Q("input",{type:"radio",name:"skin-tone",value:n,"aria-label":_e.skins[n],ref:a?e.refs.skinToneRadio:null,defaultChecked:a,onChange:function(){return e.handleSkinMouseOver(n)},onKeyDown:function(t){"Enter"!=t.code&&"Space"!=t.code&&"Tab"!=t.code||(t.preventDefault(),e.handleSkinClick(n))}}),Q("button",{"aria-hidden":"true",tabindex:"-1",onClick:function(){return e.handleSkinClick(n)},onMouseEnter:function(){return e.handleSkinMouseOver(n)},onMouseLeave:function(){return e.handleSkinMouseOver()},class:"option flex flex-grow flex-middle",children:[Q("span",{class:"skin-tone skin-tone-".concat(n)}),Q("span",{class:"margin-small-lr",children:_e.skins[n]})]})]})}))})}},{key:"render",value:function(){var e=this.props.perLine*this.props.emojiButtonSize;return Q("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":"calc(".concat(e,"px + (var(--padding) + var(--sidebar-width)))")},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&Q("div",{class:"padding-lr",children:this.renderSearch()}),Q("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:Q("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}}]),n}(C),vt=function(e){(0,f.Z)(n,e);var t=(0,u.Z)(n);function n(e){return(0,l.Z)(this,n),t.call(this,e,{styles:d(gt)})}return(0,_.Z)(n,[{key:"connectedCallback",value:function(){var e=(0,h.Z)((0,s.Z)().mark((function e(){var t,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=we(this.props,le,this)).element=this,t.ref=function(e){n.component=e},e.next=5,be(t);case 5:if(!this.disconnected){e.next=7;break}return e.abrupt("return");case 7:W(Q(bt,(0,i.Z)({},t)),this.shadowRoot);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Le);m(vt,"Props",le),"undefined"===typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",vt);var gt={};gt=':host {\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --preview-placeholder-size: 21px;\n  --preview-title-size: 1.1em;\n  --preview-subtitle-size: .9em;\n  --shadow-color: 0deg 0% 0%;\n  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);\n  display: flex;\n}\n\n[data-theme="light"] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme="dark"] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, 0, .2, 1);\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n  position: relative;\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  line-height: normal;\n}\n\n*, :before, :after {\n  box-sizing: border-box;\n  min-width: 0;\n  margin: 0;\n  padding: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: none;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.sr-only {\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  top: auto;\n  left: -10000px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n[dir="rtl"] .scroll {\n  padding-left: 0;\n  padding-right: var(--padding);\n}\n\n.scroll {\n  padding-right: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: rgba(0, 0, 0, 0);\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  z-index: 1;\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  font-weight: 500;\n  position: sticky;\n  top: -1px;\n}\n\n[dir="rtl"] .search input[type="search"] {\n  padding: 10px 2.2em 10px 2em;\n}\n\n[dir="rtl"] .search .loupe {\n  left: auto;\n  right: .7em;\n}\n\n[dir="rtl"] .search .delete {\n  left: .7em;\n  right: auto;\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size)  - 1px);\n}\n\n.search input[type="search"] {\n  width: 100%;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n  border: 0;\n  border-radius: 10px;\n  outline: 0;\n  padding: 10px 2em 10px 2.2em;\n  display: block;\n}\n\n.search input[type="search"]::-ms-input-placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"]::placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n}\n\n.search input[type="search"]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);\n}\n\n.search .icon {\n  z-index: 1;\n  color: rgba(var(--em-rgb-color), .7);\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  pointer-events: none;\n  left: .7em;\n}\n\n.search .delete {\n  right: .7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n}\n\n#nav {\n  z-index: 2;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav[dir="rtl"] .bar {\n  left: auto;\n  right: 0;\n}\n\n#nav .bar {\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  transition: transform var(--duration) var(--easing);\n  border-radius: 3px 3px 0 0;\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  padding: calc(var(--padding)  + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#preview .preview-placeholder {\n  font-size: var(--preview-placeholder-size);\n}\n\n#preview .preview-title {\n  font-size: var(--preview-title-size);\n}\n\n#preview .preview-subtitle {\n  font-size: var(--preview-subtitle-size);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  height: 2px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n#nav[data-position="top"]:before, #preview[data-position="top"]:before {\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n  top: 100%;\n}\n\n#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n  bottom: 100%;\n}\n\n.category:last-child {\n  min-height: calc(100% + 1px);\n}\n\n.category button {\n  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;\n  position: relative;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0s;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.skin-tone-button {\n  border: 1px solid rgba(0, 0, 0, 0);\n  border-radius: 100%;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  background-color: var(--em-color-border);\n  border-top-color: rgba(0, 0, 0, .05);\n  border-bottom-color: rgba(0, 0, 0, 0);\n  border-left-width: 0;\n  border-right-width: 0;\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(.9);\n}\n\n.menu {\n  z-index: 2;\n  white-space: nowrap;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n  border-radius: 10px;\n  padding: 4px;\n  position: absolute;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position="bottom"] {\n  transform-origin: 100% 100%;\n}\n\n.menu[data-position="bottom"].hidden {\n  transform: scale(.9)rotate(-3deg)translateY(5%);\n}\n\n.menu[data-position="top"] {\n  transform-origin: 100% 0;\n}\n\n.menu[data-position="top"].hidden {\n  transform: scale(.9)rotate(3deg)translateY(-5%);\n}\n\n.menu input[type="radio"] {\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  overflow: hidden;\n}\n\n.menu input[type="radio"]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  border-radius: 6px;\n  padding: 4px 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  mix-blend-mode: overlay;\n  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));\n  border: 1px solid rgba(0, 0, 0, .8);\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-index] {\n  justify-content: space-between;\n}\n\n[data-emoji-set="twitter"] .skin-tone:after {\n  box-shadow: none;\n  border-color: rgba(0, 0, 0, .5);\n}\n\n[data-emoji-set="twitter"] .skin-tone-1 {\n  background-color: #fade72;\n}\n\n[data-emoji-set="twitter"] .skin-tone-2 {\n  background-color: #f3dfd0;\n}\n\n[data-emoji-set="twitter"] .skin-tone-3 {\n  background-color: #eed3a8;\n}\n\n[data-emoji-set="twitter"] .skin-tone-4 {\n  background-color: #cfad8d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-5 {\n  background-color: #a8805d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set="google"] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);\n}\n\n[data-emoji-set="google"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="google"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="google"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="google"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="google"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="google"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n[data-emoji-set="facebook"] .skin-tone:after {\n  border-color: rgba(0, 0, 0, .4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set="facebook"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="facebook"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="facebook"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="facebook"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="facebook"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="facebook"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n'},67394:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var r=a(n(45649)),s=n(80184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},53329:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var r=a(n(45649)),s=n(80184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},17097:function(e,t,n){"use strict";var a=n(74223),r=n(80184);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic")},76838:function(e,t,n){"use strict";var a=n(74223),r=n(80184);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4 14H8V8h8z"}),"StopCircle")},45649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.createSvgIcon}});var a=n(37294)},39709:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var a=n(4942),r=n(63366),s=n(87462),i=n(72791),o=n(14036),l=n(67384),_=n(20838),c=n(66934),f=n(31402),u=n(82880),h=n(91793),p=n(13239),d=n(10139),m=n(64657);function b(e){return(0,m.ZP)("MuiLoadingButton",e)}var v=(0,n(59703).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),g=n(80184),w=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],k=(0,c.ZP)(u.Z,{shouldForwardProp:function(e){return function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e}(e)||"classes"===e},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(e,t){return[t.root,t.startIconLoadingStart&&(0,a.Z)({},"& .".concat(v.startIconLoadingStart),t.startIconLoadingStart),t.endIconLoadingEnd&&(0,a.Z)({},"& .".concat(v.endIconLoadingEnd),t.endIconLoadingEnd)]}})((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)((0,a.Z)({},"& .".concat(v.startIconLoadingStart,", & .").concat(v.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}),"center"===t.loadingPosition&&(0,a.Z)({transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short})},"&.".concat(v.loading),{color:"transparent"}),"start"===t.loadingPosition&&t.fullWidth&&(0,a.Z)({},"& .".concat(v.startIconLoadingStart,", & .").concat(v.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===t.loadingPosition&&t.fullWidth&&(0,a.Z)({},"& .".concat(v.startIconLoadingStart,", & .").concat(v.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}))})),S=(0,c.ZP)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(e,t){var n=e.ownerState;return[t.loadingIndicator,t["loadingIndicator".concat((0,o.Z)(n.loadingPosition))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,s.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:"small"===n.size?10:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:"small"===n.size?10:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})})),y=i.forwardRef((function(e,t){var n=i.useContext(h.Z),a=(0,d.Z)(n,e),c=(0,f.Z)({props:a,name:"MuiLoadingButton"}),u=c.children,m=c.disabled,v=void 0!==m&&m,y=c.id,M=c.loading,x=void 0!==M&&M,A=c.loadingIndicator,R=c.loadingPosition,B=void 0===R?"center":R,E=c.variant,T=void 0===E?"text":E,C=(0,r.Z)(c,w),L=(0,l.Z)(y),P=null!=A?A:(0,g.jsx)(p.Z,{"aria-labelledby":L,color:"inherit",size:16}),I=(0,s.Z)({},c,{disabled:v,loading:x,loadingIndicator:P,loadingPosition:B,variant:T}),H=function(e){var t=e.loading,n=e.loadingPosition,a=e.classes,r={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat((0,o.Z)(n))],endIcon:[t&&"endIconLoading".concat((0,o.Z)(n))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat((0,o.Z)(n))]},i=(0,_.Z)(r,b,a);return(0,s.Z)({},a,i)}(I),V=x?(0,g.jsx)(S,{className:H.loadingIndicator,ownerState:I,children:P}):null;return(0,g.jsxs)(k,(0,s.Z)({disabled:v||x,id:L,ref:t},C,{variant:T,classes:H,ownerState:I,children:["end"===I.loadingPosition?u:V,"end"===I.loadingPosition?V:u]}))}))},37294:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return s},createSvgIcon:function(){return i.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return _.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return u},setRef:function(){return h},unstable_ClassNameGenerator:function(){return k},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return d.Z},unsupportedProp:function(){return m},useControlled:function(){return b.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return w.Z}});var a=n(84925),r=n(14036),s=n(55253).Z,i=n(74223),o=n(83199);var l=function(e,t){return function(){return null}},_=n(5925),c=n(98301),f=n(17602);n(87462);var u=function(e,t){return function(){return null}},h=n(77576).Z,p=n(40162),d=n(67384);var m=function(e,t,n,a,r){return null},b=n(98278),v=n(89683),g=n(42071),w=n(56943),k={configure:function(e){a.Z.configure(e)}}},67384:function(e,t,n){"use strict";var a=n(56046);t.Z=a.Z},72402:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),s=(a.new_float_n,a.new_int,a.new_int_n,a.assert,n(16875));e.exports=function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=r(s.SBMAX_l),this.s=r(s.SBMAX_s),this.psfb21=r(s.PSFB21),this.psfb12=r(s.PSFB12),this.cb_l=r(s.CBANDS),this.cb_s=r(s.CBANDS),this.eql_w=r(s.BLKSIZE/2)}},51024:function(e,t,n){var a=n(95457),r=a.System,s=(a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays),i=(a.new_array_n,a.new_byte),o=(a.new_double,a.new_float,a.new_float_n),l=a.new_int,_=(a.new_int_n,a.assert),c=n(73217),f=n(89884),u=n(16875),h=n(46207);function p(){var e=n(82253),t=this,a=32,p=null,d=null,m=null,b=null;this.setModules=function(e,t,n,a){p=e,d=t,m=n,b=a};var v=null,g=0,w=0,k=0;function S(e){r.arraycopy(e.header[e.w_ptr].buf,0,v,w,e.sideinfo_len),w+=e.sideinfo_len,g+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&h.MAX_HEADER_BUF-1}function y(t,n,r){for(_(r<30);r>0;){var s;0==k&&(k=8,w++,_(w<e.LAME_MAXMP3BUFFER),_(t.header[t.w_ptr].write_timing>=g),t.header[t.w_ptr].write_timing==g&&S(t),v[w]=0),s=Math.min(r,k),k-=s,_((r-=s)<a),_(k<a),v[w]|=n>>r<<k,g+=s}}function M(t,n,r){for(_(r<30);r>0;){var s;0==k&&(k=8,w++,_(w<e.LAME_MAXMP3BUFFER),v[w]=0),s=Math.min(r,k),k-=s,_((r-=s)<a),_(k<a),v[w]|=n>>r<<k,g+=s}}function x(e,t){var n,a=e.internal_flags;if(_(t>=0),t>=8&&(y(a,76,8),t-=8),t>=8&&(y(a,65,8),t-=8),t>=8&&(y(a,77,8),t-=8),t>=8&&(y(a,69,8),t-=8),t>=32){var r=m.getLameShortVersion();if(t>=32)for(n=0;n<r.length&&t>=8;++n)t-=8,y(a,r.charAt(n),8)}for(;t>=1;t-=1)y(a,a.ancillary_flag,1),a.ancillary_flag^=e.disable_reservoir?0:1;_(0==t)}function A(e,t,n){for(var r=e.header[e.h_ptr].ptr;n>0;){var s=Math.min(n,8-(7&r));_((n-=s)<a),e.header[e.h_ptr].buf[r>>3]|=t>>n<<8-(7&r)-s,r+=s}e.header[e.h_ptr].ptr=r}function R(e,t){e<<=8;for(var n=0;n<8;n++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=32773);return t}function B(e,t){var n,a=f.ht[t.count1table_select+32],r=0,s=t.big_values,i=t.big_values;for(_(t.count1table_select<2),n=(t.count1-t.big_values)/4;n>0;--n){var o,l=0,c=0;0!=(o=t.l3_enc[s+0])&&(c+=8,t.xr[i+0]<0&&l++,_(o<=1)),0!=(o=t.l3_enc[s+1])&&(c+=4,l*=2,t.xr[i+1]<0&&l++,_(o<=1)),0!=(o=t.l3_enc[s+2])&&(c+=2,l*=2,t.xr[i+2]<0&&l++,_(o<=1)),0!=(o=t.l3_enc[s+3])&&(c++,l*=2,t.xr[i+3]<0&&l++,_(o<=1)),s+=4,i+=4,y(e,l+a.table[c],a.hlen[c]),r+=a.hlen[c]}return r}function E(e,t,n,r,s){var i=f.ht[t],o=0;if(_(t<32),0==t)return o;for(var l=n;l<r;l+=2){var c=0,u=0,h=i.xlen,p=i.xlen,d=0,m=s.l3_enc[l],b=s.l3_enc[l+1];if(0!=m&&(s.xr[l]<0&&d++,c--),t>15){if(m>14){var v=m-15;_(v<=i.linmax),d|=v<<1,u=h,m=15}if(b>14){var g=b-15;_(g<=i.linmax),d<<=h,d|=g,u+=h,b=15}p=16}0!=b&&(d<<=1,s.xr[l+1]<0&&d++,c--),_((m|b)<16),m=m*p+b,u-=c,c+=i.hlen[m],_(c<=a),_(u<=a),y(e,i.table[m],c),y(e,d,u),o+=c+u}return o}function T(e,t){var n=3*e.scalefac_band.s[3];n>t.big_values&&(n=t.big_values);var a=E(e,t.table_select[0],0,n,t);return a+=E(e,t.table_select[1],n,t.big_values,t)}function C(e,t){var n,a,r,s;n=t.big_values,_(0<=n&&n<=576);var i=t.region0_count+1;return _(0<=i),_(i<e.scalefac_band.l.length),r=e.scalefac_band.l[i],i+=t.region1_count+1,_(0<=i),_(i<e.scalefac_band.l.length),r>n&&(r=n),(s=e.scalefac_band.l[i])>n&&(s=n),a=E(e,t.table_select[0],0,r,t),a+=E(e,t.table_select[1],r,s,t),a+=E(e,t.table_select[2],s,n,t)}function L(){this.total=0}function P(e,n){var a,s,i,o,l,_=e.internal_flags;return l=_.w_ptr,-1==(o=_.h_ptr-1)&&(o=h.MAX_HEADER_BUF-1),a=_.header[o].write_timing-g,n.total=a,a>=0&&(s=1+o-l,o<l&&(s=1+o-l+h.MAX_HEADER_BUF),a-=8*s*_.sideinfo_len),a+=i=t.getframebits(e),n.total+=i,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=w+1,a<0&&r.err.println("strange error flushing buffer ... \n"),a}this.getframebits=function(e){var t,n=e.internal_flags;return t=0!=n.bitrate_index?f.bitrate_table[e.version][n.bitrate_index]:e.brate,_(8<=t&&t<=640),8*(0|72e3*(e.version+1)*t/e.out_samplerate+n.padding)},this.CRC_writeheader=function(e,t){var n=65535;n=R(255&t[2],n),n=R(255&t[3],n);for(var a=6;a<e.sideinfo_len;a++)n=R(255&t[a],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,a=e.internal_flags,r=a.h_ptr-1;if(-1==r&&(r=h.MAX_HEADER_BUF-1),t=a.l3_side,!((n=P(e,new L))<0)){if(x(e,n),_(a.header[r].write_timing+this.getframebits(e)==g),a.ResvSize=0,t.main_data_begin=0,a.findReplayGain){var s=p.GetTitleGain(a.rgdata);_(NEQ(s,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),a.RadioGain=0|Math.floor(10*s+.5)}a.findPeakSample&&(a.noclipGainChange=0|Math.ceil(20*Math.log10(a.PeakSample/32767)*10),a.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?a.noclipScale=Math.floor(32767/a.PeakSample*100)/100:a.noclipScale=-1)}},this.add_dummy_byte=function(e,t,n){for(var a,r=e.internal_flags;n-- >0;)for(M(0,t,8),a=0;a<h.MAX_HEADER_BUF;++a)r.header[a].write_timing+=8},this.format_bitstream=function(e){var t,n=e.internal_flags;t=n.l3_side;var a=this.getframebits(e);x(e,t.resvDrain_pre),function(e,t){var n,a,i,o=e.internal_flags;if(n=o.l3_side,o.header[o.h_ptr].ptr=0,s.fill(o.header[o.h_ptr].buf,0,o.sideinfo_len,0),e.out_samplerate<16e3?A(o,4094,12):A(o,4095,12),A(o,e.version,1),A(o,1,2),A(o,e.error_protection?0:1,1),A(o,o.bitrate_index,4),A(o,o.samplerate_index,2),A(o,o.padding,1),A(o,e.extension,1),A(o,e.mode.ordinal(),2),A(o,o.mode_ext,2),A(o,e.copyright,1),A(o,e.original,1),A(o,e.emphasis,2),e.error_protection&&A(o,0,16),1==e.version){for(_(n.main_data_begin>=0),A(o,n.main_data_begin,9),2==o.channels_out?A(o,n.private_bits,3):A(o,n.private_bits,5),i=0;i<o.channels_out;i++){var l;for(l=0;l<4;l++)A(o,n.scfsi[i][l],1)}for(a=0;a<2;a++)for(i=0;i<o.channels_out;i++)A(o,(c=n.tt[a][i]).part2_3_length+c.part2_length,12),A(o,c.big_values/2,9),A(o,c.global_gain,8),A(o,c.scalefac_compress,4),c.block_type!=u.NORM_TYPE?(A(o,1,1),A(o,c.block_type,2),A(o,c.mixed_block_flag,1),14==c.table_select[0]&&(c.table_select[0]=16),A(o,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),A(o,c.table_select[1],5),A(o,c.subblock_gain[0],3),A(o,c.subblock_gain[1],3),A(o,c.subblock_gain[2],3)):(A(o,0,1),14==c.table_select[0]&&(c.table_select[0]=16),A(o,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),A(o,c.table_select[1],5),14==c.table_select[2]&&(c.table_select[2]=16),A(o,c.table_select[2],5),_(0<=c.region0_count&&c.region0_count<16),_(0<=c.region1_count&&c.region1_count<8),A(o,c.region0_count,4),A(o,c.region1_count,3)),A(o,c.preflag,1),A(o,c.scalefac_scale,1),A(o,c.count1table_select,1)}else for(_(n.main_data_begin>=0),A(o,n.main_data_begin,8),A(o,n.private_bits,o.channels_out),a=0,i=0;i<o.channels_out;i++){var c;A(o,(c=n.tt[a][i]).part2_3_length+c.part2_length,12),A(o,c.big_values/2,9),A(o,c.global_gain,8),A(o,c.scalefac_compress,9),c.block_type!=u.NORM_TYPE?(A(o,1,1),A(o,c.block_type,2),A(o,c.mixed_block_flag,1),14==c.table_select[0]&&(c.table_select[0]=16),A(o,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),A(o,c.table_select[1],5),A(o,c.subblock_gain[0],3),A(o,c.subblock_gain[1],3),A(o,c.subblock_gain[2],3)):(A(o,0,1),14==c.table_select[0]&&(c.table_select[0]=16),A(o,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),A(o,c.table_select[1],5),14==c.table_select[2]&&(c.table_select[2]=16),A(o,c.table_select[2],5),_(0<=c.region0_count&&c.region0_count<16),_(0<=c.region1_count&&c.region1_count<8),A(o,c.region0_count,4),A(o,c.region1_count,3)),A(o,c.scalefac_scale,1),A(o,c.count1table_select,1)}e.error_protection&&CRC_writeheader(o,o.header[o.h_ptr].buf);var f=o.h_ptr;_(o.header[f].ptr==8*o.sideinfo_len),o.h_ptr=f+1&h.MAX_HEADER_BUF-1,o.header[o.h_ptr].write_timing=o.header[f].write_timing+t,o.h_ptr==o.w_ptr&&r.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(e,a);var i=8*n.sideinfo_len;if(i+=function(e){var t,n,a,r,s=0,i=e.internal_flags,o=i.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<i.channels_out;n++){var l=o.tt[t][n],f=c.slen1_tab[l.scalefac_compress],h=c.slen2_tab[l.scalefac_compress];for(r=0,a=0;a<l.sfbdivide;a++)-1!=l.scalefac[a]&&(y(i,l.scalefac[a],f),r+=f);for(;a<l.sfbmax;a++)-1!=l.scalefac[a]&&(y(i,l.scalefac[a],h),r+=h);_(r==l.part2_length),l.block_type==u.SHORT_TYPE?r+=T(i,l):r+=C(i,l),r+=B(i,l),_(r==l.part2_3_length+l.part2_length),s+=r}else for(t=0,n=0;n<i.channels_out;n++){l=o.tt[t][n];var p,d,m=0;if(_(null!=l.sfb_partition_table),r=0,a=0,d=0,l.block_type==u.SHORT_TYPE){for(;d<4;d++){var b=l.sfb_partition_table[d]/3,v=l.slen[d];for(p=0;p<b;p++,a++)y(i,Math.max(l.scalefac[3*a+0],0),v),y(i,Math.max(l.scalefac[3*a+1],0),v),y(i,Math.max(l.scalefac[3*a+2],0),v),m+=3*v}r+=T(i,l)}else{for(;d<4;d++)for(b=l.sfb_partition_table[d],v=l.slen[d],p=0;p<b;p++,a++)y(i,Math.max(l.scalefac[a],0),v),m+=v;r+=C(i,l)}r+=B(i,l),_(r==l.part2_3_length),_(m==l.part2_length),s+=m+r}return s}(e),x(e,t.resvDrain_post),i+=t.resvDrain_post,t.main_data_begin+=(a-i)/8,P(e,new L)!=n.ResvSize&&r.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=n.ResvSize&&(r.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,n.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*n.sideinfo_len,i-t.resvDrain_post-8*n.sideinfo_len,i,i%8,a),r.err.println("This is a fatal error.  It has several possible causes:"),r.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),r.err.println(" 9%%  Your system is overclocked"),r.err.println(" 1%%  bug in LAME encoding library"),n.ResvSize=8*t.main_data_begin),_(g%8==0),g>1e9){var o;for(o=0;o<h.MAX_HEADER_BUF;++o)n.header[o].write_timing-=g;g=0}return 0},this.copy_buffer=function(e,t,n,a,s){var i=w+1;if(i<=0)return 0;if(0!=a&&i>a)return-1;if(r.arraycopy(v,0,t,n,i),w=-1,k=0,0!=s){var c=l(1);if(c[0]=e.nMusicCRC,b.updateMusicCRC(c,t,n,i),e.nMusicCRC=c[0],i>0&&(e.VBR_seek_table.nBytesWritten+=i),e.decode_on_the_fly)for(var f,u=o([2,1152]),h=i,m=-1;0!=m;)if(m=d.hip_decode1_unclipped(e.hip,t,n,h,u[0],u[1]),h=0,-1==m&&(m=0),m>0){if(_(m<=1152),e.findPeakSample){for(f=0;f<m;f++)u[0][f]>e.PeakSample?e.PeakSample=u[0][f]:-u[0][f]>e.PeakSample&&(e.PeakSample=-u[0][f]);if(e.channels_out>1)for(f=0;f<m;f++)u[1][f]>e.PeakSample?e.PeakSample=u[1][f]:-u[1][f]>e.PeakSample&&(e.PeakSample=-u[1][f])}if(e.findReplayGain&&p.AnalyzeSamples(e.rgdata,u[0],0,u[1],0,m,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return i},this.init_bit_stream_w=function(t){v=i(e.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,w=-1,k=0,g=0}}p.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},p.NEQ=function(e,t){return!p.EQ(e,t)},e.exports=p},1427:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),s=(a.new_float_n,a.new_int),i=(a.new_int_n,a.assert),o=n(33266),l=n(16875),_=n(50413),c=n(46207);e.exports=function(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,n,a){var f,u=e.internal_flags,h=r(_.SFBMAX),p=r(576),d=s(2),m=0,b=u.l3_side,v=new o(m);this.quantize.rv.ResvFrameBegin(e,v),m=v.bits;for(var g=0;g<u.mode_gr;g++){f=this.quantize.qupvt.on_pe(e,t,d,m,g,g),u.mode_ext==l.MPG_MD_MS_LR&&(this.quantize.ms_convert(u.l3_side,g),this.quantize.qupvt.reduce_side(d,n[g],m,f));for(var w=0;w<u.channels_out;w++){var k,S,y=b.tt[g][w];y.block_type!=l.SHORT_TYPE?(k=0,S=u.PSY.mask_adjust-k):(k=0,S=u.PSY.mask_adjust_short-k),u.masking_lower=Math.pow(10,.1*S),this.quantize.init_outer_loop(u,y),this.quantize.init_xrpow(u,y,p)&&(this.quantize.qupvt.calc_xmin(e,a[g][w],y,h),this.quantize.outer_loop(e,y,h,p,w,d[w])),this.quantize.iteration_finish_one(u,g,w),i(y.part2_3_length<=c.MAX_BITS_PER_CHANNEL),i(y.part2_3_length<=d[w])}}this.quantize.rv.ResvFrameEnd(u,m)}}},85364:function(e,t,n){var a=n(95457),r=a.new_float,s=a.new_int;a.assert;e.exports=function(){this.global_gain=0,this.sfb_count1=0,this.step=s(39),this.noise=r(39),this.noise_log=r(39)}},46967:function(e){e.exports=function(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}},16875:function(e,t,n){var a=n(95457),r=a.System,s=a.VbrMode,i=(a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n),o=(a.new_byte,a.new_double,a.new_float),l=a.new_float_n,_=a.new_int,c=(a.new_int_n,a.assert);function f(){var e=n(62861),t=n(47068),a=n(91326),u=f.FFTOFFSET,h=f.MPG_MD_MS_LR,p=null;this.psy=null;var d=null,m=null,b=null;this.setModules=function(e,t,n,a){p=e,this.psy=t,d=t,m=a,b=n};var v=new e;this.lame_encode_mp3_frame=function(e,n,g,w,k,S){var y,M=i([2,2]);M[0][0]=new t,M[0][1]=new t,M[1][0]=new t,M[1][1]=new t;var x,A=i([2,2]);A[0][0]=new t,A[0][1]=new t,A[1][0]=new t,A[1][1]=new t;var R,B,E,T=[null,null],C=e.internal_flags,L=l([2,4]),P=[.5,.5],I=[[0,0],[0,0]],H=[[0,0],[0,0]];if(T[0]=n,T[1]=g,0==C.lame_encode_frame_init&&function(e,t){var n,a,r=e.internal_flags;if(0==r.lame_encode_frame_init){var s,i,l=o(2014),_=o(2014);for(r.lame_encode_frame_init=1,s=0,i=0;s<286+576*(1+r.mode_gr);++s)s<576*r.mode_gr?(l[s]=0,2==r.channels_out&&(_[s]=0)):(l[s]=t[0][i],2==r.channels_out&&(_[s]=t[1][i]),++i);for(a=0;a<r.mode_gr;a++)for(n=0;n<r.channels_out;n++)r.l3_side.tt[a][n].block_type=f.SHORT_TYPE;v.mdct_sub48(r,l,_),c(576>=f.FFTOFFSET),c(r.mf_size>=f.BLKSIZE+e.framesize-f.FFTOFFSET),c(r.mf_size>=512+e.framesize-32)}}(e,T),C.padding=0,(C.slot_lag-=C.frac_SpF)<0&&(C.slot_lag+=e.out_samplerate,C.padding=1),0!=C.psymodel){var V=[null,null],O=0,N=_(2);for(E=0;E<C.mode_gr;E++){for(B=0;B<C.channels_out;B++)V[B]=T[B],O=576+576*E-f.FFTOFFSET;if(0!=(e.VBR==s.vbr_mtrh||e.VBR==s.vbr_mt?d.L3psycho_anal_vbr(e,V,O,E,M,A,I[E],H[E],L[E],N):d.L3psycho_anal_ns(e,V,O,E,M,A,I[E],H[E],L[E],N)))return-4;for(e.mode==a.JOINT_STEREO&&(P[E]=L[E][2]+L[E][3],P[E]>0&&(P[E]=L[E][3]/P[E])),B=0;B<C.channels_out;B++){var j=C.l3_side.tt[E][B];j.block_type=N[B],j.mixed_block_flag=0}}}else for(E=0;E<C.mode_gr;E++)for(B=0;B<C.channels_out;B++)C.l3_side.tt[E][B].block_type=f.NORM_TYPE,C.l3_side.tt[E][B].mixed_block_flag=0,H[E][B]=I[E][B]=700;if(function(e){var t,n;if(0!=e.ATH.useAdjust)if(n=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(n+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(n+=n,t+=t),2==e.mode_gr&&(n=Math.max(n,t)),n*=.5,(n*=e.ATH.aaSensitivityP)>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var a=31.98*n+625e-6;e.ATH.adjust>=a?(e.ATH.adjust*=.075*a+.925,e.ATH.adjust<a&&(e.ATH.adjust=a)):e.ATH.adjustLimit>=a?e.ATH.adjust=a:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=a}else e.ATH.adjust=1}(C),v.mdct_sub48(C,T[0],T[1]),C.mode_ext=f.MPG_MD_LR_LR,e.force_ms)C.mode_ext=f.MPG_MD_MS_LR;else if(e.mode==a.JOINT_STEREO){var D=0,F=0;for(E=0;E<C.mode_gr;E++)for(B=0;B<C.channels_out;B++)D+=H[E][B],F+=I[E][B];if(D<=1*F){var z=C.l3_side.tt[0],Z=C.l3_side.tt[C.mode_gr-1];z[0].block_type==z[1].block_type&&Z[0].block_type==Z[1].block_type&&(C.mode_ext=f.MPG_MD_MS_LR)}}if(C.mode_ext==h?(x=A,R=H):(x=M,R=I),e.analysis&&null!=C.pinfo)for(E=0;E<C.mode_gr;E++)for(B=0;B<C.channels_out;B++)C.pinfo.ms_ratio[E]=C.ms_ratio[E],C.pinfo.ms_ener_ratio[E]=P[E],C.pinfo.blocktype[E][B]=C.l3_side.tt[E][B].block_type,C.pinfo.pe[E][B]=R[E][B],r.arraycopy(C.l3_side.tt[E][B].xr,0,C.pinfo.xr[E][B],0,576),C.mode_ext==h&&(C.pinfo.ers[E][B]=C.pinfo.ers[E][B+2],r.arraycopy(C.pinfo.energy[E][B+2],0,C.pinfo.energy[E][B],0,C.pinfo.energy[E][B].length));if(e.VBR==s.vbr_off||e.VBR==s.vbr_abr){var X,q;for(X=0;X<18;X++)C.nsPsy.pefirbuf[X]=C.nsPsy.pefirbuf[X+1];for(q=0,E=0;E<C.mode_gr;E++)for(B=0;B<C.channels_out;B++)q+=R[E][B];for(C.nsPsy.pefirbuf[18]=q,q=C.nsPsy.pefirbuf[9],X=0;X<9;X++)q+=(C.nsPsy.pefirbuf[X]+C.nsPsy.pefirbuf[18-X])*f.fircoef[X];for(q=3350*C.mode_gr*C.channels_out/q,E=0;E<C.mode_gr;E++)for(B=0;B<C.channels_out;B++)R[E][B]*=q}if(C.iteration_loop.iteration_loop(e,R,P,x),p.format_bitstream(e),y=p.copy_buffer(C,w,k,S,1),e.bWriteVbrTag&&m.addVbrFrame(e),e.analysis&&null!=C.pinfo){for(B=0;B<C.channels_out;B++){var Y;for(Y=0;Y<u;Y++)C.pinfo.pcmdata[B][Y]=C.pinfo.pcmdata[B][Y+e.framesize];for(Y=u;Y<1600;Y++)C.pinfo.pcmdata[B][Y]=T[B][Y-u]}b.set_frame_pinfo(e,x)}return function(e){var t,n;for(c(0<=e.bitrate_index&&e.bitrate_index<16),c(0<=e.mode_ext&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(n=0;n<e.channels_out;++n){var a=0|e.l3_side.tt[t][n].block_type;0!=e.l3_side.tt[t][n].mixed_block_flag&&(a=4),e.bitrate_blockType_Hist[e.bitrate_index][a]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][a]++,e.bitrate_blockType_Hist[15][5]++}}(C),y}}f.ENCDELAY=576,f.POSTDELAY=1152,f.MDCTDELAY=48,f.FFTOFFSET=224+f.MDCTDELAY,f.DECDELAY=528,f.SBLIMIT=32,f.CBANDS=64,f.SBPSY_l=21,f.SBPSY_s=12,f.SBMAX_l=22,f.SBMAX_s=13,f.PSFB21=6,f.PSFB12=6,f.BLKSIZE=1024,f.HBLKSIZE=f.BLKSIZE/2+1,f.BLKSIZE_s=256,f.HBLKSIZE_s=f.BLKSIZE_s/2+1,f.NORM_TYPE=0,f.START_TYPE=1,f.SHORT_TYPE=2,f.STOP_TYPE=3,f.MPG_MD_LR_LR=0,f.MPG_MD_LR_I=1,f.MPG_MD_MS_LR=2,f.MPG_MD_MS_I=3,f.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],e.exports=f},34858:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util),s=(a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),i=(a.new_float_n,a.new_int,a.new_int_n,a.assert,n(16875));e.exports=function(){var e=s(i.BLKSIZE),t=s(i.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(e,t,a){var s,i,o,l=0,_=t+(a<<=1);s=4;do{var c,f,u,h,p,d,m;m=s>>1,d=(p=s<<1)+(h=s),s=p<<1,o=(i=t)+m;do{y=e[i+0]-e[i+h],S=e[i+0]+e[i+h],R=e[i+p]-e[i+d],x=e[i+p]+e[i+d],e[i+p]=S-x,e[i+0]=S+x,e[i+d]=y-R,e[i+h]=y+R,y=e[o+0]-e[o+h],S=e[o+0]+e[o+h],R=r.SQRT2*e[o+d],x=r.SQRT2*e[o+p],e[o+p]=S-x,e[o+0]=S+x,e[o+d]=y-R,e[o+h]=y+R,o+=s,i+=s}while(i<_);for(f=n[l+0],c=n[l+1],u=1;u<m;u++){var b,v;b=1-2*c*c,v=2*c*f,i=t+u,o=t+h-u;do{var g,w,k,S,y,M,x,A,R,B;w=v*e[i+h]-b*e[o+h],g=b*e[i+h]+v*e[o+h],y=e[i+0]-g,S=e[i+0]+g,M=e[o+0]-w,k=e[o+0]+w,w=v*e[i+d]-b*e[o+d],g=b*e[i+d]+v*e[o+d],R=e[i+p]-g,x=e[i+p]+g,B=e[o+p]-w,A=e[o+p]+w,w=c*x-f*B,g=f*x+c*B,e[i+p]=S-g,e[i+0]=S+g,e[o+d]=M-w,e[o+h]=M+w,w=f*A-c*R,g=c*A+f*R,e[o+p]=k-g,e[o+0]=k+g,e[i+d]=y-w,e[i+h]=y+w,o+=s,i+=s}while(i<_);f=(b=f)*n[l+0]-c*n[l+1],c=b*n[l+1]+c*n[l+0]}l+=2}while(s<a)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,r,s,l){for(var _=0;_<3;_++){var c=i.BLKSIZE_s/2,f=65535&192*(_+1),u=i.BLKSIZE_s/8-1;do{var h,p,d,m,b,v=255&o[u<<2];p=(h=t[v]*s[r][l+v+f])-(b=t[127-v]*s[r][l+v+f+128]),h+=b,m=(d=t[v+64]*s[r][l+v+f+64])-(b=t[63-v]*s[r][l+v+f+192]),d+=b,c-=4,n[_][c+0]=h+d,n[_][c+2]=h-d,n[_][c+1]=p+m,n[_][c+3]=p-m,p=(h=t[v+1]*s[r][l+v+f+1])-(b=t[126-v]*s[r][l+v+f+129]),h+=b,m=(d=t[v+65]*s[r][l+v+f+65])-(b=t[62-v]*s[r][l+v+f+193]),d+=b,n[_][c+i.BLKSIZE_s/2+0]=h+d,n[_][c+i.BLKSIZE_s/2+2]=h-d,n[_][c+i.BLKSIZE_s/2+1]=p+m,n[_][c+i.BLKSIZE_s/2+3]=p-m}while(--u>=0);a(n[_],c,i.BLKSIZE_s/2)}},this.fft_long=function(t,n,r,s,l){var _=i.BLKSIZE/8-1,c=i.BLKSIZE/2;do{var f,u,h,p,d,m=255&o[_];u=(f=e[m]*s[r][l+m])-(d=e[m+512]*s[r][l+m+512]),f+=d,p=(h=e[m+256]*s[r][l+m+256])-(d=e[m+768]*s[r][l+m+768]),h+=d,n[(c-=4)+0]=f+h,n[c+2]=f-h,n[c+1]=u+p,n[c+3]=u-p,u=(f=e[m+1]*s[r][l+m+1])-(d=e[m+513]*s[r][l+m+513]),f+=d,p=(h=e[m+257]*s[r][l+m+257])-(d=e[m+769]*s[r][l+m+769]),h+=d,n[c+i.BLKSIZE/2+0]=f+h,n[c+i.BLKSIZE/2+2]=f-h,n[c+i.BLKSIZE/2+1]=u+p,n[c+i.BLKSIZE/2+3]=u-p}while(--_>=0);a(n,c,i.BLKSIZE/2)},this.init_fft=function(n){for(var a=0;a<i.BLKSIZE;a++)e[a]=.42-.5*Math.cos(2*Math.PI*(a+.5)/i.BLKSIZE)+.08*Math.cos(4*Math.PI*(a+.5)/i.BLKSIZE);for(a=0;a<i.BLKSIZE_s/2;a++)t[a]=.5*(1-Math.cos(2*Math.PI*(a+.5)/i.BLKSIZE_s))}}},22913:function(e,t,n){var a=n(95457),r=a.System,s=(a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays);a.new_array_n,a.new_byte,a.new_double,a.new_float,a.new_float_n,a.new_int,a.new_int_n,a.assert;function i(){i.YULE_ORDER,i.MAX_SAMP_FREQ;var e=i.RMS_WINDOW_TIME_NUMERATOR,t=i.RMS_WINDOW_TIME_DENOMINATOR,n=(i.MAX_SAMPLES_PER_WINDOW,[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]]),a=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function o(e,t,n,a,r,s){for(;0!=r--;)n[a]=1e-10+e[t+0]*s[0]-n[a-1]*s[1]+e[t-1]*s[2]-n[a-2]*s[3]+e[t-2]*s[4]-n[a-3]*s[5]+e[t-3]*s[6]-n[a-4]*s[7]+e[t-4]*s[8]-n[a-5]*s[9]+e[t-5]*s[10]-n[a-6]*s[11]+e[t-6]*s[12]-n[a-7]*s[13]+e[t-7]*s[14]-n[a-8]*s[15]+e[t-8]*s[16]-n[a-9]*s[17]+e[t-9]*s[18]-n[a-10]*s[19]+e[t-10]*s[20],++a,++t}function l(e,t,n,a,r,s){for(;0!=r--;)n[a]=e[t+0]*s[0]-n[a-1]*s[1]+e[t-1]*s[2]-n[a-2]*s[3]+e[t-2]*s[4],++a,++t}function _(e){return e*e}this.InitGainAnalysis=function(n,a){return function(n,a){for(var r=0;r<MAX_ORDER;r++)n.linprebuf[r]=n.lstepbuf[r]=n.loutbuf[r]=n.rinprebuf[r]=n.rstepbuf[r]=n.routbuf[r]=0;switch(0|a){case 48e3:n.reqindex=0;break;case 44100:n.reqindex=1;break;case 32e3:n.reqindex=2;break;case 24e3:n.reqindex=3;break;case 22050:n.reqindex=4;break;case 16e3:n.reqindex=5;break;case 12e3:n.reqindex=6;break;case 11025:n.reqindex=7;break;case 8e3:n.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return n.sampleWindow=0|(a*e+t-1)/t,n.lsum=0,n.rsum=0,n.totsamp=0,s.ill(n.A,0),INIT_GAIN_ANALYSIS_OK}(n,a)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(n.linpre=MAX_ORDER,n.rinpre=MAX_ORDER,n.lstep=MAX_ORDER,n.rstep=MAX_ORDER,n.lout=MAX_ORDER,n.rout=MAX_ORDER,s.fill(n.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,s,c,f,u,h){var p,d,m,b,v,g,w;if(0==u)return GAIN_ANALYSIS_OK;switch(w=0,v=u,h){case 1:c=t,f=s;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(u<MAX_ORDER?(r.arraycopy(t,s,e.linprebuf,MAX_ORDER,u),r.arraycopy(c,f,e.rinprebuf,MAX_ORDER,u)):(r.arraycopy(t,s,e.linprebuf,MAX_ORDER,MAX_ORDER),r.arraycopy(c,f,e.rinprebuf,MAX_ORDER,MAX_ORDER));v>0;){g=v>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:v,w<MAX_ORDER?(p=e.linpre+w,d=e.linprebuf,m=e.rinpre+w,b=e.rinprebuf,g>MAX_ORDER-w&&(g=MAX_ORDER-w)):(p=s+w,d=t,m=f+w,b=c),o(d,p,e.lstepbuf,e.lstep+e.totsamp,g,n[e.reqindex]),o(b,m,e.rstepbuf,e.rstep+e.totsamp,g,n[e.reqindex]),l(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,g,a[e.reqindex]),l(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,g,a[e.reqindex]),p=e.lout+e.totsamp,d=e.loutbuf,m=e.rout+e.totsamp,b=e.routbuf;for(var k=g%8;0!=k--;)e.lsum+=_(d[p++]),e.rsum+=_(b[m++]);for(k=g/8;0!=k--;)e.lsum+=_(d[p+0])+_(d[p+1])+_(d[p+2])+_(d[p+3])+_(d[p+4])+_(d[p+5])+_(d[p+6])+_(d[p+7]),p+=8,e.rsum+=_(b[m+0])+_(b[m+1])+_(b[m+2])+_(b[m+3])+_(b[m+4])+_(b[m+5])+_(b[m+6])+_(b[m+7]),m+=8;if(v-=g,w+=g,e.totsamp+=g,e.totsamp==e.sampleWindow){var S=10*i.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),y=S<=0?0:0|S;y>=e.A.length&&(y=e.A.length-1),e.A[y]++,e.lsum=e.rsum=0,r.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),r.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),r.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),r.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return u<MAX_ORDER?(r.arraycopy(e.linprebuf,u,e.linprebuf,0,MAX_ORDER-u),r.arraycopy(e.rinprebuf,u,e.rinprebuf,0,MAX_ORDER-u),r.arraycopy(t,s,e.linprebuf,MAX_ORDER-u,u),r.arraycopy(c,f,e.rinprebuf,MAX_ORDER-u,u)):(r.arraycopy(t,s+u-MAX_ORDER,e.linprebuf,0,MAX_ORDER),r.arraycopy(c,f+u-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=function(e,t){var n,a=0;for(n=0;n<t;n++)a+=e[n];if(0==a)return GAIN_NOT_ENOUGH_SAMPLES;var r=0|Math.ceil(a*(1-.95));for(n=t;n-- >0&&!((r-=e[n])<=0););return 64.82-n/i.STEPS_per_dB}(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}i.STEPS_per_dB=100,i.MAX_dB=120,i.GAIN_NOT_ENOUGH_SAMPLES=-24601,i.GAIN_ANALYSIS_ERROR=0,i.GAIN_ANALYSIS_OK=1,i.INIT_GAIN_ANALYSIS_ERROR=0,i.INIT_GAIN_ANALYSIS_OK=1,i.YULE_ORDER=10,i.MAX_ORDER=i.YULE_ORDER,i.MAX_SAMP_FREQ=48e3,i.RMS_WINDOW_TIME_NUMERATOR=1,i.RMS_WINDOW_TIME_DENOMINATOR=20,i.MAX_SAMPLES_PER_WINDOW=i.MAX_SAMP_FREQ*i.RMS_WINDOW_TIME_NUMERATOR/i.RMS_WINDOW_TIME_DENOMINATOR+1,e.exports=i},3066:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),s=(a.new_float_n,a.new_int),i=(a.new_int_n,a.assert,n(50413));e.exports=function(){this.xr=r(576),this.l3_enc=s(576),this.scalefac=s(i.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=s(3),this.subblock_gain=s(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=s(i.SFBMAX),this.window=s(i.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=s(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(n){var a;e.xr=(a=n.xr,new Float32Array(a)),e.l3_enc=t(n.l3_enc),e.scalefac=t(n.scalefac),e.xrpow_max=n.xrpow_max,e.part2_3_length=n.part2_3_length,e.big_values=n.big_values,e.count1=n.count1,e.global_gain=n.global_gain,e.scalefac_compress=n.scalefac_compress,e.block_type=n.block_type,e.mixed_block_flag=n.mixed_block_flag,e.table_select=t(n.table_select),e.subblock_gain=t(n.subblock_gain),e.region0_count=n.region0_count,e.region1_count=n.region1_count,e.preflag=n.preflag,e.scalefac_scale=n.scalefac_scale,e.count1table_select=n.count1table_select,e.part2_length=n.part2_length,e.sfb_lmax=n.sfb_lmax,e.sfb_smin=n.sfb_smin,e.psy_lmax=n.psy_lmax,e.sfbmax=n.sfbmax,e.psymax=n.psymax,e.sfbdivide=n.sfbdivide,e.width=t(n.width),e.window=t(n.window),e.count1bits=n.count1bits,e.sfb_partition_table=n.sfb_partition_table.slice(0),e.slen=t(n.slen),e.max_nonzero_coeff=n.max_nonzero_coeff}}},47857:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float,a.new_float_n,a.new_int),s=(a.new_int_n,a.assert,n(3066));e.exports=function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[r(4),r(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new s}},47068:function(e,t,n){var a=n(73888);e.exports=function(){this.thm=new a,this.en=new a}},73888:function(e,t,n){var a=n(16875),r=n(95457),s=r.System,i=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),o=r.new_float_n;r.new_int,r.new_int_n,r.assert;e.exports=function(){this.l=i(a.SBMAX_l),this.s=o([a.SBMAX_s,3]);var e=this;this.assign=function(t){s.arraycopy(t.l,0,e.l,0,a.SBMAX_l);for(var n=0;n<a.SBMAX_s;n++)for(var r=0;r<3;r++)e.s[n][r]=t.s[n][r]}}},50413:function(e,t,n){var a=n(16875),r={};r.SFBMAX=3*a.SBMAX_s,e.exports=r},82253:function(e,t,n){var a=n(95457),r=a.System,s=a.VbrMode,i=(a.Float,a.ShortBlock),o=(a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),l=(a.new_float_n,a.new_int,a.new_int_n),_=a.new_short_n,c=a.assert,f=n(74711),u=n(64843),h=n(46207),p=n(72402),d=n(16244),m=n(1427),b=n(51024),v=n(89884),g=n(16875);e.exports=function e(){var t,a,w,k,S,y=n(91326),M=this;e.V9=410,e.V8=420,e.V7=430,e.V6=440,e.V5=450,e.V4=460,e.V3=470,e.V2=480,e.V1=490,e.V0=500,e.R3MIX=1e3,e.STANDARD=1001,e.EXTREME=1002,e.INSANE=1003,e.STANDARD_FAST=1004,e.EXTREME_FAST=1005,e.MEDIUM=1006,e.MEDIUM_FAST=1007,e.LAME_MAXMP3BUFFER=147456;var x,A,R,B=new f;function E(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(g.SBMAX_l),this.bo_s_weight=o(g.SBMAX_s)}function T(){this.lowerlimit=0}function C(e,t){this.lowpass=t}this.enc=new g,this.setModules=function(e,n,r,s,i,o,l,_,c){t=e,a=n,w=r,k=s,S=i,x=o,l,A=_,R=c,this.enc.setModules(a,B,k,x)};var L=4294479419;function P(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function I(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0,0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function H(e,t,n){n<16e3&&(t=2);for(var a=v.bitrate_table[t][1],r=2;r<=14;r++)v.bitrate_table[t][r]>0&&Math.abs(v.bitrate_table[t][r]-e)<Math.abs(a-e)&&(a=v.bitrate_table[t][r]);return a}function V(e,t,n){n<16e3&&(t=2);for(var a=0;a<=14;a++)if(v.bitrate_table[t][a]>0&&v.bitrate_table[t][a]==e)return a;return-1}function O(e,t){var n=[new C(8,2e3),new C(16,3700),new C(24,3900),new C(32,5500),new C(40,7e3),new C(48,7500),new C(56,1e4),new C(64,11e3),new C(80,13500),new C(96,15100),new C(112,15600),new C(128,17e3),new C(160,17500),new C(192,18600),new C(224,19400),new C(256,19700),new C(320,20500)],a=M.nearestBitrateFullIndex(t);e.lowerlimit=n[a].lowpass}function N(e){var t=g.BLKSIZE+e.framesize-g.FFTOFFSET;return t=Math.max(t,512+e.framesize-32),c(h.MFSIZE>=t),t}function j(e,t,n,a,r,s){var i=M.enc.lame_encode_mp3_frame(e,t,n,a,r,s);return e.frameNum++,i}function D(){this.n_in=0,this.n_out=0}function F(){this.num_used=0}function z(e,t){return 0!=t?z(t,e%t):e}function Z(e,t,n){var a=Math.PI*t;(e/=n)<0&&(e=0),e>1&&(e=1);var r=e-.5,s=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(r)<1e-9?a/Math.PI:s*Math.sin(n*a*r)/(Math.PI*n*r)}function X(e,t,n,a,r,s,i,l,_){var f,u,p=e.internal_flags,d=0,m=e.out_samplerate/z(e.out_samplerate,e.in_samplerate);m>h.BPC&&(m=h.BPC);var b=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,v=1/p.resample_ratio;v>1&&(v=1);var g=31;0==g%2&&--g;var w=(g+=b)+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=o(w),p.inbuf_old[1]=o(w),f=0;f<=2*m;++f)p.blackfilt[f]=o(w);for(p.itime[0]=0,p.itime[1]=0,d=0;d<=2*m;d++){var k=0,S=(d-m)/(2*m);for(f=0;f<=g;f++)k+=p.blackfilt[d][f]=Z(f-S,v,g);for(f=0;f<=g;f++)p.blackfilt[d][f]/=k}p.fill_buffer_resample_init=1}var y=p.inbuf_old[_];for(u=0;u<a;u++){var M,x;if(M=u*p.resample_ratio,g+(d=0|Math.floor(M-p.itime[_]))-g/2>=i)break;S=M-p.itime[_]-(d+g%2*.5);c(Math.abs(S)<=.501),x=0|Math.floor(2*S*m+m+.5);var A=0;for(f=0;f<=g;++f){var R=0|f+d-g/2;c(R<i),c(R+w>=0),A+=(R<0?y[w+R]:r[s+R])*p.blackfilt[x][f]}t[n+u]=A}if(l.num_used=Math.min(i,g+d-g/2),p.itime[_]+=l.num_used-u*p.resample_ratio,l.num_used>=w)for(f=0;f<w;f++)y[f]=r[s+l.num_used+f-w];else{var B=w-l.num_used;for(f=0;f<B;++f)y[f]=y[f+l.num_used];for(d=0;f<w;++f,++d)y[f]=r[s+d];c(d==l.num_used)}return u}function q(e,t,n,a,r,s){var i=e.internal_flags;if(i.resample_ratio<.9999||i.resample_ratio>1.0001)for(var o=0;o<i.channels_out;o++){var l=new F;s.n_out=X(e,t[o],i.mf_size,e.framesize,n[o],a,r,l,o),s.n_in=l.num_used}else{s.n_out=Math.min(e.framesize,r),s.n_in=s.n_out;for(var _=0;_<s.n_out;++_)t[0][i.mf_size+_]=n[0][a+_],2==i.channels_out&&(t[1][i.mf_size+_]=n[1][a+_])}}this.lame_init=function(){var e=new u,t=function(e){var t;return e.class_id=L,t=e.internal_flags=new h,e.mode=y.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=s.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY,e.encoder_padding=0,t.mf_size=g.ENCDELAY-g.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}(e);return 0!=t?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,a=0,r=0,s=0;s=t[16],r=16,a=t[16],n=16;for(var i=0;i<16;i++)if(Math.max(e,t[i+1])!=e){s=t[i+1],r=i+1,a=t[i],n=i;break}return s-e>e-a?n:r},this.lame_init_params=function(e){var n=e.internal_flags;if(n.Class_ID=0,null==n.ATH&&(n.ATH=new p),null==n.PSY&&(n.PSY=new E),null==n.rgdata&&(n.rgdata=new d),n.channels_in=e.num_channels,1==n.channels_in&&(e.mode=y.MONO),n.channels_out=e.mode==y.MONO?1:2,n.mode_ext=g.MPG_MD_MS_LR,e.mode==y.MONO&&(e.force_ms=!1),e.VBR==s.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==s.vbr_off||e.VBR==s.vbr_mtrh||e.VBR==s.vbr_mt||(e.free_format=!1),e.VBR==s.vbr_off&&0==e.brate&&b.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==s.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*n.channels_out/(1e3*e.compression_ratio),n.samplerate_index=I(e.out_samplerate,e),e.free_format||(e.brate=H(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var o=16e3;switch(e.VBR){case s.vbr_off:O(_=new T,e.brate),o=_.lowerlimit;break;case s.vbr_abr:var _;O(_=new T,e.VBR_mean_bitrate_kbps),o=_.lowerlimit;break;case s.vbr_rh:var u=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=e.VBR_q&&e.VBR_q<=9){var h=u[e.VBR_q],M=u[e.VBR_q+1],C=e.VBR_q_frac;o=linear_int(h,M,C)}else o=19500;break;default:u=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=e.VBR_q&&e.VBR_q<=9){h=u[e.VBR_q],M=u[e.VBR_q+1],C=e.VBR_q_frac;o=linear_int(h,M,C)}else o=19500}e.mode!=y.MONO||e.VBR!=s.vbr_off&&e.VBR!=s.vbr_abr||(o*=1.5),e.lowpassfreq=0|o}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=function(e,t){var n=44100;return t>=48e3?n=48e3:t>=44100?n=44100:t>=32e3?n=32e3:t>=24e3?n=24e3:t>=22050?n=22050:t>=16e3?n=16e3:t>=12e3?n=12e3:t>=11025?n=11025:t>=8e3&&(n=8e3),-1==e?n:(e<=15960&&(n=44100),e<=15250&&(n=32e3),e<=11220&&(n=24e3),e<=9970&&(n=22050),e<=7230&&(n=16e3),e<=5420&&(n=12e3),e<=4510&&(n=11025),e<=3970&&(n=8e3),t<n?t>44100?48e3:t>32e3?44100:t>24e3?32e3:t>22050?24e3:t>16e3?22050:t>12e3?16e3:t>11025?12e3:t>8e3?11025:8e3:n)}(0|e.lowpassfreq,e.in_samplerate)),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==s.vbr_off&&(e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.brate)),e.VBR==s.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,n.findPeakSample=!1),n.findReplayGain=e.findReplayGain,n.decode_on_the_fly=e.decode_on_the_fly,n.decode_on_the_fly&&(n.findPeakSample=!0),n.findReplayGain&&t.InitGainAnalysis(n.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(n.decode_on_the_fly&&!e.decode_only&&(null!=n.hip&&R.hip_decode_exit(n.hip),n.hip=R.hip_decode_init()),n.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*n.mode_gr,e.encoder_delay=g.ENCDELAY,n.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case s.vbr_mt:case s.vbr_rh:case s.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case s.vbr_abr:e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.brate)}if(e.mode==y.NOT_SET&&(e.mode=y.JOINT_STEREO),e.highpassfreq>0?(n.highpass1=2*e.highpassfreq,e.highpasswidth>=0?n.highpass2=2*(e.highpassfreq+e.highpasswidth):n.highpass2=2*e.highpassfreq,n.highpass1/=e.out_samplerate,n.highpass2/=e.out_samplerate):(n.highpass1=0,n.highpass2=0),e.lowpassfreq>0?(n.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(n.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),n.lowpass1<0&&(n.lowpass1=0)):n.lowpass1=2*e.lowpassfreq,n.lowpass1/=e.out_samplerate,n.lowpass2/=e.out_samplerate):(n.lowpass1=0,n.lowpass2=0),function(e){var t=e.internal_flags,n=32,a=-1;if(t.lowpass1>0){for(var s=999,i=0;i<=31;i++)(c=i/31)>=t.lowpass2&&(n=Math.min(n,i)),t.lowpass1<c&&c<t.lowpass2&&(s=Math.min(s,i));t.lowpass1=999==s?(n-.75)/31:(s-.75)/31,t.lowpass2=n/31}if(t.highpass2>0&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,r.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),t.highpass2>0){var o=-1;for(i=0;i<=31;i++)(c=i/31)<=t.highpass1&&(a=Math.max(a,i)),t.highpass1<c&&c<t.highpass2&&(o=Math.max(o,i));t.highpass1=a/31,t.highpass2=-1==o?(a+.75)/31:(o+.75)/31}for(i=0;i<32;i++){var l,_,c=i/31;l=t.highpass2>t.highpass1?P((t.highpass2-c)/(t.highpass2-t.highpass1+1e-20)):1,_=t.lowpass2>t.lowpass1?P((c-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[i]=l*_}}(e),n.samplerate_index=I(e.out_samplerate,e),n.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==s.vbr_off){if(e.free_format)n.bitrate_index=0;else if(e.brate=H(e.brate,e.version,e.out_samplerate),n.bitrate_index=V(e.brate,e.version,e.out_samplerate),n.bitrate_index<=0)return e.internal_flags=null,-1}else n.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=n.pinfo&&(e.bWriteVbrTag=!1),a.init_bit_stream_w(n);for(var N,j=n.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),D=0;D<g.SBMAX_l+1;D++)n.scalefac_band.l[D]=k.sfBandIndex[j].l[D];for(D=0;D<g.PSFB21+1;D++){var F=(n.scalefac_band.l[22]-n.scalefac_band.l[21])/g.PSFB21,z=n.scalefac_band.l[21]+D*F;n.scalefac_band.psfb21[D]=z}n.scalefac_band.psfb21[g.PSFB21]=576;for(D=0;D<g.SBMAX_s+1;D++)n.scalefac_band.s[D]=k.sfBandIndex[j].s[D];for(D=0;D<g.PSFB12+1;D++){F=(n.scalefac_band.s[13]-n.scalefac_band.s[12])/g.PSFB12,z=n.scalefac_band.s[12]+D*F;n.scalefac_band.psfb12[D]=z}for(n.scalefac_band.psfb12[g.PSFB12]=192,1==e.version?n.sideinfo_len=1==n.channels_out?21:36:n.sideinfo_len=1==n.channels_out?13:21,e.error_protection&&(n.sideinfo_len+=2),function(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&A.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=l([16,5]),t.bitrate_blockType_Hist=l([16,6]),t.PeakSample=0,e.bWriteVbrTag&&x.InitVbrTag(e)}(e),n.Class_ID=L,N=0;N<19;N++)n.nsPsy.pefirbuf[N]=700*n.mode_gr*n.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),c(e.VBR_q<=9),c(e.VBR_q>=0),e.VBR){case s.vbr_mt:e.VBR=s.vbr_mtrh;case s.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),w.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),n.PSY.mask_adjust=e.maskingadjust,n.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?n.sfb21_extra=!1:n.sfb21_extra=e.out_samplerate>44e3,n.iteration_loop=new VBRNewIterationLoop(S);break;case s.vbr_rh:w.apply_preset(e,500-10*e.VBR_q,0),n.PSY.mask_adjust=e.maskingadjust,n.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?n.sfb21_extra=!1:n.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),n.iteration_loop=new VBROldIterationLoop(S);break;default:var Z;n.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(Z=e.VBR)==s.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),w.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=Z,n.PSY.mask_adjust=e.maskingadjust,n.PSY.mask_adjust_short=e.maskingadjust_short,Z==s.vbr_off?n.iteration_loop=new m(S):n.iteration_loop=new ABRIterationLoop(S)}if(c(e.scale>=0),e.VBR!=s.vbr_off){if(n.VBR_min_bitrate=1,n.VBR_max_bitrate=14,e.out_samplerate<16e3&&(n.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=H(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),n.VBR_min_bitrate=V(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),n.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=H(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),n.VBR_max_bitrate=V(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),n.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=v.bitrate_table[e.version][n.VBR_min_bitrate],e.VBR_max_bitrate_kbps=v.bitrate_table[e.version][n.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(v.bitrate_table[e.version][n.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(v.bitrate_table[e.version][n.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(n.PSY.mask_adjust+=e.tune_value_a,n.PSY.mask_adjust_short+=e.tune_value_a),function(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(e),c(e.scale>=0),e.athaa_type<0?n.ATH.useAdjust=3:n.ATH.useAdjust=e.athaa_type,n.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=i.short_block_allowed),e.short_blocks!=i.short_block_allowed||e.mode!=y.JOINT_STEREO&&e.mode!=y.STEREO||(e.short_blocks=i.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=f.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=f.NSATTACKTHRE_S),c(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),n.slot_lag=n.frac_SpF=0,e.VBR==s.vbr_off&&(n.slot_lag=n.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),k.iteration_init(e),B.psymodel_init(e),c(e.scale>=0),0},this.lame_encode_flush=function(e,t,n,r){var s,i,o,l,c=e.internal_flags,f=_([2,1152]),u=0,h=c.mf_samples_to_encode-g.POSTDELAY,p=N(e);if(c.mf_samples_to_encode<1)return 0;for(s=0,e.in_samplerate!=e.out_samplerate&&(h+=16*e.out_samplerate/e.in_samplerate),(o=e.framesize-h%e.framesize)<576&&(o+=e.framesize),e.encoder_padding=o,l=(h+o)/e.framesize;l>0&&u>=0;){var d=p-c.mf_size,m=e.frameNum;d*=e.in_samplerate,(d/=e.out_samplerate)>1152&&(d=1152),d<1&&(d=1),i=r-s,0==r&&(i=0),n+=u=this.lame_encode_buffer(e,f[0],f[1],d,t,n,i),s+=u,l-=m!=e.frameNum?1:0}if(c.mf_samples_to_encode=0,u<0)return u;if(i=r-s,0==r&&(i=0),a.flush_bitstream(e),(u=a.copy_buffer(c,t,n,i,1))<0)return u;if(n+=u,i=r-(s+=u),0==r&&(i=0),e.write_id3tag_automatic){if(A.id3tag_write_v1(e),(u=a.copy_buffer(c,t,n,i,0))<0)return u;s+=u}return s},this.lame_encode_buffer=function(e,n,r,s,i,l,_){var f=e.internal_flags,u=[null,null];if(f.Class_ID!=L)return-3;if(0==s)return 0;!function(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=o(t),e.in_buffer_1=o(t),e.in_buffer_nsamples=t)}(f,s),u[0]=f.in_buffer_0,u[1]=f.in_buffer_1;for(var p=0;p<s;p++)u[0][p]=n[p],f.channels_in>1&&(u[1][p]=r[p]);return function(e,n,r,s,i,o,l){var _,f,u,p,d,m=e.internal_flags,v=0,w=[null,null],k=[null,null];if(m.Class_ID!=L)return-3;if(0==s)return 0;if((d=a.copy_buffer(m,i,o,l,0))<0)return d;if(o+=d,v+=d,k[0]=n,k[1]=r,b.NEQ(e.scale,0)&&b.NEQ(e.scale,1))for(f=0;f<s;++f)k[0][f]*=e.scale,2==m.channels_out&&(k[1][f]*=e.scale);if(b.NEQ(e.scale_left,0)&&b.NEQ(e.scale_left,1))for(f=0;f<s;++f)k[0][f]*=e.scale_left;if(b.NEQ(e.scale_right,0)&&b.NEQ(e.scale_right,1))for(f=0;f<s;++f)k[1][f]*=e.scale_right;if(2==e.num_channels&&1==m.channels_out)for(f=0;f<s;++f)k[0][f]=.5*(k[0][f]+k[1][f]),k[1][f]=0;p=N(e),w[0]=m.mfbuf[0],w[1]=m.mfbuf[1];var S=0;for(;s>0;){var y=[null,null],M=0,x=0;y[0]=k[0],y[1]=k[1];var A=new D;if(q(e,w,y,S,s,A),M=A.n_in,x=A.n_out,m.findReplayGain&&!m.decode_on_the_fly&&t.AnalyzeSamples(m.rgdata,w[0],m.mf_size,w[1],m.mf_size,x,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(s-=M,S+=M,m.channels_out,m.mf_size+=x,c(m.mf_size<=h.MFSIZE),m.mf_samples_to_encode<1&&(m.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY),m.mf_samples_to_encode+=x,m.mf_size>=p){var R=l-v;if(0==l&&(R=0),(_=j(e,w[0],w[1],i,o,R))<0)return _;for(o+=_,v+=_,m.mf_size-=e.framesize,m.mf_samples_to_encode-=e.framesize,u=0;u<m.channels_out;u++)for(f=0;f<m.mf_size;f++)w[u][f]=w[u][f+e.framesize]}}return c(0==s),v}(e,u[0],u[1],s,i,l,_)}}},64843:function(e,t,n){var a=n(91326);e.exports=function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=a.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}},46207:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte),s=a.new_double,i=a.new_float,o=a.new_float_n,l=a.new_int,_=a.new_int_n,c=(a.assert,n(47857)),f=n(60941),u=n(86313),h=n(61960),p=n(73888),d=n(16875),m=n(50413);function b(){function e(){this.write_timing=0,this.ptr=0,this.buf=r(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=o([2,b.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new c,this.ms_ratio=i(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=l(2),this.CurrentStep=l(2),this.masking_lower=0,this.bv_scf=l(576),this.pseudohalf=l(m.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*b.BPC+1),this.itime=s(2),this.sideinfo_len=0,this.sb_sample=o([2,2,18,d.SBLIMIT]),this.amp_filter=i(32),this.header=new Array(b.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new f,this.minval_l=i(d.CBANDS),this.minval_s=i(d.CBANDS),this.nb_1=o([4,d.CBANDS]),this.nb_2=o([4,d.CBANDS]),this.nb_s1=o([4,d.CBANDS]),this.nb_s2=o([4,d.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=i(4),this.loudness_sq=o([2,2]),this.loudness_sq_save=i(2),this.mld_l=i(d.SBMAX_l),this.mld_s=i(d.SBMAX_s),this.bm_l=l(d.SBMAX_l),this.bo_l=l(d.SBMAX_l),this.bm_s=l(d.SBMAX_s),this.bo_s=l(d.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=_([d.CBANDS,2]),this.s3ind_s=_([d.CBANDS,2]),this.numlines_s=l(d.CBANDS),this.numlines_l=l(d.CBANDS),this.rnumlines_l=i(d.CBANDS),this.mld_cb_l=i(d.CBANDS),this.mld_cb_s=i(d.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=i(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=l(2),this.nsPsy=new u,this.VBR_seek_table=new h,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=_([16,5]),this.bitrate_blockType_Hist=_([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var t=0;t<this.en.length;t++)this.en[t]=new p;for(t=0;t<this.thm.length;t++)this.thm[t]=new p;for(t=0;t<this.header.length;t++)this.header[t]=new e}b.MFSIZE=3456+d.ENCDELAY-d.MDCTDELAY,b.MAX_HEADER_BUF=256,b.MAX_BITS_PER_CHANNEL=4095,b.MAX_BITS_PER_GRANULE=7680,b.BPC=320,e.exports=b},91326:function(e){function t(e){var t=e;this.ordinal=function(){return t}}t.STEREO=new t(0),t.JOINT_STEREO=new t(1),t.DUAL_CHANNEL=new t(2),t.MONO=new t(3),t.NOT_SET=new t(4),e.exports=t},33266:function(e){e.exports=function(e){this.bits=e}},62861:function(e,t,n){var a=n(95457),r=a.System,s=(a.VbrMode,a.Float,a.ShortBlock,a.Util),i=a.Arrays,o=(a.new_array_n,a.new_byte,a.new_double,a.new_float),l=(a.new_float_n,a.new_int,a.new_int_n,a.assert,n(16875));e.exports=function(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*s.SQRT2*.5/2384e-9,.017876148*s.SQRT2*.5/2384e-9,.003134727*s.SQRT2*.5/2384e-9,.002457142*s.SQRT2*.5/2384e-9,971317e-9*s.SQRT2*.5/2384e-9,218868e-9*s.SQRT2*.5/2384e-9,101566e-9*s.SQRT2*.5/2384e-9,13828e-9*s.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],n=t[l.SHORT_TYPE],a=t[l.SHORT_TYPE],_=t[l.SHORT_TYPE],c=t[l.SHORT_TYPE],f=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function u(t,n,a){for(var r,i,o,l=10,_=n+238-14-286,c=-15;c<0;c++){var f,u,h;f=e[l+-10],u=t[_+-224]*f,h=t[n+224]*f,f=e[l+-9],u+=t[_+-160]*f,h+=t[n+160]*f,f=e[l+-8],u+=t[_+-96]*f,h+=t[n+96]*f,f=e[l+-7],u+=t[_+-32]*f,h+=t[n+32]*f,f=e[l+-6],u+=t[_+32]*f,h+=t[n+-32]*f,f=e[l+-5],u+=t[_+96]*f,h+=t[n+-96]*f,f=e[l+-4],u+=t[_+160]*f,h+=t[n+-160]*f,f=e[l+-3],u+=t[_+224]*f,h+=t[n+-224]*f,f=e[l+-2],u+=t[n+-256]*f,h-=t[_+256]*f,f=e[l+-1],u+=t[n+-192]*f,h-=t[_+192]*f,f=e[l+0],u+=t[n+-128]*f,h-=t[_+128]*f,f=e[l+1],u+=t[n+-64]*f,h-=t[_+64]*f,f=e[l+2],u+=t[n+0]*f,h-=t[_+0]*f,f=e[l+3],u+=t[n+64]*f,h-=t[_+-64]*f,f=e[l+4],u+=t[n+128]*f,h-=t[_+-128]*f,f=e[l+5],u+=t[n+192]*f,f=(h-=t[_+-192]*f)-(u*=e[l+6]),a[30+2*c]=h+u,a[31+2*c]=e[l+7]*f,l+=18,n--,_++}h=t[n+-16]*e[l+-10],u=t[n+-32]*e[l+-2],h+=(t[n+-48]-t[n+16])*e[l+-9],u+=t[n+-96]*e[l+-1],h+=(t[n+-80]+t[n+48])*e[l+-8],u+=t[n+-160]*e[l+0],h+=(t[n+-112]-t[n+80])*e[l+-7],u+=t[n+-224]*e[l+1],h+=(t[n+-144]+t[n+112])*e[l+-6],u-=t[n+32]*e[l+2],h+=(t[n+-176]-t[n+144])*e[l+-5],u-=t[n+96]*e[l+3],h+=(t[n+-208]+t[n+176])*e[l+-4],u-=t[n+160]*e[l+4],h+=(t[n+-240]-t[n+208])*e[l+-3],r=(u-=t[n+224])-h,i=u+h,h=a[14],u=a[15]-h,a[31]=i+h,a[30]=r+u,a[15]=r-u,a[14]=i-h,o=a[28]-a[0],a[0]+=a[28],a[28]=o*e[l+-36+7],o=a[29]-a[1],a[1]+=a[29],a[29]=o*e[l+-36+7],o=a[26]-a[2],a[2]+=a[26],a[26]=o*e[l+-72+7],o=a[27]-a[3],a[3]+=a[27],a[27]=o*e[l+-72+7],o=a[24]-a[4],a[4]+=a[24],a[24]=o*e[l+-108+7],o=a[25]-a[5],a[5]+=a[25],a[25]=o*e[l+-108+7],o=a[22]-a[6],a[6]+=a[22],a[22]=o*s.SQRT2,o=a[23]-a[7],a[7]+=a[23],a[23]=o*s.SQRT2-a[7],a[7]-=a[6],a[22]-=a[7],a[23]-=a[22],o=a[6],a[6]=a[31]-o,a[31]=a[31]+o,o=a[7],a[7]=a[30]-o,a[30]=a[30]+o,o=a[22],a[22]=a[15]-o,a[15]=a[15]+o,o=a[23],a[23]=a[14]-o,a[14]=a[14]+o,o=a[20]-a[8],a[8]+=a[20],a[20]=o*e[l+-180+7],o=a[21]-a[9],a[9]+=a[21],a[21]=o*e[l+-180+7],o=a[18]-a[10],a[10]+=a[18],a[18]=o*e[l+-216+7],o=a[19]-a[11],a[11]+=a[19],a[19]=o*e[l+-216+7],o=a[16]-a[12],a[12]+=a[16],a[16]=o*e[l+-252+7],o=a[17]-a[13],a[13]+=a[17],a[17]=o*e[l+-252+7],o=-a[20]+a[24],a[20]+=a[24],a[24]=o*e[l+-216+7],o=-a[21]+a[25],a[21]+=a[25],a[25]=o*e[l+-216+7],o=a[4]-a[8],a[4]+=a[8],a[8]=o*e[l+-216+7],o=a[5]-a[9],a[5]+=a[9],a[9]=o*e[l+-216+7],o=a[0]-a[12],a[0]+=a[12],a[12]=o*e[l+-72+7],o=a[1]-a[13],a[1]+=a[13],a[13]=o*e[l+-72+7],o=a[16]-a[28],a[16]+=a[28],a[28]=o*e[l+-72+7],o=-a[17]+a[29],a[17]+=a[29],a[29]=o*e[l+-72+7],o=s.SQRT2*(a[2]-a[10]),a[2]+=a[10],a[10]=o,o=s.SQRT2*(a[3]-a[11]),a[3]+=a[11],a[11]=o,o=s.SQRT2*(-a[18]+a[26]),a[18]+=a[26],a[26]=o-a[18],o=s.SQRT2*(-a[19]+a[27]),a[19]+=a[27],a[27]=o-a[19],o=a[2],a[19]-=a[3],a[3]-=o,a[2]=a[31]-o,a[31]+=o,o=a[3],a[11]-=a[19],a[18]-=o,a[3]=a[30]-o,a[30]+=o,o=a[18],a[27]-=a[11],a[19]-=o,a[18]=a[15]-o,a[15]+=o,o=a[19],a[10]-=o,a[19]=a[14]-o,a[14]+=o,o=a[10],a[11]-=o,a[10]=a[23]-o,a[23]+=o,o=a[11],a[26]-=o,a[11]=a[22]-o,a[22]+=o,o=a[26],a[27]-=o,a[26]=a[7]-o,a[7]+=o,o=a[27],a[27]=a[6]-o,a[6]+=o,o=s.SQRT2*(a[0]-a[4]),a[0]+=a[4],a[4]=o,o=s.SQRT2*(a[1]-a[5]),a[1]+=a[5],a[5]=o,o=s.SQRT2*(a[16]-a[20]),a[16]+=a[20],a[20]=o,o=s.SQRT2*(a[17]-a[21]),a[17]+=a[21],a[21]=o,o=-s.SQRT2*(a[8]-a[12]),a[8]+=a[12],a[12]=o-a[8],o=-s.SQRT2*(a[9]-a[13]),a[9]+=a[13],a[13]=o-a[9],o=-s.SQRT2*(a[25]-a[29]),a[25]+=a[29],a[29]=o-a[25],o=-s.SQRT2*(a[24]+a[28]),a[24]-=a[28],a[28]=o-a[24],o=a[24]-a[16],a[24]=o,o=a[20]-o,a[20]=o,o=a[28]-o,a[28]=o,o=a[25]-a[17],a[25]=o,o=a[21]-o,a[21]=o,o=a[29]-o,a[29]=o,o=a[17]-a[1],a[17]=o,o=a[9]-o,a[9]=o,o=a[25]-o,a[25]=o,o=a[5]-o,a[5]=o,o=a[21]-o,a[21]=o,o=a[13]-o,a[13]=o,o=a[29]-o,a[29]=o,o=a[1]-a[0],a[1]=o,o=a[16]-o,a[16]=o,o=a[17]-o,a[17]=o,o=a[8]-o,a[8]=o,o=a[9]-o,a[9]=o,o=a[24]-o,a[24]=o,o=a[25]-o,a[25]=o,o=a[4]-o,a[4]=o,o=a[5]-o,a[5]=o,o=a[20]-o,a[20]=o,o=a[21]-o,a[21]=o,o=a[12]-o,a[12]=o,o=a[13]-o,a[13]=o,o=a[28]-o,a[28]=o,o=a[29]-o,a[29]=o,o=a[0],a[0]+=a[31],a[31]-=o,o=a[1],a[1]+=a[30],a[30]-=o,o=a[16],a[16]+=a[15],a[15]-=o,o=a[17],a[17]+=a[14],a[14]-=o,o=a[8],a[8]+=a[23],a[23]-=o,o=a[9],a[9]+=a[22],a[22]-=o,o=a[24],a[24]+=a[7],a[7]-=o,o=a[25],a[25]+=a[6],a[6]-=o,o=a[4],a[4]+=a[27],a[27]-=o,o=a[5],a[5]+=a[26],a[26]-=o,o=a[20],a[20]+=a[11],a[11]-=o,o=a[21],a[21]+=a[10],a[10]-=o,o=a[12],a[12]+=a[19],a[19]-=o,o=a[13],a[13]+=a[18],a[18]-=o,o=a[28],a[28]+=a[3],a[3]-=o,o=a[29],a[29]+=a[2],a[2]-=o}function h(e,n){for(var a=0;a<3;a++){var r,s,i,o,_,c;s=(o=e[n+6]*t[l.SHORT_TYPE][0]-e[n+15])+(r=e[n+0]*t[l.SHORT_TYPE][2]-e[n+9]),i=o-r,_=(o=e[n+15]*t[l.SHORT_TYPE][0]+e[n+6])+(r=e[n+9]*t[l.SHORT_TYPE][2]+e[n+0]),c=-o+r,r=2069978111953089e-26*(e[n+3]*t[l.SHORT_TYPE][1]-e[n+12]),o=2069978111953089e-26*(e[n+12]*t[l.SHORT_TYPE][1]+e[n+3]),e[n+0]=190752519173728e-25*s+r,e[n+15]=190752519173728e-25*-_+o,i=.8660254037844387*i*1907525191737281e-26,_=.5*_*1907525191737281e-26+o,e[n+3]=i-_,e[n+6]=i+_,s=.5*s*1907525191737281e-26-r,c=.8660254037844387*c*1907525191737281e-26,e[n+9]=s+c,e[n+12]=s-c,n++}}function p(e,t,n){var r,s,i,o,l,_,c,f,u,h,p,d,m,b,v,g,w,k;i=n[17]-n[9],l=n[15]-n[11],_=n[14]-n[12],c=n[0]+n[8],f=n[1]+n[7],u=n[2]+n[6],h=n[3]+n[5],e[t+17]=c+u-h-(f-n[4]),s=(c+u-h)*a[19]+(f-n[4]),r=(i-l-_)*a[18],e[t+5]=r+s,e[t+6]=r-s,o=(n[16]-n[10])*a[18],f=f*a[19]+n[4],r=i*a[12]+o+l*a[13]+_*a[14],s=-c*a[16]+f-u*a[17]+h*a[15],e[t+1]=r+s,e[t+2]=r-s,r=i*a[13]-o-l*a[14]+_*a[12],s=-c*a[17]+f-u*a[15]+h*a[16],e[t+9]=r+s,e[t+10]=r-s,r=i*a[14]-o+l*a[12]-_*a[13],s=c*a[15]-f+u*a[16]-h*a[17],e[t+13]=r+s,e[t+14]=r-s,p=n[8]-n[0],m=n[6]-n[2],b=n[5]-n[3],v=n[17]+n[9],g=n[16]+n[10],w=n[15]+n[11],k=n[14]+n[12],e[t+0]=v+w+k+(g+n[13]),r=(v+w+k)*a[19]-(g+n[13]),s=(p-m+b)*a[18],e[t+11]=r+s,e[t+12]=r-s,d=(n[7]-n[1])*a[18],g=n[13]-g*a[19],r=v*a[15]-g+w*a[16]+k*a[17],s=p*a[14]+d+m*a[12]+b*a[13],e[t+3]=r+s,e[t+4]=r-s,r=-v*a[17]+g-w*a[15]-k*a[16],s=p*a[13]+d-m*a[14]-b*a[12],e[t+7]=r+s,e[t+8]=r-s,r=-v*a[16]+g-w*a[17]-k*a[15],s=p*a[12]-d+m*a[13]-b*a[14],e[t+15]=r+s,e[t+16]=r-s}this.mdct_sub48=function(e,a,s){for(var d=a,m=286,b=0;b<e.channels_out;b++){for(var v=0;v<e.mode_gr;v++){for(var g,w=e.l3_side.tt[v][b],k=w.xr,S=0,y=e.sb_sample[b][1-v],M=0,x=0;x<9;x++)for(u(d,m,y[M]),u(d,m+32,y[M+1]),M+=2,m+=64,g=1;g<32;g+=2)y[M-1][g]*=-1;for(g=0;g<32;g++,S+=18){var A=w.block_type,R=e.sb_sample[b][v],B=e.sb_sample[b][1-v];if(0!=w.mixed_block_flag&&g<2&&(A=0),e.amp_filter[g]<1e-12)i.fill(k,S+0,S+18,0);else{if(e.amp_filter[g]<1)for(x=0;x<18;x++)B[x][f[g]]*=e.amp_filter[g];if(A==l.SHORT_TYPE){for(x=-3;x<0;x++){var E=t[l.SHORT_TYPE][x+3];k[S+3*x+9]=R[9+x][f[g]]*E-R[8-x][f[g]],k[S+3*x+18]=R[14-x][f[g]]*E+R[15+x][f[g]],k[S+3*x+10]=R[15+x][f[g]]*E-R[14-x][f[g]],k[S+3*x+19]=B[2-x][f[g]]*E+B[3+x][f[g]],k[S+3*x+11]=B[3+x][f[g]]*E-B[2-x][f[g]],k[S+3*x+20]=B[8-x][f[g]]*E+B[9+x][f[g]]}h(k,S)}else{var T=o(18);for(x=-9;x<0;x++){var C,L;C=t[A][x+27]*B[x+9][f[g]]+t[A][x+36]*B[8-x][f[g]],L=t[A][x+9]*R[x+9][f[g]]-t[A][x+18]*R[8-x][f[g]],T[x+9]=C-L*n[3+x+9],T[x+18]=C*n[3+x+9]+L}p(k,S,T)}}if(A!=l.SHORT_TYPE&&0!=g)for(x=7;x>=0;--x){var P,I;P=k[S+x]*_[20+x]+k[S+-1-x]*c[28+x],I=k[S+x]*c[28+x]-k[S+-1-x]*_[20+x],k[S+-1-x]=P,k[S+x]=I}}}if(d=s,m=286,1==e.mode_gr)for(var H=0;H<18;H++)r.arraycopy(e.sb_sample[b][1][H],0,e.sb_sample[b][0][H],0,32)}}}},86313:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),s=a.new_float_n,i=a.new_int,o=(a.new_int_n,a.assert,n(16875));e.exports=function(){this.last_en_subshort=s([4,9]),this.lastAttacks=i(4),this.pefirbuf=r(19),this.longfact=r(o.SBMAX_l),this.shortfact=r(o.SBMAX_s),this.attackthre=0,this.attackthre_s=0}},60174:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode);a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float,a.new_float_n,a.new_int,a.new_int_n,a.assert;e.exports=function(){var e,t=n(82253);function a(e,t,n,a,r,s,i,o,l,_,c,f,u,h,p){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=a,this.st_lrm=r,this.st_s=s,this.masking_adj=i,this.masking_adj_short=o,this.ath_lower=l,this.ath_curve=_,this.ath_sensitivity=c,this.interch=f,this.safejoint=u,this.sfb21mod=h,this.msfix=p}function s(e,t,n,a,r,s,i,o,l,_,c,f,u,h){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=a,this.nsmsfix=r,this.st_lrm=s,this.st_s=i,this.nsbass=o,this.scale=l,this.masking_adj=_,this.ath_lower=c,this.ath_curve=f,this.interch=u,this.sfscale=h}this.setModules=function(t){e=t};var i=[new a(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new a(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new a(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new a(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new a(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new a(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new a(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new a(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new a(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new a(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new a(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new a(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new a(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new a(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new a(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new a(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new a(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new a(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new a(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new a(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new a(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new a(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(e,t,n){var a=e.VBR==r.vbr_rh?i:o,s=e.VBR_q_frac,l=a[t],_=a[t+1],c=l;l.st_lrm=l.st_lrm+s*(_.st_lrm-l.st_lrm),l.st_s=l.st_s+s*(_.st_s-l.st_s),l.masking_adj=l.masking_adj+s*(_.masking_adj-l.masking_adj),l.masking_adj_short=l.masking_adj_short+s*(_.masking_adj_short-l.masking_adj_short),l.ath_lower=l.ath_lower+s*(_.ath_lower-l.ath_lower),l.ath_curve=l.ath_curve+s*(_.ath_curve-l.ath_curve),l.ath_sensitivity=l.ath_sensitivity+s*(_.ath_sensitivity-l.ath_sensitivity),l.interch=l.interch+s*(_.interch-l.interch),l.msfix=l.msfix+s*(_.msfix-l.msfix),function(e,t){var n=0;0>t&&(n=-1,t=0);9<t&&(n=-1,t=9);e.VBR_q=t,e.VBR_q_frac=0}(e,c.vbr_q),0!=n?e.quant_comp=c.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=c.quant_comp),0!=n?e.quant_comp_short=c.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=c.quant_comp_s),0!=c.expY&&(e.experimentalY=0!=c.expY),0!=n?e.internal_flags.nsPsy.attackthre=c.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=c.st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=c.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=c.st_s),0!=n?e.maskingadjust=c.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=c.masking_adj),0!=n?e.maskingadjust_short=c.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=c.masking_adj_short),0!=n?e.ATHlower=-c.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-c.ath_lower/10),0!=n?e.ATHcurve=c.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=c.ath_curve),0!=n?e.athaa_sensitivity=c.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=c.ath_sensitivity),c.interch>0&&(0!=n?e.interChRatio=c.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=c.interch)),c.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|c.safejoint),c.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|c.sfb21mod<<20),0!=n?e.msfix=c.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=c.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=s)}var _=[new s(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new s(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new s(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new s(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new s(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new s(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new s(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new s(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new s(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new s(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new s(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new s(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new s(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new s(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new s(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new s(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new s(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function c(t,n,a){var s=n,i=e.nearestBitrateFullIndex(n);if(t.VBR=r.vbr_abr,t.VBR_mean_bitrate_kbps=s,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,t.VBR_mean_bitrate_kbps>320&&(t.disable_reservoir=!0),_[i].safejoint>0&&(t.exp_nspsytune=2|t.exp_nspsytune),_[i].sfscale>0&&(t.internal_flags.noise_shaping=2),Math.abs(_[i].nsbass)>0){var o=int(4*_[i].nsbass);o<0&&(o+=64),t.exp_nspsytune=t.exp_nspsytune|o<<2}return 0!=a?t.quant_comp=_[i].quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=_[i].quant_comp),0!=a?t.quant_comp_short=_[i].quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=_[i].quant_comp_s),0!=a?t.msfix=_[i].nsmsfix:Math.abs(t.msfix- -1)>0||(t.msfix=_[i].nsmsfix),0!=a?t.internal_flags.nsPsy.attackthre=_[i].st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=_[i].st_lrm),0!=a?t.internal_flags.nsPsy.attackthre_s=_[i].st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=_[i].st_s),0!=a?t.scale=_[i].scale:Math.abs(t.scale- -1)>0||(t.scale=_[i].scale),0!=a?t.maskingadjust=_[i].masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=_[i].masking_adj),_[i].masking_adj>0?0!=a?t.maskingadjust_short=.9*_[i].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=.9*_[i].masking_adj):0!=a?t.maskingadjust_short=1.1*_[i].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=1.1*_[i].masking_adj),0!=a?t.ATHlower=-_[i].ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-_[i].ath_lower/10),0!=a?t.ATHcurve=_[i].ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=_[i].ath_curve),0!=a?t.interChRatio=_[i].interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=_[i].interch),n}this.apply_preset=function(e,n,a){switch(n){case t.R3MIX:n=t.V3,e.VBR=r.vbr_mtrh;break;case t.MEDIUM:n=t.V4,e.VBR=r.vbr_rh;break;case t.MEDIUM_FAST:n=t.V4,e.VBR=r.vbr_mtrh;break;case t.STANDARD:n=t.V2,e.VBR=r.vbr_rh;break;case t.STANDARD_FAST:n=t.V2,e.VBR=r.vbr_mtrh;break;case t.EXTREME:n=t.V0,e.VBR=r.vbr_rh;break;case t.EXTREME_FAST:n=t.V0,e.VBR=r.vbr_mtrh;break;case t.INSANE:return n=320,e.preset=n,c(e,n,a),e.VBR=r.vbr_off,n}switch(e.preset=n,n){case t.V9:return l(e,9,a),n;case t.V8:return l(e,8,a),n;case t.V7:return l(e,7,a),n;case t.V6:return l(e,6,a),n;case t.V5:return l(e,5,a),n;case t.V4:return l(e,4,a),n;case t.V3:return l(e,3,a),n;case t.V2:return l(e,2,a),n;case t.V1:return l(e,1,a),n;case t.V0:return l(e,0,a),n}return 8<=n&&n<=320?c(e,n,a):(e.preset=0,n)}}},74711:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode),s=a.Float,i=a.ShortBlock,o=a.Util,l=a.Arrays,_=(a.new_array_n,a.new_byte,a.new_double,a.new_float),c=a.new_float_n,f=a.new_int,u=(a.new_int_n,a.assert),h=n(34858),p=n(16875);e.exports=function(){var e=n(91326),t=new h,a=2.302585092994046,d=1/217621504/(p.BLKSIZE/2),m=.3,b=21,v=.2302585093;function g(e,t){for(var n=0,a=0;a<p.BLKSIZE/2;++a)n+=e[a]*t.ATH.eql_w[a];return n*=d}function w(e,n,a,r,s,i,l,_,c,f,u){var h=e.internal_flags;if(c<2)t.fft_long(h,r[s],c,f,u),t.fft_short(h,i[l],c,f,u);else if(2==c){for(var d=p.BLKSIZE-1;d>=0;--d){var m=r[s+0][d],b=r[s+1][d];r[s+0][d]=(m+b)*o.SQRT2*.5,r[s+1][d]=(m-b)*o.SQRT2*.5}for(var v=2;v>=0;--v)for(d=p.BLKSIZE_s-1;d>=0;--d){m=i[l+0][v][d],b=i[l+1][v][d];i[l+0][v][d]=(m+b)*o.SQRT2*.5,i[l+1][v][d]=(m-b)*o.SQRT2*.5}}n[0]=r[s+0][0],n[0]*=n[0];for(d=p.BLKSIZE/2-1;d>=0;--d){var w=r[s+0][p.BLKSIZE/2-d],k=r[s+0][p.BLKSIZE/2+d];n[p.BLKSIZE/2-d]=.5*(w*w+k*k)}for(v=2;v>=0;--v){a[v][0]=i[l+0][v][0],a[v][0]*=a[v][0];for(d=p.BLKSIZE_s/2-1;d>=0;--d){w=i[l+0][v][p.BLKSIZE_s/2-d],k=i[l+0][v][p.BLKSIZE_s/2+d];a[v][p.BLKSIZE_s/2-d]=.5*(w*w+k*k)}}var S=0;for(d=11;d<p.HBLKSIZE;d++)S+=n[d];if(h.tot_ener[c]=S,e.analysis){for(d=0;d<p.HBLKSIZE;d++)h.pinfo.energy[_][c][d]=h.pinfo.energy_save[c][d],h.pinfo.energy_save[c][d]=n[d];h.pinfo.pe[_][c]=h.pe[c]}2==e.athaa_loudapprox&&c<2&&(h.loudness_sq[_][c]=h.loudness_sq_save[c],h.loudness_sq_save[c]=g(n,h))}var k,S,y,M=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],x=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],A=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],R=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function B(e,t,n,a,r,s){var i;if(t>e){if(!(t<e*S))return e+t;i=t/e}else{if(e>=t*S)return e+t;i=e/t}if(u(e>=0),u(t>=0),e+=t,a+3<=6){if(i>=k)return e;var l=0|o.FAST_LOG10_X(i,16);return e*A[l]}var _,c;l=0|o.FAST_LOG10_X(i,16);return t=0!=s?r.ATH.cb_s[n]*r.ATH.adjust:r.ATH.cb_l[n]*r.ATH.adjust,u(t>=0),e<y*t?e>t?(_=1,l<=13&&(_=R[l]),c=o.FAST_LOG10_X(e/t,10/15),e*((x[l]-_)*c+_)):l>13?e:e*R[l]:e*x[l]}var E=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function T(e,t,n){var a;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(a=t>e?t/e:e/t,-2<=n&&n<=2){if(a>=k)return e+t;var r=0|o.FAST_LOG10_X(a,16);return(e+t)*E[r]}return a<S?e+t:(e<t&&(e=t),e)}function C(e,t,n,a,r){var s,i,o=0,l=0;for(s=i=0;s<p.SBMAX_s;++i,++s){for(var _=e.bo_s[s],c=e.npart_s,f=_<c?_:c;i<f;)u(t[i]>=0),u(n[i]>=0),o+=t[i],l+=n[i],i++;if(e.en[a].s[s][r]=o,e.thm[a].s[s][r]=l,i>=c){++s;break}u(t[i]>=0),u(n[i]>=0);var h=e.PSY.bo_s_weight[s],d=1-h;o=h*t[i],l=h*n[i],e.en[a].s[s][r]+=o,e.thm[a].s[s][r]+=l,o=d*t[i],l=d*n[i]}for(;s<p.SBMAX_s;++s)e.en[a].s[s][r]=0,e.thm[a].s[s][r]=0}function L(e,t,n,a){var r,s,i=0,o=0;for(r=s=0;r<p.SBMAX_l;++s,++r){for(var l=e.bo_l[r],_=e.npart_l,c=l<_?l:_;s<c;)u(t[s]>=0),u(n[s]>=0),i+=t[s],o+=n[s],s++;if(e.en[a].l[r]=i,e.thm[a].l[r]=o,s>=_){++r;break}u(t[s]>=0),u(n[s]>=0);var f=e.PSY.bo_l_weight[r],h=1-f;i=f*t[s],o=f*n[s],e.en[a].l[r]+=i,e.thm[a].l[r]+=o,i=h*t[s],o=h*n[s]}for(;r<p.SBMAX_l;++r)e.en[a].l[r]=0,e.thm[a].l[r]=0}function P(e,t,n,a,r,s){var i,o,l=e.internal_flags;for(o=i=0;o<l.npart_s;++o){for(var _=0,c=0,f=l.numlines_s[o],h=0;h<f;++h,++i){var d=t[s][i];_+=d,c<d&&(c=d)}n[o]=_}for(u(o==l.npart_s),u(129==i),i=o=0;o<l.npart_s;o++){var m=l.s3ind_s[o][0],b=l.s3_ss[i++]*n[m];for(++m;m<=l.s3ind_s[o][1];)b+=l.s3_ss[i]*n[m],++i,++m;var v=2*l.nb_s1[r][o];if(a[o]=Math.min(b,v),l.blocktype_old[1&r]==p.SHORT_TYPE){v=16*l.nb_s2[r][o];var g=a[o];a[o]=Math.min(v,g)}l.nb_s2[r][o]=l.nb_s1[r][o],l.nb_s1[r][o]=b,u(a[o]>=0)}for(;o<=p.CBANDS;++o)n[o]=0,a[o]=0}function I(e,t,n){return n>=1?e:n<=0?t:t>0?Math.pow(e/t,n)*t:0}var H=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function V(e,t){for(var n=309.07,r=0;r<p.SBMAX_s-1;r++)for(var s=0;s<3;s++){var i=e.thm.s[r][s];if(u(r<H.length),i>0){var l=i*t,_=e.en.s[r][s];_>l&&(_>1e10*l?n+=H[r]*(10*a):(u(l>0),n+=H[r]*o.FAST_LOG10(_/l)))}}return n}var O=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function N(e,t){for(var n=281.0575,r=0;r<p.SBMAX_l-1;r++){var s=e.thm.l[r];if(u(r<O.length),s>0){var i=s*t,l=e.en.l[r];l>i&&(l>1e10*i?n+=O[r]*(10*a):(u(i>0),n+=O[r]*o.FAST_LOG10(l/i)))}}return n}function j(e,t,n,a,r){var s,i;for(s=i=0;s<e.npart_l;++s){var o,l=0,_=0;for(o=0;o<e.numlines_l[s];++o,++i){var c=t[i];u(c>=0),l+=c,_<c&&(_=c)}n[s]=l,a[s]=_,r[s]=l*e.rnumlines_l[s],u(e.rnumlines_l[s]>=0),u(l>=0),u(n[s]>=0),u(a[s]>=0),u(r[s]>=0)}}function D(e,t,n,a){var r=M.length-1,s=0,i=n[s]+n[s+1];(u(i>=0),i>0)?((o=t[s])<t[s+1]&&(o=t[s+1]),u(e.numlines_l[s]+e.numlines_l[s+1]-1>0),(l=0|(i=20*(2*o-i)/(i*(e.numlines_l[s]+e.numlines_l[s+1]-1))))>r&&(l=r),a[s]=l):a[s]=0;for(s=1;s<e.npart_l-1;s++){var o,l;if(i=n[s-1]+n[s]+n[s+1],u(i>=0),i>0)(o=t[s-1])<t[s]&&(o=t[s]),o<t[s+1]&&(o=t[s+1]),u(e.numlines_l[s-1]+e.numlines_l[s]+e.numlines_l[s+1]-1>0),(l=0|(i=20*(3*o-i)/(i*(e.numlines_l[s-1]+e.numlines_l[s]+e.numlines_l[s+1]-1))))>r&&(l=r),a[s]=l;else a[s]=0}(u(s>0),u(s==e.npart_l-1),i=n[s-1]+n[s],u(i>=0),i>0)?((o=t[s-1])<t[s]&&(o=t[s]),u(e.numlines_l[s-1]+e.numlines_l[s]-1>0),(l=0|(i=20*(2*o-i)/(i*(e.numlines_l[s-1]+e.numlines_l[s]-1))))>r&&(l=r),a[s]=l):a[s]=0;u(s==e.npart_l-1)}var F=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function z(e,n,a,r,s,i,l,_){var c=e.internal_flags;if(r<2)t.fft_long(c,l[_],r,n,a);else if(2==r)for(var f=p.BLKSIZE-1;f>=0;--f){var u=l[_+0][f],h=l[_+1][f];l[_+0][f]=(u+h)*o.SQRT2*.5,l[_+1][f]=(u-h)*o.SQRT2*.5}i[0]=l[_+0][0],i[0]*=i[0];for(f=p.BLKSIZE/2-1;f>=0;--f){var d=l[_+0][p.BLKSIZE/2-f],m=l[_+0][p.BLKSIZE/2+f];i[p.BLKSIZE/2-f]=.5*(d*d+m*m)}var b=0;for(f=11;f<p.HBLKSIZE;f++)b+=i[f];if(c.tot_ener[r]=b,e.analysis){for(f=0;f<p.HBLKSIZE;f++)c.pinfo.energy[s][r][f]=c.pinfo.energy_save[r][f],c.pinfo.energy_save[r][f]=i[f];c.pinfo.pe[s][r]=c.pe[r]}}function Z(e,n,a,r,s,i,l,_){var c=e.internal_flags;if(0==s&&r<2&&t.fft_short(c,l[_],r,n,a),2==r)for(var f=p.BLKSIZE_s-1;f>=0;--f){var u=l[_+0][s][f],h=l[_+1][s][f];l[_+0][s][f]=(u+h)*o.SQRT2*.5,l[_+1][s][f]=(u-h)*o.SQRT2*.5}i[s][0]=l[_+0][s][0],i[s][0]*=i[s][0];for(f=p.BLKSIZE_s/2-1;f>=0;--f){var d=l[_+0][s][p.BLKSIZE_s/2-f],m=l[_+0][s][p.BLKSIZE_s/2+f];i[s][p.BLKSIZE_s/2-f]=.5*(d*d+m*m)}}function X(e,t,n,a){var r=e.internal_flags;2==e.athaa_loudapprox&&n<2&&(r.loudness_sq[t][n]=r.loudness_sq_save[n],r.loudness_sq_save[n]=g(a,r))}this.L3psycho_anal_ns=function(t,n,a,s,o,h,d,v,g,k){var S,y,x,A,R,E,T,H,O,z,Z=t.internal_flags,X=c([2,p.BLKSIZE]),q=c([2,3,p.BLKSIZE_s]),Y=_(p.CBANDS+1),U=_(p.CBANDS+1),G=_(p.CBANDS+2),W=f(2),K=f(2),Q=c([2,576]),J=f(p.CBANDS+2),$=f(p.CBANDS+2);for(l.fill($,0),S=Z.channels_out,t.mode==e.JOINT_STEREO&&(S=4),O=t.VBR==r.vbr_off?0==Z.ResvMax?0:Z.ResvSize/Z.ResvMax*.5:t.VBR==r.vbr_rh||t.VBR==r.vbr_mtrh||t.VBR==r.vbr_mt?.6:1,y=0;y<Z.channels_out;y++){var ee=n[y],te=a+576-350-b+192;for(u(10==F.length),A=0;A<576;A++){var ne,ae;for(ne=ee[te+A+10],ae=0,R=0;R<9;R+=2)ne+=F[R]*(ee[te+A+R]+ee[te+A+b-R]),ae+=F[R+1]*(ee[te+A+R+1]+ee[te+A+b-R-1]);Q[y][A]=ne+ae}o[s][y].en.assign(Z.en[y]),o[s][y].thm.assign(Z.thm[y]),S>2&&(h[s][y].en.assign(Z.en[y+2]),h[s][y].thm.assign(Z.thm[y+2]))}for(y=0;y<S;y++){var re,se=_(12),ie=[0,0,0,0],oe=_(12),le=1,_e=_(p.CBANDS),ce=_(p.CBANDS),fe=[0,0,0,0],ue=_(p.HBLKSIZE),he=c([3,p.HBLKSIZE_s]);for(u(Z.npart_s<=p.CBANDS),u(Z.npart_l<=p.CBANDS),A=0;A<3;A++)se[A]=Z.nsPsy.last_en_subshort[y][A+6],u(Z.nsPsy.last_en_subshort[y][A+4]>0),oe[A]=se[A]/Z.nsPsy.last_en_subshort[y][A+4],ie[0]+=se[A];if(2==y)for(A=0;A<576;A++){var pe,de;pe=Q[0][A],de=Q[1][A],Q[0][A]=pe+de,Q[1][A]=pe-de}var me=Q[1&y],be=0;for(A=0;A<9;A++){for(var ve=be+64,ge=1;be<ve;be++)ge<Math.abs(me[be])&&(ge=Math.abs(me[be]));Z.nsPsy.last_en_subshort[y][A]=se[A+3]=ge,ie[1+A/3]+=ge,ge>se[A+3-2]?(u(se[A+3-2]>0),ge/=se[A+3-2]):se[A+3-2]>10*ge?(u(ge>0),ge=se[A+3-2]/(10*ge)):ge=0,oe[A+3]=ge}if(t.analysis){var we=oe[0];for(A=1;A<12;A++)we<oe[A]&&(we=oe[A]);Z.pinfo.ers[s][y]=Z.pinfo.ers_save[y],Z.pinfo.ers_save[y]=we}for(re=3==y?Z.nsPsy.attackthre_s:Z.nsPsy.attackthre,A=0;A<12;A++)0==fe[A/3]&&oe[A]>re&&(fe[A/3]=A%3+1);for(A=1;A<4;A++){var ke;ie[A-1]>ie[A]?(u(ie[A]>0),ke=ie[A-1]/ie[A]):(u(ie[A-1]>0),ke=ie[A]/ie[A-1]),ke<1.7&&(fe[A]=0,1==A&&(fe[0]=0))}for(0!=fe[0]&&0!=Z.nsPsy.lastAttacks[y]&&(fe[0]=0),3!=Z.nsPsy.lastAttacks[y]&&fe[0]+fe[1]+fe[2]+fe[3]==0||(le=0,0!=fe[1]&&0!=fe[0]&&(fe[1]=0),0!=fe[2]&&0!=fe[1]&&(fe[2]=0),0!=fe[3]&&0!=fe[2]&&(fe[3]=0)),y<2?K[y]=le:0==le&&(K[0]=K[1]=0),g[y]=Z.tot_ener[y],w(t,ue,he,X,1&y,q,1&y,s,y,n,a),j(Z,ue,Y,_e,ce),D(Z,_e,ce,J),H=0;H<3;H++){var Se,ye;for(P(t,he,U,G,y,H),C(Z,U,G,y,H),T=0;T<p.SBMAX_s;T++){if(ye=Z.thm[y].s[T][H],ye*=.8,fe[H]>=2||1==fe[H+1]){var Me=0!=H?H-1:2;ge=I(Z.thm[y].s[T][Me],ye,.6*O);ye=Math.min(ye,ge)}if(1==fe[H]){Me=0!=H?H-1:2,ge=I(Z.thm[y].s[T][Me],ye,m*O);ye=Math.min(ye,ge)}else if(0!=H&&3==fe[H-1]||0==H&&3==Z.nsPsy.lastAttacks[y]){Me=2!=H?H+1:0,ge=I(Z.thm[y].s[T][Me],ye,m*O);ye=Math.min(ye,ge)}Se=se[3*H+3]+se[3*H+4]+se[3*H+5],6*se[3*H+5]<Se&&(ye*=.5,6*se[3*H+4]<Se&&(ye*=.5)),Z.thm[y].s[T][H]=ye}}for(Z.nsPsy.lastAttacks[y]=fe[2],E=0,x=0;x<Z.npart_l;x++){for(var xe=Z.s3ind[x][0],Ae=Y[xe]*M[J[xe]],Re=Z.s3_ll[E++]*Ae;++xe<=Z.s3ind[x][1];)Ae=Y[xe]*M[J[xe]],Re=B(Re,Z.s3_ll[E++]*Ae,xe,xe-x,Z,0);Re*=.158489319246111,Z.blocktype_old[1&y]==p.SHORT_TYPE?G[x]=Re:G[x]=I(Math.min(Re,Math.min(2*Z.nb_1[y][x],16*Z.nb_2[y][x])),Re,O),Z.nb_2[y][x]=Z.nb_1[y][x],Z.nb_1[y][x]=Re}for(;x<=p.CBANDS;++x)Y[x]=0,G[x]=0;L(Z,Y,G,y)}(t.mode!=e.STEREO&&t.mode!=e.JOINT_STEREO||t.interChRatio>0&&function(e,t){var n=e.internal_flags;if(n.channels_out>1){for(var a=0;a<p.SBMAX_l;a++){var r=n.thm[0].l[a],s=n.thm[1].l[a];n.thm[0].l[a]+=s*t,n.thm[1].l[a]+=r*t}for(a=0;a<p.SBMAX_s;a++)for(var i=0;i<3;i++)r=n.thm[0].s[a][i],s=n.thm[1].s[a][i],n.thm[0].s[a][i]+=s*t,n.thm[1].s[a][i]+=r*t}}(t,t.interChRatio),t.mode==e.JOINT_STEREO)&&(!function(e){for(var t=0;t<p.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var n=e.mld_l[t]*e.en[3].l[t],a=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],n));n=e.mld_l[t]*e.en[2].l[t];var r=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],n));e.thm[2].l[t]=a,e.thm[3].l[t]=r}for(t=0;t<p.SBMAX_s;t++)for(var s=0;s<3;s++)e.thm[0].s[t][s]>1.58*e.thm[1].s[t][s]||e.thm[1].s[t][s]>1.58*e.thm[0].s[t][s]||(n=e.mld_s[t]*e.en[3].s[t][s],a=Math.max(e.thm[2].s[t][s],Math.min(e.thm[3].s[t][s],n)),n=e.mld_s[t]*e.en[2].s[t][s],r=Math.max(e.thm[3].s[t][s],Math.min(e.thm[2].s[t][s],n)),e.thm[2].s[t][s]=a,e.thm[3].s[t][s]=r)}(Z),z=t.msfix,Math.abs(z)>0&&function(e,t,n){var a=t,r=Math.pow(10,n);t*=2,a*=2;for(var s=0;s<p.SBMAX_l;s++)c=e.ATH.cb_l[e.bm_l[s]]*r,(o=Math.min(Math.max(e.thm[0].l[s],c),Math.max(e.thm[1].l[s],c)))*t<(l=Math.max(e.thm[2].l[s],c))+(_=Math.max(e.thm[3].l[s],c))&&u((l*=f=o*a/(l+_))+(_*=f)>0),e.thm[2].l[s]=Math.min(l,e.thm[2].l[s]),e.thm[3].l[s]=Math.min(_,e.thm[3].l[s]);for(r*=p.BLKSIZE_s/p.BLKSIZE,s=0;s<p.SBMAX_s;s++)for(var i=0;i<3;i++){var o,l,_,c,f;c=e.ATH.cb_s[e.bm_s[s]]*r,(o=Math.min(Math.max(e.thm[0].s[s][i],c),Math.max(e.thm[1].s[s][i],c)))*t<(l=Math.max(e.thm[2].s[s][i],c))+(_=Math.max(e.thm[3].s[s][i],c))&&u((l*=f=o*t/(l+_))+(_*=f)>0),e.thm[2].s[s][i]=Math.min(e.thm[2].s[s][i],l),e.thm[3].s[s][i]=Math.min(e.thm[3].s[s][i],_)}}(Z,z,t.ATHlower*Z.ATH.adjust));for(function(e,t,n,a){var r=e.internal_flags;e.short_blocks!=i.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var s=0;s<r.channels_out;s++)a[s]=p.NORM_TYPE,e.short_blocks==i.short_block_dispensed&&(t[s]=1),e.short_blocks==i.short_block_forced&&(t[s]=0),0!=t[s]?(u(r.blocktype_old[s]!=p.START_TYPE),r.blocktype_old[s]==p.SHORT_TYPE&&(a[s]=p.STOP_TYPE)):(a[s]=p.SHORT_TYPE,r.blocktype_old[s]==p.NORM_TYPE&&(r.blocktype_old[s]=p.START_TYPE),r.blocktype_old[s]==p.STOP_TYPE&&(r.blocktype_old[s]=p.SHORT_TYPE)),n[s]=r.blocktype_old[s],r.blocktype_old[s]=a[s]}(t,K,k,W),y=0;y<S;y++){var Be,Ee,Te,Ce=0;y>1?(Be=v,Ce=-2,Ee=p.NORM_TYPE,k[0]!=p.SHORT_TYPE&&k[1]!=p.SHORT_TYPE||(Ee=p.SHORT_TYPE),Te=h[s][y-2]):(Be=d,Ce=0,Ee=k[y],Te=o[s][y]),Ee==p.SHORT_TYPE?Be[Ce+y]=V(Te,Z.masking_lower):Be[Ce+y]=N(Te,Z.masking_lower),t.analysis&&(Z.pinfo.pe[s][y]=Be[Ce+y])}return 0};var q=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function Y(e,t,n){if(0==n)for(var a=0;a<e.npart_s;a++)e.nb_s2[t][a]=e.nb_s1[t][a],e.nb_s1[t][a]=0}function U(e,t){for(var n=0;n<e.npart_l;n++)e.nb_2[t][n]=e.nb_1[t][n],e.nb_1[t][n]=0}function G(e,t,n,a,r,s){var i,o,l,c=e.internal_flags,f=new float[p.CBANDS],h=_(p.CBANDS),d=new int[p.CBANDS];for(l=o=0;l<c.npart_s;++l){var m=0,b=0,v=c.numlines_s[l];for(i=0;i<v;++i,++o){var g=t[s][o];m+=g,b<g&&(b=g)}n[l]=m,u(m>=0),f[l]=b,u(v>0),h[l]=m/v,u(h[l]>=0)}for(u(l==c.npart_s),u(129==o);l<p.CBANDS;++l)f[l]=0,h[l]=0;for(function(e,t,n,a){var r=M.length-1,s=0,i=n[s]+n[s+1];for(u(i>=0),i>0?((o=t[s])<t[s+1]&&(o=t[s+1]),u(e.numlines_s[s]+e.numlines_s[s+1]-1>0),(l=0|(i=20*(2*o-i)/(i*(e.numlines_s[s]+e.numlines_s[s+1]-1))))>r&&(l=r),a[s]=l):a[s]=0,s=1;s<e.npart_s-1;s++){var o,l;i=n[s-1]+n[s]+n[s+1],u(s+1<e.npart_s),u(i>=0),i>0?((o=t[s-1])<t[s]&&(o=t[s]),o<t[s+1]&&(o=t[s+1]),u(e.numlines_s[s-1]+e.numlines_s[s]+e.numlines_s[s+1]-1>0),(l=0|(i=20*(3*o-i)/(i*(e.numlines_s[s-1]+e.numlines_s[s]+e.numlines_s[s+1]-1))))>r&&(l=r),a[s]=l):a[s]=0}u(s>0),u(s==e.npart_s-1),i=n[s-1]+n[s],u(i>=0),i>0?((o=t[s-1])<t[s]&&(o=t[s]),u(e.numlines_s[s-1]+e.numlines_s[s]-1>0),(l=0|(i=20*(2*o-i)/(i*(e.numlines_s[s-1]+e.numlines_s[s]-1))))>r&&(l=r),a[s]=l):a[s]=0,u(s==e.npart_s-1)}(c,f,h,d),o=l=0;l<c.npart_s;l++){var w,k,S,y,x,A=c.s3ind_s[l][0],R=c.s3ind_s[l][1];for(w=d[A],k=1,y=c.s3_ss[o]*n[A]*M[d[A]],++o,++A;A<=R;)w+=d[A],k+=1,y=T(y,S=c.s3_ss[o]*n[A]*M[d[A]],A-l),++o,++A;y*=x=.5*M[w=(1+2*w)/(2*k)],a[l]=y,c.nb_s2[r][l]=c.nb_s1[r][l],c.nb_s1[r][l]=y,S=f[l],S*=c.minval_s[l],S*=x,a[l]>S&&(a[l]=S),c.masking_lower>1&&(a[l]*=c.masking_lower),a[l]>n[l]&&(a[l]=n[l]),c.masking_lower<1&&(a[l]*=c.masking_lower),u(a[l]>=0)}for(;l<p.CBANDS;++l)n[l]=0,a[l]=0}function W(e,t,n,a,r){var s,i=_(p.CBANDS),o=_(p.CBANDS),l=f(p.CBANDS+2);j(e,t,n,i,o),D(e,i,o,l);var c=0;for(s=0;s<e.npart_l;s++){var h,d,b,v=e.s3ind[s][0],g=e.s3ind[s][1],w=0,k=0;for(w=l[v],k+=1,d=e.s3_ll[c]*n[v]*M[l[v]],++c,++v;v<=g;)w+=l[v],k+=1,d=T(d,h=e.s3_ll[c]*n[v]*M[l[v]],v-s),++c,++v;if(d*=b=.5*M[w=(1+2*w)/(2*k)],e.blocktype_old[1&r]==p.SHORT_TYPE){var S=2*e.nb_1[r][s];a[s]=S>0?Math.min(d,S):Math.min(d,n[s]*m)}else{var y=16*e.nb_2[r][s],x=2*e.nb_1[r][s];y<=0&&(y=d),x<=0&&(x=d),S=e.blocktype_old[1&r]==p.NORM_TYPE?Math.min(x,y):x,a[s]=Math.min(d,S)}e.nb_2[r][s]=e.nb_1[r][s],e.nb_1[r][s]=d,h=i[s],h*=e.minval_l[s],h*=b,a[s]>h&&(a[s]=h),e.masking_lower>1&&(a[s]*=e.masking_lower),a[s]>n[s]&&(a[s]=n[s]),e.masking_lower<1&&(a[s]*=e.masking_lower),u(a[s]>=0)}for(;s<p.CBANDS;++s)n[s]=0,a[s]=0}function K(e,t,n,a,r,s,i){for(var o,l,_=2*s,c=s>0?Math.pow(10,r):1,f=0;f<i;++f){var h=e[2][f],p=e[3][f],d=t[0][f],m=t[1][f],b=t[2][f],v=t[3][f];if(d<=1.58*m&&m<=1.58*d){var g=n[f]*p,w=n[f]*h;l=Math.max(b,Math.min(v,g)),o=Math.max(v,Math.min(b,w))}else l=b,o=v;if(s>0){var k,S,y=a[f]*c;if(k=Math.min(Math.max(d,y),Math.max(m,y)),(S=(b=Math.max(l,y))+(v=Math.max(o,y)))>0&&k*_<S){var M=k*_/S;b*=M,v*=M,u(S>0)}l=Math.min(b,l),o=Math.min(v,o)}l>h&&(l=h),o>p&&(o=p),t[2][f]=l,t[3][f]=o}}function Q(e,t){var n;return(n=e>=0?27*-e:e*t)<=-72?0:Math.exp(n*v)}function J(e){var t,n,a=0;for(a=0;Q(a,e)>1e-20;a-=1);for(r=a,s=0;Math.abs(s-r)>1e-12;)Q(a=(s+r)/2,e)>0?s=a:r=a;t=r;var r,s;a=0;for(a=0;Q(a,e)>1e-20;a+=1);for(r=0,s=a;Math.abs(s-r)>1e-12;)Q(a=(s+r)/2,e)>0?r=a:s=a;n=s;var i,o=0,l=1e3;for(i=0;i<=l;++i){o+=Q(a=t+i*(n-t)/l,e)}return(l+1)/(o*(n-t))}function $(e){var t,n,a,r;return t=e,n=(t*=t>=0?3:1.5)>=.5&&t<=2.5?8*((r=t-.5)*r-2*r):0,(a=15.811389+7.5*(t+=.474)-17.5*Math.sqrt(1+t*t))<=-60?0:(t=Math.exp((n+a)*v),t/=.6609193)}function ee(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function te(e,t,n,a,r,s,i,o,l,c,h,d){var m,b=_(p.CBANDS+1),v=o/(d>15?1152:384),g=f(p.HBLKSIZE);o/=l;var w=0,k=0;for(m=0;m<p.CBANDS;m++){var S;for(C=ee(o*w),b[m]=o*w,S=w;ee(o*S)-C<.34&&S<=l/2;S++);for(e[m]=S-w,k=m+1;w<S;)u(w<p.HBLKSIZE),g[w++]=m;if(w>l/2){w=l/2,++m;break}}u(m<p.CBANDS),b[m]=o*w;for(var y=0;y<d;y++){var M,x,A,R,B;A=c[y],R=c[y+1],(M=0|Math.floor(.5+h*(A-.5)))<0&&(M=0),(x=0|Math.floor(.5+h*(R-.5)))>l/2&&(x=l/2),n[y]=(g[M]+g[x])/2,t[y]=g[x];var E=v*R;i[y]=(E-b[t[y]])/(b[t[y]+1]-b[t[y]]),i[y]<0?i[y]=0:i[y]>1&&(i[y]=1),B=ee(o*c[y]*h),B=Math.min(B,15.5)/15.5,s[y]=Math.pow(10,1.25*(1-Math.cos(Math.PI*B))-2.5)}w=0;for(var T=0;T<k;T++){var C,L,P=e[T];C=ee(o*w),L=ee(o*(w+P-1)),a[T]=.5*(C+L),C=ee(o*(w-.5)),L=ee(o*(w+P-.5)),r[T]=L-C,w+=P}return k}function ne(e,t,n,a,r,s){var i,o=c([p.CBANDS,p.CBANDS]),l=0;if(s)for(var f=0;f<t;f++)for(i=0;i<t;i++){var u=$(n[f]-n[i])*a[i];o[f][i]=u*r[f]}else for(i=0;i<t;i++){var h=15+Math.min(21/n[i],12),d=J(h);for(f=0;f<t;f++){u=d*Q(n[f]-n[i],h)*a[i];o[f][i]=u*r[f]}}for(f=0;f<t;f++){for(i=0;i<t&&!(o[f][i]>0);i++);for(e[f][0]=i,i=t-1;i>0&&!(o[f][i]>0);i--);e[f][1]=i,l+=e[f][1]-e[f][0]+1}var m=_(l),b=0;for(f=0;f<t;f++)for(i=e[f][0];i<=e[f][1];i++)m[b++]=o[f][i];return m}function ae(e){var t=ee(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function re(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(t,n,a,r,s,o,l,h,d,m){var v=t.internal_flags,g=_(p.HBLKSIZE),w=c([3,p.HBLKSIZE_s]),k=c([2,p.BLKSIZE]),S=c([2,3,p.BLKSIZE_s]),y=c([4,p.CBANDS]),M=c([4,p.CBANDS]),x=c([4,3]),A=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],R=f(2),B=t.mode==e.JOINT_STEREO?4:v.channels_out;!function(t,n,a,r,s,i,o,l,f,h){for(var p=c([2,576]),d=t.internal_flags,m=d.channels_out,v=t.mode==e.JOINT_STEREO?4:m,g=0;g<m;g++){firbuf=n[g];var w=a+576-350-b+192;u(10==q.length);for(var k=0;k<576;k++){var S,y;S=firbuf[w+k+10],y=0;for(var M=0;M<9;M+=2)S+=q[M]*(firbuf[w+k+M]+firbuf[w+k+b-M]),y+=q[M+1]*(firbuf[w+k+M+1]+firbuf[w+k+b-M-1]);p[g][k]=S+y}s[r][g].en.assign(d.en[g]),s[r][g].thm.assign(d.thm[g]),v>2&&(i[r][g].en.assign(d.en[g+2]),i[r][g].thm.assign(d.thm[g+2]))}for(g=0;g<v;g++){var x=_(12),A=_(12),R=[0,0,0,0],B=p[1&g],E=0,T=3==g?d.nsPsy.attackthre_s:d.nsPsy.attackthre,C=1;if(2==g)for(k=0,M=576;M>0;++k,--M){var L=p[0][k],P=p[1][k];p[0][k]=L+P,p[1][k]=L-P}for(k=0;k<3;k++)A[k]=d.nsPsy.last_en_subshort[g][k+6],u(d.nsPsy.last_en_subshort[g][k+4]>0),x[k]=A[k]/d.nsPsy.last_en_subshort[g][k+4],R[0]+=A[k];for(k=0;k<9;k++){for(var I=E+64,H=1;E<I;E++)H<Math.abs(B[E])&&(H=Math.abs(B[E]));d.nsPsy.last_en_subshort[g][k]=A[k+3]=H,R[1+k/3]+=H,H>A[k+3-2]?(u(A[k+3-2]>0),H/=A[k+3-2]):A[k+3-2]>10*H?(u(H>0),H=A[k+3-2]/(10*H)):H=0,x[k+3]=H}for(k=0;k<3;++k){var V=A[3*k+3]+A[3*k+4]+A[3*k+5],O=1;6*A[3*k+5]<V&&(O*=.5,6*A[3*k+4]<V&&(O*=.5)),l[g][k]=O}if(t.analysis){var N=x[0];for(k=1;k<12;k++)N<x[k]&&(N=x[k]);d.pinfo.ers[r][g]=d.pinfo.ers_save[g],d.pinfo.ers_save[g]=N}for(k=0;k<12;k++)0==f[g][k/3]&&x[k]>T&&(f[g][k/3]=k%3+1);for(k=1;k<4;k++){var j=R[k-1],D=R[k];Math.max(j,D)<4e4&&j<1.7*D&&D<1.7*j&&(1==k&&f[g][0]<=f[g][k]&&(f[g][0]=0),f[g][k]=0)}f[g][0]<=d.nsPsy.lastAttacks[g]&&(f[g][0]=0),3!=d.nsPsy.lastAttacks[g]&&f[g][0]+f[g][1]+f[g][2]+f[g][3]==0||(C=0,0!=f[g][1]&&0!=f[g][0]&&(f[g][1]=0),0!=f[g][2]&&0!=f[g][1]&&(f[g][2]=0),0!=f[g][3]&&0!=f[g][2]&&(f[g][3]=0)),g<2?h[g]=C:0==C&&(h[0]=h[1]=0),o[g]=d.tot_ener[g]}}(t,n,a,r,s,o,d,x,A,R),function(e,t){var n=e.internal_flags;e.short_blocks!=i.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var a=0;a<n.channels_out;a++)e.short_blocks==i.short_block_dispensed&&(t[a]=1),e.short_blocks==i.short_block_forced&&(t[a]=0)}(t,R);for(var E=0;E<B;E++){z(t,n,a,E,r,g,k,P=1&E),X(t,r,E,g),0!=R[P]?W(v,g,y[E],M[E],E):U(v,E)}R[0]+R[1]==2&&t.mode==e.JOINT_STEREO&&K(y,M,v.mld_cb_l,v.ATH.cb_l,t.ATHlower*v.ATH.adjust,t.msfix,v.npart_l);for(E=0;E<B;E++){0!=R[P=1&E]&&L(v,y[E],M[E],E)}for(var T=0;T<3;T++){for(E=0;E<B;++E){0!=R[P=1&E]?Y(v,E,T):(Z(t,n,a,E,T,w,S,P),G(t,w,y[E],M[E],E,T))}R[0]+R[1]==0&&t.mode==e.JOINT_STEREO&&K(y,M,v.mld_cb_s,v.ATH.cb_s,t.ATHlower*v.ATH.adjust,t.msfix,v.npart_s);for(E=0;E<B;++E){0==R[P=1&E]&&C(v,y[E],M[E],E,T)}}for(E=0;E<B;E++){var P;if(0==R[P=1&E])for(var H=0;H<p.SBMAX_s;H++){var O=_(3);for(T=0;T<3;T++){var j=v.thm[E].s[H][T];if(j*=.8,A[E][T]>=2||1==A[E][T+1]){var D=0!=T?T-1:2,F=I(v.thm[E].s[H][D],j,.36);j=Math.min(j,F)}else if(1==A[E][T]){D=0!=T?T-1:2,F=I(v.thm[E].s[H][D],j,.18);j=Math.min(j,F)}else if(0!=T&&3==A[E][T-1]||0==T&&3==v.nsPsy.lastAttacks[E]){D=2!=T?T+1:0,F=I(v.thm[E].s[H][D],j,.18);j=Math.min(j,F)}j*=x[E][T],O[T]=j}for(T=0;T<3;T++)v.thm[E].s[H][T]=O[T]}}for(E=0;E<B;E++)v.nsPsy.lastAttacks[E]=A[E][2];!function(e,t,n){for(var a=e.internal_flags,r=0;r<a.channels_out;r++){var s=p.NORM_TYPE;0!=t[r]?(u(a.blocktype_old[r]!=p.START_TYPE),a.blocktype_old[r]==p.SHORT_TYPE&&(s=p.STOP_TYPE)):(s=p.SHORT_TYPE,a.blocktype_old[r]==p.NORM_TYPE&&(a.blocktype_old[r]=p.START_TYPE),a.blocktype_old[r]==p.STOP_TYPE&&(a.blocktype_old[r]=p.SHORT_TYPE)),n[r]=a.blocktype_old[r],a.blocktype_old[r]=s}}(t,R,m);for(E=0;E<B;E++){var Q,J,$,ee;E>1?(Q=h,J=-2,$=p.NORM_TYPE,m[0]!=p.SHORT_TYPE&&m[1]!=p.SHORT_TYPE||($=p.SHORT_TYPE),ee=o[r][E-2]):(Q=l,J=0,$=m[E],ee=s[r][E]),$==p.SHORT_TYPE?Q[J+E]=V(ee,v.masking_lower):Q[J+E]=N(ee,v.masking_lower),t.analysis&&(v.pinfo.pe[r][E]=Q[J+E])}return 0},this.psymodel_init=function(e){var n,i=e.internal_flags,o=!0,l=13,c=24,f=0,h=0,d=-8.25,m=-4.5,b=_(p.CBANDS),v=_(p.CBANDS),g=_(p.CBANDS),w=e.out_samplerate;switch(e.experimentalZ){default:case 0:o=!0;break;case 1:o=e.VBR!=r.vbr_mtrh&&e.VBR!=r.vbr_mt;break;case 2:o=!1;break;case 3:l=8,f=-1.75,h=-.0125,d=-8.25,m=-2.25}for(i.ms_ener_ratio_old=.25,i.blocktype_old[0]=i.blocktype_old[1]=p.NORM_TYPE,n=0;n<4;++n){for(var M=0;M<p.CBANDS;++M)i.nb_1[n][M]=1e20,i.nb_2[n][M]=1e20,i.nb_s1[n][M]=i.nb_s2[n][M]=1;for(var x=0;x<p.SBMAX_l;x++)i.en[n].l[x]=1e20,i.thm[n].l[x]=1e20;for(M=0;M<3;++M){for(x=0;x<p.SBMAX_s;x++)i.en[n].s[x][M]=1e20,i.thm[n].s[x][M]=1e20;i.nsPsy.lastAttacks[n]=0}for(M=0;M<9;M++)i.nsPsy.last_en_subshort[n][M]=10}for(i.loudness_sq_save[0]=i.loudness_sq_save[1]=0,i.npart_l=te(i.numlines_l,i.bo_l,i.bm_l,b,v,i.mld_l,i.PSY.bo_l_weight,w,p.BLKSIZE,i.scalefac_band.l,p.BLKSIZE/1152,p.SBMAX_l),u(i.npart_l<p.CBANDS),n=0;n<i.npart_l;n++){var A=f;b[n]>=l&&(A=h*(b[n]-l)/(c-l)+f*(c-b[n])/(c-l)),g[n]=Math.pow(10,A/10),i.numlines_l[n]>0?i.rnumlines_l[n]=1/i.numlines_l[n]:i.rnumlines_l[n]=0}i.s3_ll=ne(i.s3ind,i.npart_l,b,v,g,o);var R;M=0;for(n=0;n<i.npart_l;n++){T=s.MAX_VALUE;for(var B=0;B<i.numlines_l[n];B++,M++){var E=w*M/(1e3*p.BLKSIZE);C=this.ATHformula(1e3*E,e)-20,C=Math.pow(10,.1*C),T>(C*=i.numlines_l[n])&&(T=C)}i.ATH.cb_l[n]=T,(T=20*b[n]/10-20)>6&&(T=100),T<-15&&(T=-15),T-=8,i.minval_l[n]=Math.pow(10,T/10)*i.numlines_l[n]}for(i.npart_s=te(i.numlines_s,i.bo_s,i.bm_s,b,v,i.mld_s,i.PSY.bo_s_weight,w,p.BLKSIZE_s,i.scalefac_band.s,p.BLKSIZE_s/384,p.SBMAX_s),u(i.npart_s<p.CBANDS),M=0,n=0;n<i.npart_s;n++){var T;A=d;b[n]>=l&&(A=m*(b[n]-l)/(c-l)+d*(c-b[n])/(c-l)),g[n]=Math.pow(10,A/10),T=s.MAX_VALUE;for(B=0;B<i.numlines_s[n];B++,M++){var C;E=w*M/(1e3*p.BLKSIZE_s);C=this.ATHformula(1e3*E,e)-20,C=Math.pow(10,.1*C),T>(C*=i.numlines_s[n])&&(T=C)}i.ATH.cb_s[n]=T,T=7*b[n]/12-7,b[n]>12&&(T*=1+3.1*Math.log(1+T)),b[n]<12&&(T*=1+2.3*Math.log(1-T)),T<-15&&(T=-15),T-=8,i.minval_s[n]=Math.pow(10,T/10)*i.numlines_s[n]}i.s3_ss=ne(i.s3ind_s,i.npart_s,b,v,g,o),k=Math.pow(10,9/16),S=Math.pow(10,1.5),y=Math.pow(10,1.5),t.init_fft(i),i.decay=Math.exp(-1*a/(.01*w/192)),R=3.5,0!=(2&e.exp_nspsytune)&&(R=1),Math.abs(e.msfix)>0&&(R=e.msfix),e.msfix=R;for(var L=0;L<i.npart_l;L++)i.s3ind[L][1]>i.npart_l-1&&(i.s3ind[L][1]=i.npart_l-1);var P=576*i.mode_gr/w;if(i.ATH.decay=Math.pow(10,-1.2*P),i.ATH.adjust=.01,i.ATH.adjustLimit=1,u(i.bo_l[p.SBMAX_l-1]<=i.npart_l),u(i.bo_s[p.SBMAX_s-1]<=i.npart_s),-1!=e.ATHtype){var I=e.out_samplerate/p.BLKSIZE,H=0;for(E=0,n=0;n<p.BLKSIZE/2;++n)E+=I,i.ATH.eql_w[n]=1/Math.pow(10,this.ATHformula(E,e)/10),H+=i.ATH.eql_w[n];for(H=1/H,n=p.BLKSIZE/2;--n>=0;)i.ATH.eql_w[n]*=H}for(L=M=0;L<i.npart_s;++L)for(n=0;n<i.numlines_s[L];++n)++M;u(129==M);for(L=M=0;L<i.npart_l;++L)for(n=0;n<i.numlines_l[L];++n)++M;for(u(513==M),M=0,n=0;n<i.npart_l;n++){E=w*(M+i.numlines_l[n]/2)/(1*p.BLKSIZE);i.mld_cb_l[n]=ae(E),M+=i.numlines_l[n]}for(;n<p.CBANDS;++n)i.mld_cb_l[n]=1;for(M=0,n=0;n<i.npart_s;n++){E=w*(M+i.numlines_s[n]/2)/(1*p.BLKSIZE_s);i.mld_cb_s[n]=ae(E),M+=i.numlines_s[n]}for(;n<p.CBANDS;++n)i.mld_cb_s[n]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=re(e,9);break;case 1:n=re(e,-1);break;case 2:default:n=re(e,0);break;case 3:n=re(e,1)+6;break;case 4:n=re(e,t.ATHcurve)}return n}}},40288:function(e,t,n){var a=n(95457),r=a.System,s=a.VbrMode,i=(a.Float,a.ShortBlock,a.Util),o=a.Arrays,l=(a.new_array_n,a.new_byte,a.new_double,a.new_float),_=(a.new_float_n,a.new_int,a.new_int_n,a.assert),c=n(31e3),f=n(46967),u=n(85364),h=n(16875),p=n(3066),d=n(50413);e.exports=function(){var e,t,n;this.rv=null,this.qupvt=null;var a,m=new c;function b(e){this.ordinal=e}function v(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function g(e,t,n,a,r){var s;switch(e){default:case 9:t.over_count>0?(s=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(s=n.bits<t.bits)):s=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:s=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=function(e,t){for(var n,a=1e-37,r=0;r<t.psymax;r++)a+=(n=e[r],i.FAST_LOG10(.368+.632*n*n*n));return Math.max(1e-20,a)}(r,a);case 1:s=n.max_noise<t.max_noise;break;case 2:s=n.tot_noise<t.tot_noise;break;case 3:s=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:s=n.max_noise<=0&&t.max_noise>.2||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&t.max_noise>0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.05&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.1&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:s=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:s=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||BitStream.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:s=n.over_count<t.over_count||n.over_noise<t.over_noise}return 0==t.over_count&&(s=s&&n.bits<t.bits),s}function w(e,t,r,s,i){var l=e.internal_flags;!function(e,t,n,a,r){var s,i=e.internal_flags;s=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var o=0,l=0;l<t.sfbmax;l++)o<n[l]&&(o=n[l]);var _=i.noise_shaping_amp;switch(3==_&&(_=r?2:1),_){case 2:break;case 1:o>1?o=Math.pow(o,.5):o*=.95;break;default:o>1?o=1:o*=.95}var c=0;for(l=0;l<t.sfbmax;l++){var f,u=t.width[l];if(c+=u,!(n[l]<o)){if(0!=(2&i.substep_shaping)&&(i.pseudohalf[l]=0==i.pseudohalf[l]?1:0,0==i.pseudohalf[l]&&2==i.noise_shaping_amp))return;for(t.scalefac[l]++,f=-u;f<0;f++)a[c+f]*=s,a[c+f]>t.xrpow_max&&(t.xrpow_max=a[c+f]);if(2==i.noise_shaping_amp)return}}}(e,t,r,s,i);var c=v(t);return!c&&(!(c=2==l.mode_gr?a.scale_bitcount(t):a.scale_bitcount_lsf(l,t))||(l.noise_shaping>1&&(o.fill(l.pseudohalf,0),0==t.scalefac_scale?(!function(e,t){for(var a=0,r=0;r<e.sfbmax;r++){var s=e.width[r],i=e.scalefac[r];if(0!=e.preflag&&(i+=n.pretab[r]),a+=s,0!=(1&i)){i++;for(var o=-s;o<0;o++)t[a+o]*=1.2968395546510096,t[a+o]>e.xrpow_max&&(e.xrpow_max=t[a+o])}e.scalefac[r]=i>>1}e.preflag=0,e.scalefac_scale=1}(t,s),c=!1):t.block_type==h.SHORT_TYPE&&l.subblock_gain>0&&(c=function(e,t,a){var r,s=t.scalefac;for(r=0;r<t.sfb_lmax;r++)if(s[r]>=16)return!0;for(var i=0;i<3;i++){var o=0,l=0;for(r=t.sfb_lmax+i;r<t.sfbdivide;r+=3)o<s[r]&&(o=s[r]);for(;r<t.sfbmax;r+=3)l<s[r]&&(l=s[r]);if(!(o<16&&l<8)){if(t.subblock_gain[i]>=7)return!0;t.subblock_gain[i]++;var c=e.scalefac_band.l[t.sfb_lmax];for(r=t.sfb_lmax+i;r<t.sfbmax;r+=3){var f=t.width[r],u=s[r];if(_(u>=0),(u-=4>>t.scalefac_scale)>=0)s[r]=u,c+=3*f;else{s[r]=0;var h=210+(u<<t.scalefac_scale+1);d=n.IPOW20(h),c+=f*(i+1);for(var p=-f;p<0;p++)a[c+p]*=d,a[c+p]>t.xrpow_max&&(t.xrpow_max=a[c+p]);c+=f*(3-i-1)}}var d=n.IPOW20(202);for(c+=t.width[r]*(i+1),p=-t.width[r];p<0;p++)a[c+p]*=d,a[c+p]>t.xrpow_max&&(t.xrpow_max=a[c+p])}}return!1}(l,t,s)||v(t))),c||(c=2==l.mode_gr?a.scale_bitcount(t):a.scale_bitcount_lsf(l,t)),!c))}this.setModules=function(r,s,i,o){e=r,t=s,this.rv=s,n=i,this.qupvt=i,a=o,m.setModules(n,a)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var a=e.tt[t][0].xr[n],r=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(a+r)*(.5*i.SQRT2),e.tt[t][1].xr[n]=(a-r)*(.5*i.SQRT2)}},this.init_xrpow=function(e,t,n){var a=0,r=0|t.max_nonzero_coeff;if(_(null!=n),t.xrpow_max=0,_(0<=r&&r<=575),o.fill(n,r,576,0),a=function(e,t,n,a){a=0;for(var r=0;r<=n;++r){var s=Math.abs(e.xr[r]);a+=s,t[r]=Math.sqrt(s*Math.sqrt(s)),t[r]>e.xrpow_max&&(e.xrpow_max=t[r])}return a}(t,n,r,a),a>1e-20){var s=0;0!=(2&e.substep_shaping)&&(s=1);for(var i=0;i<t.psymax;i++)e.pseudohalf[i]=s;return!0}return o.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=h.SBPSY_l,t.sfb_smin=h.SBPSY_s,t.psy_lmax=e.sfb21_extra?h.SBMAX_l:h.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var a=0;a<h.SBMAX_l;a++)t.width[a]=e.scalefac_band.l[a+1]-e.scalefac_band.l[a],t.window[a]=3;if(t.block_type==h.SHORT_TYPE){var s=l(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?h.SBMAX_s:h.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(h.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var i=e.scalefac_band.l[t.sfb_lmax];r.arraycopy(t.xr,0,s,0,576);for(a=t.sfb_smin;a<h.SBMAX_s;a++)for(var _=e.scalefac_band.s[a],c=e.scalefac_band.s[a+1],f=0;f<3;f++)for(var u=_;u<c;u++)t.xr[i++]=s[3*u+f];var p=t.sfb_lmax;for(a=t.sfb_smin;a<h.SBMAX_s;a++)t.width[p]=t.width[p+1]=t.width[p+2]=e.scalefac_band.s[a+1]-e.scalefac_band.s[a],t.window[p]=0,t.window[p+1]=1,t.window[p+2]=2,p+=3}t.count1bits=0,t.sfb_partition_table=n.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,o.fill(t.scalefac,0),function(e,t){var a=e.ATH,r=t.xr;if(t.block_type!=h.SHORT_TYPE)for(var s=!1,i=h.PSFB21-1;i>=0&&!s;i--){var o=e.scalefac_band.psfb21[i],l=e.scalefac_band.psfb21[i+1],_=n.athAdjust(a.adjust,a.psfb21[i],a.floor);e.nsPsy.longfact[21]>1e-12&&(_*=e.nsPsy.longfact[21]);for(var c=l-1;c>=o;c--){if(!(Math.abs(r[c])<_)){s=!0;break}r[c]=0}}else for(var f=0;f<3;f++)for(s=!1,i=h.PSFB12-1;i>=0&&!s;i--){l=(o=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*f+(e.scalefac_band.psfb12[i]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[i+1]-e.scalefac_band.psfb12[i]);var u=n.athAdjust(a.adjust,a.psfb12[i],a.floor);for(e.nsPsy.shortfact[12]>1e-12&&(u*=e.nsPsy.shortfact[12]),c=l-1;c>=o;c--){if(!(Math.abs(r[c])<u)){s=!0;break}r[c]=0}}}(e,t)},b.BINSEARCH_NONE=new b(0),b.BINSEARCH_UP=new b(1),b.BINSEARCH_DOWN=new b(2),this.trancate_smallspectrums=function(e,t,r,s){var i=l(d.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=h.SHORT_TYPE)&&0==(128&e.substep_shaping)){n.calc_noise(t,r,i,new f,null);for(var _=0;_<576;_++){var c=0;0!=t.l3_enc[_]&&(c=Math.abs(t.xr[_])),s[_]=c}_=0;var u=8;t.block_type==h.SHORT_TYPE&&(u=6);do{var p,m,b,v,g=t.width[u];if(_+=g,!(i[u]>=1)&&(o.sort(s,_-g,g),!BitStream.EQ(s[_-1],0))){p=(1-i[u])*r[u],m=0,v=0;do{var w;for(b=1;v+b<g&&!BitStream.NEQ(s[v+_-g],s[v+_+b-g]);b++);if(p<(w=s[v+_-g]*s[v+_-g]*b)){0!=v&&(m=s[v+_-g-1]);break}p-=w,v+=b}while(v<g);if(!BitStream.EQ(m,0))do{Math.abs(t.xr[_-g])<=m&&(t.l3_enc[_-g]=0)}while(--g>0)}}while(++u<t.psymax);t.part2_3_length=a.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,i,o,c,m){var v=e.internal_flags,k=new p,S=l(576),y=l(d.SFBMAX),M=new f,x=new u,A=9999999,R=!1,B=!1,E=0;if(function(e,t,n,r,s){var i,o=e.CurrentStep[r],l=!1,c=e.OldValue[r],f=b.BINSEARCH_NONE;for(t.global_gain=c,n-=t.part2_length,_(0!=o);;){var u;if(i=a.count_bits(e,s,t,null),1==o||i==n)break;i>n?(f==b.BINSEARCH_DOWN&&(l=!0),l&&(o/=2),f=b.BINSEARCH_UP,u=o):(f==b.BINSEARCH_UP&&(l=!0),l&&(o/=2),f=b.BINSEARCH_DOWN,u=-o),t.global_gain+=u,t.global_gain<0&&(t.global_gain=0,l=!0),t.global_gain>255&&(t.global_gain=255,l=!0)}for(_(t.global_gain>=0),_(t.global_gain<256);i>n&&t.global_gain<255;)t.global_gain++,i=a.count_bits(e,s,t,null);e.CurrentStep[r]=c-t.global_gain>=4?4:2,e.OldValue[r]=t.global_gain,t.part2_3_length=i}(v,t,m,c,o),0==v.noise_shaping)return 100;n.calc_noise(t,i,y,M,x),M.bits=t.part2_3_length,k.assign(t);var T=0;for(r.arraycopy(o,0,S,0,576);!R;){do{var C,L=new f,P=255;if(C=0!=(2&v.substep_shaping)?20:3,v.sfb21_extra){if(y[k.sfbmax]>1)break;if(k.block_type==h.SHORT_TYPE&&(y[k.sfbmax+1]>1||y[k.sfbmax+2]>1))break}if(!w(e,k,y,o,B))break;0!=k.scalefac_scale&&(P=254);var I=m-k.part2_length;if(I<=0)break;for(;(k.part2_3_length=a.count_bits(v,o,k,x))>I&&k.global_gain<=P;)k.global_gain++;if(k.global_gain>P)break;if(0==M.over_count){for(;(k.part2_3_length=a.count_bits(v,o,k,x))>A&&k.global_gain<=P;)k.global_gain++;if(k.global_gain>P)break}if(n.calc_noise(k,i,y,L,x),L.bits=k.part2_3_length,0!=(g(t.block_type!=h.SHORT_TYPE?e.quant_comp:e.quant_comp_short,M,L,k,y)?1:0))A=t.part2_3_length,M=L,t.assign(k),T=0,r.arraycopy(o,0,S,0,576);else if(0==v.full_outer_loop){if(++T>C&&0==M.over_count)break;if(3==v.noise_shaping_amp&&B&&T>30)break;if(3==v.noise_shaping_amp&&B&&k.global_gain-E>15)break}}while(k.global_gain+k.scalefac_scale<255);3==v.noise_shaping_amp?B?R=!0:(k.assign(t),r.arraycopy(S,0,o,0,576),T=0,E=k.global_gain,B=!0):R=!0}return _(t.global_gain+t.scalefac_scale<=255),e.VBR==s.vbr_rh||e.VBR==s.vbr_mtrh?r.arraycopy(S,0,o,0,576):0!=(1&v.substep_shaping)&&trancate_smallspectrums(v,t,i,o),M.over_count},this.iteration_finish_one=function(e,n,r){var s=e.l3_side,i=s.tt[n][r];a.best_scalefac_store(e,n,r,s),1==e.use_best_huffman&&a.best_huffman_divide(e,i),t.ResvAdjust(e,i)},this.VBR_encode_granule=function(e,t,n,a,s,i,c){var f,u=e.internal_flags,h=new p,d=l(576),m=c,b=c+1,v=(c+i)/2,g=0,w=u.sfb21_extra;_(m<=LameInternalFlags.MAX_BITS_PER_CHANNEL),o.fill(h.l3_enc,0);do{_(v>=i),_(v<=c),_(i<=c),u.sfb21_extra=!(v>m-42)&&w,outer_loop(e,t,n,a,s,v)<=0?(g=1,b=t.part2_3_length,h.assign(t),r.arraycopy(a,0,d,0,576),f=(c=b-32)-i,v=(c+i)/2):(f=c-(i=v+32),v=(c+i)/2,0!=g&&(g=2,t.assign(h),r.arraycopy(d,0,a,0,576)))}while(f>12);u.sfb21_extra=w,2==g&&r.arraycopy(h.l3_enc,0,t.l3_enc,0,576),_(t.part2_3_length<=m)},this.get_framebits=function(n,a){var r=n.internal_flags;r.bitrate_index=r.VBR_min_bitrate;var s=e.getframebits(n);r.bitrate_index=1,s=e.getframebits(n);for(var i=1;i<=r.VBR_max_bitrate;i++){r.bitrate_index=i;var o=new MeanBits(s);a[i]=t.ResvFrameBegin(n,o),s=o.bits}},this.VBR_old_prepare=function(e,a,r,s,i,o,l,_,c){var f,u=e.internal_flags,p=0,d=1,m=0;u.bitrate_index=u.VBR_max_bitrate;var b=t.ResvFrameBegin(e,new MeanBits(0))/u.mode_gr;get_framebits(e,o);for(var v=0;v<u.mode_gr;v++){var g=n.on_pe(e,a,_[v],b,v,0);u.mode_ext==h.MPG_MD_MS_LR&&(ms_convert(u.l3_side,v),n.reduce_side(_[v],r[v],b,g));for(var w=0;w<u.channels_out;++w){var k=u.l3_side.tt[v][w];k.block_type!=h.SHORT_TYPE?(p=1.28/(1+Math.exp(3.5-a[v][w]/300))-.05,f=u.PSY.mask_adjust-p):(p=2.56/(1+Math.exp(3.5-a[v][w]/300))-.14,f=u.PSY.mask_adjust_short-p),u.masking_lower=Math.pow(10,.1*f),init_outer_loop(u,k),c[v][w]=n.calc_xmin(e,s[v][w],k,i[v][w]),0!=c[v][w]&&(d=0),l[v][w]=126,m+=_[v][w]}}for(v=0;v<u.mode_gr;v++)for(w=0;w<u.channels_out;w++)m>o[u.VBR_max_bitrate]&&(_[v][w]*=o[u.VBR_max_bitrate],_[v][w]/=m),l[v][w]>_[v][w]&&(l[v][w]=_[v][w]);return d},this.bitpressure_strategy=function(e,t,n,a){for(var r=0;r<e.mode_gr;r++)for(var s=0;s<e.channels_out;s++){for(var i=e.l3_side.tt[r][s],o=t[r][s],l=0,_=0;_<i.psy_lmax;_++)o[l++]*=1+.029*_*_/h.SBMAX_l/h.SBMAX_l;if(i.block_type==h.SHORT_TYPE)for(_=i.sfb_smin;_<h.SBMAX_s;_++)o[l++]*=1+.029*_*_/h.SBMAX_s/h.SBMAX_s,o[l++]*=1+.029*_*_/h.SBMAX_s/h.SBMAX_s,o[l++]*=1+.029*_*_/h.SBMAX_s/h.SBMAX_s;a[r][s]=0|Math.max(n[r][s],.9*a[r][s])}},this.VBR_new_prepare=function(e,a,r,s,i,o){var l,_=e.internal_flags,c=1,f=0,u=0;if(e.free_format){_.bitrate_index=0;p=new MeanBits(f);l=t.ResvFrameBegin(e,p),f=p.bits,i[0]=l}else{_.bitrate_index=_.VBR_max_bitrate;var p=new MeanBits(f);t.ResvFrameBegin(e,p),f=p.bits,get_framebits(e,i),l=i[_.VBR_max_bitrate]}for(var d=0;d<_.mode_gr;d++){n.on_pe(e,a,o[d],f,d,0),_.mode_ext==h.MPG_MD_MS_LR&&ms_convert(_.l3_side,d);for(var m=0;m<_.channels_out;++m){var b=_.l3_side.tt[d][m];_.masking_lower=Math.pow(10,.1*_.PSY.mask_adjust),init_outer_loop(_,b),0!=n.calc_xmin(e,r[d][m],b,s[d][m])&&(c=0),u+=o[d][m]}}for(d=0;d<_.mode_gr;d++)for(m=0;m<_.channels_out;m++)u>l&&(o[d][m]*=l,o[d][m]/=u);return c},this.calc_target_bits=function(a,r,s,i,o,l){var _,c,f,u,p=a.internal_flags,d=p.l3_side,m=0;p.bitrate_index=p.VBR_max_bitrate;var b=new MeanBits(m);for(l[0]=t.ResvFrameBegin(a,b),m=b.bits,p.bitrate_index=1,m=e.getframebits(a)-8*p.sideinfo_len,o[0]=m/(p.mode_gr*p.channels_out),m=a.VBR_mean_bitrate_kbps*a.framesize*1e3,0!=(1&p.substep_shaping)&&(m*=1.09),m/=a.out_samplerate,m-=8*p.sideinfo_len,m/=p.mode_gr*p.channels_out,(_=.93+.07*(11-a.compression_ratio)/5.5)<.9&&(_=.9),_>1&&(_=1),c=0;c<p.mode_gr;c++){var v=0;for(f=0;f<p.channels_out;f++){if(i[c][f]=int(_*m),r[c][f]>700){var g=int((r[c][f]-700)/1.4),w=d.tt[c][f];i[c][f]=int(_*m),w.block_type==h.SHORT_TYPE&&g<m/2&&(g=m/2),g>3*m/2?g=3*m/2:g<0&&(g=0),i[c][f]+=g}i[c][f]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(i[c][f]=LameInternalFlags.MAX_BITS_PER_CHANNEL),v+=i[c][f]}if(v>LameInternalFlags.MAX_BITS_PER_GRANULE)for(f=0;f<p.channels_out;++f)i[c][f]*=LameInternalFlags.MAX_BITS_PER_GRANULE,i[c][f]/=v}if(p.mode_ext==h.MPG_MD_MS_LR)for(c=0;c<p.mode_gr;c++)n.reduce_side(i[c],s[c],m*p.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(u=0,c=0;c<p.mode_gr;c++)for(f=0;f<p.channels_out;f++)i[c][f]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(i[c][f]=LameInternalFlags.MAX_BITS_PER_CHANNEL),u+=i[c][f];if(u>l[0])for(c=0;c<p.mode_gr;c++)for(f=0;f<p.channels_out;f++)i[c][f]*=l[0],i[c][f]/=u}}},67237:function(e,t,n){var a=n(60941),r=n(95457),s=(r.System,r.VbrMode),i=r.Float,o=(r.ShortBlock,r.Util),l=(r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),_=(r.new_float_n,r.new_int),c=(r.new_int_n,r.assert),f=n(16875),u=n(33266),h=n(46207);function p(){var e=n(51024),t=null,r=null,d=null;this.setModules=function(e,n,a){t=e,r=n,d=a},this.IPOW20=function(e){return c(0<=e&&e<p.Q_MAX),S[e]};var m=2220446049250313e-31,b=p.IXMAX_VAL+2,v=p.Q_MAX,g=p.Q_MAX2;p.LARGE_BITS;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var w=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=w,this.sfBandIndex=[new a([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new a([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var k=l(v+g+1),S=l(v),y=l(b),M=l(b);function x(e,t){var n=d.ATHformula(t,e);return n-=100,n=Math.pow(10,n/10+e.ATHlower)}function A(e){this.s=e}this.adj43=M,this.iteration_init=function(e){var n,a=e.internal_flags,r=a.l3_side;if(0==a.iteration_init_init){for(a.iteration_init_init=1,r.main_data_begin=0,function(e){for(var t=e.internal_flags.ATH.l,n=e.internal_flags.ATH.psfb21,a=e.internal_flags.ATH.s,r=e.internal_flags.ATH.psfb12,s=e.internal_flags,o=e.out_samplerate,l=0;l<f.SBMAX_l;l++){var _=s.scalefac_band.l[l],c=s.scalefac_band.l[l+1];t[l]=i.MAX_VALUE;for(var u=_;u<c;u++){var h=x(e,u*o/1152);t[l]=Math.min(t[l],h)}}for(l=0;l<f.PSFB21;l++)for(_=s.scalefac_band.psfb21[l],c=s.scalefac_band.psfb21[l+1],n[l]=i.MAX_VALUE,u=_;u<c;u++)h=x(e,u*o/1152),n[l]=Math.min(n[l],h);for(l=0;l<f.SBMAX_s;l++){for(_=s.scalefac_band.s[l],c=s.scalefac_band.s[l+1],a[l]=i.MAX_VALUE,u=_;u<c;u++)h=x(e,u*o/384),a[l]=Math.min(a[l],h);a[l]*=s.scalefac_band.s[l+1]-s.scalefac_band.s[l]}for(l=0;l<f.PSFB12;l++){for(_=s.scalefac_band.psfb12[l],c=s.scalefac_band.psfb12[l+1],r[l]=i.MAX_VALUE,u=_;u<c;u++)h=x(e,u*o/384),r[l]=Math.min(r[l],h);r[l]*=s.scalefac_band.s[13]-s.scalefac_band.s[12]}if(e.noATH){for(l=0;l<f.SBMAX_l;l++)t[l]=1e-20;for(l=0;l<f.PSFB21;l++)n[l]=1e-20;for(l=0;l<f.SBMAX_s;l++)a[l]=1e-20;for(l=0;l<f.PSFB12;l++)r[l]=1e-20}s.ATH.floor=10*Math.log10(x(e,-1))}(e),y[0]=0,n=1;n<b;n++)y[n]=Math.pow(n,4/3);for(n=0;n<b-1;n++)M[n]=n+1-Math.pow(.5*(y[n]+y[n+1]),.75);for(M[n]=.5,n=0;n<v;n++)S[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=v+g;n++)k[n]=Math.pow(2,.25*(n-210-g));var s,o,l,_;for(t.huffman_init(a),(n=e.exp_nspsytune>>2&63)>=32&&(n-=64),s=Math.pow(10,n/4/10),(n=e.exp_nspsytune>>8&63)>=32&&(n-=64),o=Math.pow(10,n/4/10),(n=e.exp_nspsytune>>14&63)>=32&&(n-=64),l=Math.pow(10,n/4/10),(n=e.exp_nspsytune>>20&63)>=32&&(n-=64),_=l*Math.pow(10,n/4/10),n=0;n<f.SBMAX_l;n++){c=n<=6?s:n<=13?o:n<=20?l:_,a.nsPsy.longfact[n]=c}for(n=0;n<f.SBMAX_s;n++){var c;c=n<=5?s:n<=10?o:n<=11?l:_,a.nsPsy.shortfact[n]=c}}},this.on_pe=function(e,t,n,a,s,i){var o,l,f=e.internal_flags,p=0,d=_(2),m=new u(p),b=r.ResvMaxBits(e,a,m,i),v=(p=m.bits)+b;for(v>h.MAX_BITS_PER_GRANULE&&(v=h.MAX_BITS_PER_GRANULE),o=0,l=0;l<f.channels_out;++l)n[l]=Math.min(h.MAX_BITS_PER_CHANNEL,p/f.channels_out),d[l]=0|n[l]*t[s][l]/700-n[l],d[l]>3*a/4&&(d[l]=3*a/4),d[l]<0&&(d[l]=0),d[l]+n[l]>h.MAX_BITS_PER_CHANNEL&&(d[l]=Math.max(0,h.MAX_BITS_PER_CHANNEL-n[l])),o+=d[l];if(o>b)for(l=0;l<f.channels_out;++l)d[l]=b*d[l]/o;for(l=0;l<f.channels_out;++l)n[l]+=d[l],b-=d[l];for(o=0,l=0;l<f.channels_out;++l)o+=n[l];if(o>h.MAX_BITS_PER_GRANULE){var g=0;for(l=0;l<f.channels_out;++l)n[l]*=h.MAX_BITS_PER_GRANULE,n[l]/=o,g+=n[l];c(g<=h.MAX_BITS_PER_GRANULE)}return v},this.reduce_side=function(e,t,n,a){c(a<=h.MAX_BITS_PER_GRANULE),c(e[0]+e[1]<=h.MAX_BITS_PER_GRANULE);var r=.33*(.5-t)/.5;r<0&&(r=0),r>.5&&(r=.5);var s=0|.5*r*(e[0]+e[1]);s>h.MAX_BITS_PER_CHANNEL-e[0]&&(s=h.MAX_BITS_PER_CHANNEL-e[0]),s<0&&(s=0),e[1]>=125&&(e[1]-s>125?(e[0]<n&&(e[0]+=s),e[1]-=s):(e[0]+=e[1]-125,e[1]=125)),(s=e[0]+e[1])>a&&(e[0]=a*e[0]/s,e[1]=a*e[1]/s),c(e[0]<=h.MAX_BITS_PER_CHANNEL),c(e[1]<=h.MAX_BITS_PER_CHANNEL),c(e[0]+e[1]<=h.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,n){var a=90.30873362,r=o.FAST_LOG10_X(t,10),s=e*e,i=0;return r-=n,s>1e-20&&(i=1+o.FAST_LOG10_X(s,10/a)),i<0&&(i=0),r*=i,r+=n+a-94.82444863,Math.pow(10,.1*r)},this.calc_xmin=function(t,n,a,r){var i,o=0,l=t.internal_flags,_=0,c=0,u=l.ATH,h=a.xr,p=t.VBR==s.vbr_mtrh?1:0,d=l.masking_lower;for(t.VBR!=s.vbr_mtrh&&t.VBR!=s.vbr_mt||(d=1),i=0;i<a.psy_lmax;i++){M=(y=t.VBR==s.vbr_rh||t.VBR==s.vbr_mtrh?athAdjust(u.adjust,u.l[i],u.floor):u.adjust*u.l[i])/(w=a.width[i]),x=m,E=w>>1,B=0;do{B+=T=h[_]*h[_],x+=T<M?T:M,B+=C=h[++_]*h[_],x+=C<M?C:M,_++}while(--E>0);if(B>y&&c++,i==f.SBPSY_l)x<(R=y*l.nsPsy.longfact[i])&&(x=R);if(0!=p&&(y=x),!t.ATHonly)if((A=n.en.l[i])>0)R=B*n.thm.l[i]*d/A,0!=p&&(R*=l.nsPsy.longfact[i]),y<R&&(y=R);r[o++]=0!=p?y:y*l.nsPsy.longfact[i]}var b=575;if(a.block_type!=f.SHORT_TYPE)for(var v=576;0!=v--&&e.EQ(h[v],0);)b=v;a.max_nonzero_coeff=b;for(var g=a.sfb_smin;i<a.psymax;g++,i+=3){var w,k,S;for(S=t.VBR==s.vbr_rh||t.VBR==s.vbr_mtrh?athAdjust(u.adjust,u.s[g],u.floor):u.adjust*u.s[g],w=a.width[i],k=0;k<3;k++){var y,M,x,A,R,B=0,E=w>>1;M=S/w,x=m;do{var T,C;B+=T=h[_]*h[_],x+=T<M?T:M,B+=C=h[++_]*h[_],x+=C<M?C:M,_++}while(--E>0);if(B>S&&c++,g==f.SBPSY_s)x<(R=S*l.nsPsy.shortfact[g])&&(x=R);if(y=0!=p?x:S,!t.ATHonly&&!t.ATHshort)if((A=n.en.s[g][k])>0)R=B*n.thm.s[g][k]*d/A,0!=p&&(R*=l.nsPsy.shortfact[g]),y<R&&(y=R);r[o++]=0!=p?y:y*l.nsPsy.shortfact[g]}t.useTemporal&&(r[o-3]>r[o-3+1]&&(r[o-3+1]+=(r[o-3]-r[o-3+1])*l.decay),r[o-3+1]>r[o-3+2]&&(r[o-3+2]+=(r[o-3+1]-r[o-3+2])*l.decay))}return c},this.calc_noise_core=function(e,t,n,a){var r=0,s=t.s,i=e.l3_enc;if(s>e.count1)for(;0!=n--;){_=e.xr[s],s++,r+=_*_,_=e.xr[s],s++,r+=_*_}else if(s>e.big_values){var o=l(2);for(o[0]=0,o[1]=a;0!=n--;){_=Math.abs(e.xr[s])-o[i[s]],s++,r+=_*_,_=Math.abs(e.xr[s])-o[i[s]],s++,r+=_*_}}else for(;0!=n--;){var _;_=Math.abs(e.xr[s])-y[i[s]]*a,s++,r+=_*_,_=Math.abs(e.xr[s])-y[i[s]]*a,s++,r+=_*_}return t.s=s,r},this.calc_noise=function(e,t,n,a,r){var s,i,l,_=0,f=0,u=0,h=0,d=0,m=-20,b=0,v=e.scalefac,g=0;for(a.over_SSD=0,s=0;s<e.psymax;s++){var S,y=e.global_gain-(v[g++]+(0!=e.preflag?w[s]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[s]],M=0;if(null!=r&&r.step[s]==y)M=r.noise[s],b+=e.width[s],n[_++]=M/t[f++],M=r.noise_log[s];else{var x,R=(c(0<=(l=y)+p.Q_MAX2&&l<p.Q_MAX),k[l+p.Q_MAX2]);if(i=e.width[s]>>1,b+e.width[s]>e.max_nonzero_coeff)i=(x=e.max_nonzero_coeff-b+1)>0?x>>1:0;var B=new A(b);M=this.calc_noise_core(e,B,i,R),b=B.s,null!=r&&(r.step[s]=y,r.noise[s]=M),M=n[_++]=M/t[f++],M=o.FAST_LOG10(Math.max(M,1e-20)),null!=r&&(r.noise_log[s]=M)}if(null!=r&&(r.global_gain=e.global_gain),d+=M,M>0)S=Math.max(0|10*M+.5,1),a.over_SSD+=S*S,u++,h+=M;m=Math.max(m,M)}return a.over_count=u,a.tot_noise=d,a.over_noise=h,a.max_noise=m,u},this.set_pinfo=function(e,t,n,a,r){var s,i,o,_,u,h=e.internal_flags,p=0==t.scalefac_scale?.5:1,d=t.scalefac,m=l(L3Side.SFBMAX),b=l(L3Side.SFBMAX),v=new CalcNoiseResult;calc_xmin(e,n,t,m),calc_noise(t,m,b,v,null);var g=0;for(i=t.sfb_lmax,t.block_type!=f.SHORT_TYPE&&0==t.mixed_block_flag&&(i=22),s=0;s<i;s++){var k=h.scalefac_band.l[s],S=(y=h.scalefac_band.l[s+1])-k;for(_=0;g<y;g++)_+=t.xr[g]*t.xr[g];_/=S,u=1e15,h.pinfo.en[a][r][s]=u*_,h.pinfo.xfsf[a][r][s]=u*m[s]*b[s]/S,n.en.l[s]>0&&!e.ATHonly?_/=n.en.l[s]:_=0,h.pinfo.thr[a][r][s]=u*Math.max(_*n.thm.l[s],h.ATH.l[s]),h.pinfo.LAMEsfb[a][r][s]=0,0!=t.preflag&&s>=11&&(h.pinfo.LAMEsfb[a][r][s]=-p*w[s]),s<f.SBPSY_l&&(c(d[s]>=0),h.pinfo.LAMEsfb[a][r][s]-=p*d[s])}if(t.block_type==f.SHORT_TYPE)for(i=s,s=t.sfb_smin;s<f.SBMAX_s;s++){k=h.scalefac_band.s[s],S=(y=h.scalefac_band.s[s+1])-k;for(var y,M=0;M<3;M++){for(_=0,o=k;o<y;o++)_+=t.xr[g]*t.xr[g],g++;_=Math.max(_/S,1e-20),u=1e15,h.pinfo.en_s[a][r][3*s+M]=u*_,h.pinfo.xfsf_s[a][r][3*s+M]=u*m[i]*b[i]/S,n.en.s[s][M]>0?_/=n.en.s[s][M]:_=0,(e.ATHonly||e.ATHshort)&&(_=0),h.pinfo.thr_s[a][r][3*s+M]=u*Math.max(_*n.thm.s[s][M],h.ATH.s[s]),h.pinfo.LAMEsfb_s[a][r][3*s+M]=-2*t.subblock_gain[M],s<f.SBPSY_s&&(h.pinfo.LAMEsfb_s[a][r][3*s+M]-=p*d[i]),i++}}h.pinfo.LAMEqss[a][r]=t.global_gain,h.pinfo.LAMEmainbits[a][r]=t.part2_3_length+t.part2_length,h.pinfo.LAMEsfbits[a][r]=t.part2_length,h.pinfo.over[a][r]=v.over_count,h.pinfo.max_noise[a][r]=10*v.max_noise,h.pinfo.over_noise[a][r]=10*v.over_noise,h.pinfo.tot_noise[a][r]=10*v.tot_noise,h.pinfo.over_SSD[a][r]=v.over_SSD}}p.Q_MAX=257,p.Q_MAX2=116,p.LARGE_BITS=1e5,p.IXMAX_VAL=8206,e.exports=p},16244:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),s=(a.new_float_n,a.new_int),i=(a.new_int_n,a.assert,n(22913));e.exports=function(){this.linprebuf=r(2*i.MAX_ORDER),this.linpre=0,this.lstepbuf=r(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.lstep=0,this.loutbuf=r(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.lout=0,this.rinprebuf=r(2*i.MAX_ORDER),this.rinpre=0,this.rstepbuf=r(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.rstep=0,this.routbuf=r(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=s(0|i.STEPS_per_dB*i.MAX_dB),this.B=s(0|i.STEPS_per_dB*i.MAX_dB)}},82652:function(e,t,n){var a=n(95457).assert;e.exports=function(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r,s=t.internal_flags,i=s.l3_side,o=e.getframebits(t);n.bits=(o-8*s.sideinfo_len)/s.mode_gr;var l=2048*s.mode_gr-8;t.brate>320?r=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(r=11520,t.strict_ISO&&(r=8*int(32e4/(t.out_samplerate/1152)/8+.5))),s.ResvMax=r-o,s.ResvMax>l&&(s.ResvMax=l),(s.ResvMax<0||t.disable_reservoir)&&(s.ResvMax=0);var _=n.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return _>r&&(_=r),a(0==s.ResvMax%8),a(s.ResvMax>=0),i.resvDrain_pre=0,null!=s.pinfo&&(s.pinfo.mean_bits=n.bits/2,s.pinfo.resvsize=s.ResvSize),_},this.ResvMaxBits=function(e,t,n,a){var r,s=e.internal_flags,i=s.ResvSize,o=s.ResvMax;0!=a&&(i+=t),0!=(1&s.substep_shaping)&&(o*=.9),n.bits=t,10*i>9*o?(r=i-9*o/10,n.bits+=r,s.substep_shaping|=128):(r=0,s.substep_shaping&=127,e.disable_reservoir||0!=(1&s.substep_shaping)||(n.bits-=.1*t));var l=i<6*s.ResvMax/10?i:6*s.ResvMax/10;return(l-=r)<0&&(l=0),l},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,r=e.l3_side;e.ResvSize+=t*e.mode_gr;var s=0;r.resvDrain_post=0,r.resvDrain_pre=0,0!=(n=e.ResvSize%8)&&(s+=n),(n=e.ResvSize-s-e.ResvMax)>0&&(a(0==n%8),a(n>=0),s+=n);var i=Math.min(8*r.main_data_begin,s)/8;r.resvDrain_pre+=8*i,s-=8*i,e.ResvSize-=8*i,r.main_data_begin-=i,r.resvDrain_post+=s,e.ResvSize-=s}}},60941:function(e,t,n){var a=n(95457),r=a.System,s=(a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float,a.new_float_n,a.new_int),i=(a.new_int_n,a.assert,n(16875));e.exports=function(e,t,n,a){this.l=s(1+i.SBMAX_l),this.s=s(1+i.SBMAX_s),this.psfb21=s(1+i.PSFB21),this.psfb12=s(1+i.PSFB12);var o=this.l,l=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],r.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),r.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),r.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),r.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}},89884:function(e){function t(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}var n={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};n.ht=[new t(0,0,null,null),new t(2,0,n.t1HB,n.t1l),new t(3,0,n.t2HB,n.t2l),new t(3,0,n.t3HB,n.t3l),new t(0,0,null,null),new t(4,0,n.t5HB,n.t5l),new t(4,0,n.t6HB,n.t6l),new t(6,0,n.t7HB,n.t7l),new t(6,0,n.t8HB,n.t8l),new t(6,0,n.t9HB,n.t9l),new t(8,0,n.t10HB,n.t10l),new t(8,0,n.t11HB,n.t11l),new t(8,0,n.t12HB,n.t12l),new t(16,0,n.t13HB,n.t13l),new t(0,0,null,n.t16_5l),new t(16,0,n.t15HB,n.t15l),new t(1,1,n.t16HB,n.t16l),new t(2,3,n.t16HB,n.t16l),new t(3,7,n.t16HB,n.t16l),new t(4,15,n.t16HB,n.t16l),new t(6,63,n.t16HB,n.t16l),new t(8,255,n.t16HB,n.t16l),new t(10,1023,n.t16HB,n.t16l),new t(13,8191,n.t16HB,n.t16l),new t(4,15,n.t24HB,n.t24l),new t(5,31,n.t24HB,n.t24l),new t(6,63,n.t24HB,n.t24l),new t(7,127,n.t24HB,n.t24l),new t(8,255,n.t24HB,n.t24l),new t(9,511,n.t24HB,n.t24l),new t(11,2047,n.t24HB,n.t24l),new t(13,8191,n.t24HB,n.t24l),new t(0,0,n.t32HB,n.t32l),new t(0,0,n.t33HB,n.t33l)],n.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],n.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],n.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],n.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],n.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],n.scfsi_band=[0,6,11,16,21],e.exports=n},73217:function(e,t,n){var a=n(95457),r=a.System,s=(a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays),i=(a.new_array_n,a.new_byte,a.new_double,a.new_float,a.new_float_n,a.new_int),o=(a.new_int_n,a.assert),l=n(16875),_=n(89884),c=n(3066),f=n(67237);e.exports=function e(){var t=null;function n(e){this.bits=0|e}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var a=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function u(e,t,n,a,r,s){var i=.5946/t;for(o(e>0),e>>=1;0!=e--;)r[s++]=i>n[a++]?0:1,r[s++]=i>n[a++]?0:1}function h(e,n,a,r,s,i){o(e>0);var l=(e>>=1)%2;for(e>>=1;0!=e--;){var _,c,f,u,h,p,d,m;_=a[r++]*n,c=a[r++]*n,h=0|_,f=a[r++]*n,p=0|c,u=a[r++]*n,d=0|f,_+=t.adj43[h],m=0|u,c+=t.adj43[p],s[i++]=0|_,f+=t.adj43[d],s[i++]=0|c,u+=t.adj43[m],s[i++]=0|f,s[i++]=0|u}0!=l&&(h=0|(_=a[r++]*n),p=0|(c=a[r++]*n),_+=t.adj43[h],c+=t.adj43[p],s[i++]=0|_,s[i++]=0|c)}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function d(e,t,n,a){var r=function(e,t,n){var a=0,r=0;do{var s=e[t++],i=e[t++];a<s&&(a=s),r<i&&(r=i)}while(t<n);return a<r&&(a=r),a}(e,t,n);switch(r){case 0:return r;case 1:return function(e,t,n,a){var r=0,s=_.ht[1].hlen;do{var i=2*e[t+0]+e[t+1];t+=2,r+=s[i]}while(t<n);return a.bits+=r,1}(e,t,n,a);case 2:case 3:return function(e,t,n,a,r){var s,i,o=0,l=_.ht[a].xlen;i=2==a?_.table23:_.table56;do{var c=e[t+0]*l+e[t+1];t+=2,o+=i[c]}while(t<n);return s=65535&o,(o>>=16)>s&&(o=s,a++),r.bits+=o,a}(e,t,n,p[r-1],a);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(e,t,n,a,r){var s=0,i=0,o=0,l=_.ht[a].xlen,c=_.ht[a].hlen,f=_.ht[a+1].hlen,u=_.ht[a+2].hlen;do{var h=e[t+0]*l+e[t+1];t+=2,s+=c[h],i+=f[h],o+=u[h]}while(t<n);var p=a;return s>i&&(s=i,p++),s>o&&(s=o,p=a+2),r.bits+=s,p}(e,t,n,p[r-1],a);default:if(r>f.IXMAX_VAL)return a.bits=f.LARGE_BITS,-1;var s,i;for(r-=15,s=24;s<32&&!(_.ht[s].linmax>=r);s++);for(i=s-8;i<24&&!(_.ht[i].linmax>=r);i++);return function(e,t,n,a,r,s){var i,o=65536*_.ht[a].xlen+_.ht[r].xlen,l=0;do{var c=e[t++],f=e[t++];0!=c&&(c>14&&(c=15,l+=o),c*=16),0!=f&&(f>14&&(f=15,l+=o),c+=f),l+=_.largetbl[c]}while(t<n);return i=65535&l,(l>>=16)>i&&(l=i,a=r),s.bits+=l,a}(e,t,n,i,s,a)}}function m(e,t,a,r,s,i,o,_){for(var c=t.big_values,f=2;f<l.SBMAX_l+1;f++){var u=e.scalefac_band.l[f];if(u>=c)break;var h=s[f-2]+t.count1bits;if(a.part2_3_length<=h)break;var p=new n(h),m=d(r,u,c,p);h=p.bits,a.part2_3_length<=h||(a.assign(t),a.part2_3_length=h,a.region0_count=i[f-2],a.region1_count=f-2-i[f-2],a.table_select[0]=o[f-2],a.table_select[1]=_[f-2],a.table_select[2]=m)}}this.noquant_count_bits=function(e,t,a){var r=t.l3_enc,s=Math.min(576,t.max_nonzero_coeff+2>>1<<1);for(null!=a&&(a.sfb_count1=0);s>1&&0==(r[s-1]|r[s-2]);s-=2);t.count1=s;for(var i=0,c=0;s>3;s-=4){var f;if((2147483647&(r[s-1]|r[s-2]|r[s-3]|r[s-4]))>1)break;f=2*(2*(2*r[s-4]+r[s-3])+r[s-2])+r[s-1],i+=_.t32l[f],c+=_.t33l[f]}var u=i;if(t.count1table_select=0,i>c&&(u=c,t.count1table_select=1),t.count1bits=u,t.big_values=s,0==s)return u;if(t.block_type==l.SHORT_TYPE)(i=3*e.scalefac_band.s[3])>t.big_values&&(i=t.big_values),c=t.big_values;else if(t.block_type==l.NORM_TYPE){if(o(s<=576),i=t.region0_count=e.bv_scf[s-2],c=t.region1_count=e.bv_scf[s-1],o(i+c+2<l.SBPSY_l),c=e.scalefac_band.l[i+c+2],i=e.scalefac_band.l[i+1],c<s){var h=new n(u);t.table_select[2]=d(r,c,s,h),u=h.bits}}else t.region0_count=7,t.region1_count=l.SBMAX_l-1-7-1,(i=e.scalefac_band.l[8])>(c=s)&&(i=c);if(i=Math.min(i,s),c=Math.min(c,s),o(i>=0),o(c>=0),0<i){h=new n(u);t.table_select[0]=d(r,0,i,h),u=h.bits}if(i<c){h=new n(u);t.table_select[1]=d(r,i,c,h),u=h.bits}if(2==e.use_best_huffman&&(t.part2_3_length=u,best_huffman_divide(e,t),u=t.part2_3_length),null!=a&&t.block_type==l.NORM_TYPE){for(var p=0;e.scalefac_band.l[p]<t.big_values;)p++;a.sfb_count1=p}return u},this.count_bits=function(e,n,a,r){var i=a.l3_enc,_=f.IXMAX_VAL/t.IPOW20(a.global_gain);if(a.xrpow_max>_)return f.LARGE_BITS;if(function(e,n,a,r,i){var _,c,f,p=0,d=0,m=0,b=0,v=n,g=0,w=v,k=0,S=e,y=0;for(f=null!=i&&r.global_gain==i.global_gain,c=r.block_type==l.SHORT_TYPE?38:21,_=0;_<=c;_++){var M=-1;if((f||r.block_type==l.NORM_TYPE)&&(M=r.global_gain-(r.scalefac[_]+(0!=r.preflag?t.pretab[_]:0)<<r.scalefac_scale+1)-8*r.subblock_gain[r.window[_]]),o(r.width[_]>=0),f&&i.step[_]==M)0!=d&&(h(d,a,S,y,w,k),d=0),0!=m&&(u(m,a,S,y,w,k),m=0);else{var x,A=r.width[_];if(p+r.width[_]>r.max_nonzero_coeff&&(x=r.max_nonzero_coeff-p+1,s.fill(n,r.max_nonzero_coeff,576,0),(A=x)<0&&(A=0),_=c+1),0==d&&0==m&&(w=v,k=g,S=e,y=b),null!=i&&i.sfb_count1>0&&_>=i.sfb_count1&&i.step[_]>0&&M>=i.step[_]?(0!=d&&(h(d,a,S,y,w,k),d=0,w=v,k=g,S=e,y=b),m+=A):(0!=m&&(u(m,a,S,y,w,k),m=0,w=v,k=g,S=e,y=b),d+=A),A<=0){0!=m&&(u(m,a,S,y,w,k),m=0),0!=d&&(h(d,a,S,y,w,k),d=0);break}}_<=c&&(g+=r.width[_],b+=r.width[_],p+=r.width[_])}0!=d&&(h(d,a,S,y,w,k),d=0),0!=m&&(u(m,a,S,y,w,k),m=0)}(n,i,t.IPOW20(a.global_gain),a,r),0!=(2&e.substep_shaping))for(var c=0,p=a.global_gain+a.scalefac_scale,d=.634521682242439/t.IPOW20(p),m=0;m<a.sfbmax;m++){var b,v=a.width[m];if(o(v>=0),0==e.pseudohalf[m])c+=v;else for(b=c,c+=v;b<c;++b)i[b]=n[b]>=d?i[b]:0}return this.noquant_count_bits(e,a,r)},this.best_huffman_divide=function(e,t){var a=new c,r=t.l3_enc,s=i(23),u=i(23),h=i(23),p=i(23);if(t.block_type!=l.SHORT_TYPE||1!=e.mode_gr){a.assign(t),t.block_type==l.NORM_TYPE&&(!function(e,t,a,r,s,i,o){for(var l=t.big_values,_=0;_<=22;_++)r[_]=f.LARGE_BITS;for(_=0;_<16;_++){var c=e.scalefac_band.l[_+1];if(c>=l)break;var u=0,h=new n(u),p=d(a,0,c,h);u=h.bits;for(var m=0;m<8;m++){var b=e.scalefac_band.l[_+m+2];if(b>=l)break;var v=u,g=d(a,c,b,h=new n(v));v=h.bits,r[_+m]>v&&(r[_+m]=v,s[_+m]=_,i[_+m]=p,o[_+m]=g)}}}(e,t,r,s,u,h,p),m(e,a,t,r,s,u,h,p));var b=a.big_values;if(!(0==b||(r[b-2]|r[b-1])>1)&&!((b=t.count1+2)>576)){a.assign(t),a.count1=b;var v=0,g=0;for(o(b<=576);b>a.big_values;b-=4){var w=2*(2*(2*r[b-4]+r[b-3])+r[b-2])+r[b-1];v+=_.t32l[w],g+=_.t33l[w]}if(a.big_values=b,a.count1table_select=0,v>g&&(v=g,a.count1table_select=1),a.count1bits=v,a.block_type==l.NORM_TYPE)m(e,a,t,r,s,u,h,p);else{if(a.part2_3_length=v,(v=e.scalefac_band.l[8])>b&&(v=b),v>0){var k=new n(a.part2_3_length);a.table_select[0]=d(r,0,v,k),a.part2_3_length=k.bits}if(b>v){k=new n(a.part2_3_length);a.table_select[1]=d(r,v,b,k),a.part2_3_length=k.bits}t.part2_3_length>a.part2_3_length&&t.assign(a)}}}};var b=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],v=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],g=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],w=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];e.slen1_tab=g,e.slen2_tab=w,this.best_scalefac_store=function(e,n,a,r){var s,i,c,f,u=r.tt[n][a],h=0;for(c=0,s=0;s<u.sfbmax;s++){var p=u.width[s];for(o(p>=0),c+=p,f=-p;f<0&&0==u.l3_enc[f+c];f++);0==f&&(u.scalefac[s]=h=-2)}if(0==u.scalefac_scale&&0==u.preflag){var d=0;for(s=0;s<u.sfbmax;s++)u.scalefac[s]>0&&(d|=u.scalefac[s]);if(0==(1&d)&&0!=d){for(s=0;s<u.sfbmax;s++)u.scalefac[s]>0&&(u.scalefac[s]>>=1);u.scalefac_scale=h=1}}if(0==u.preflag&&u.block_type!=l.SHORT_TYPE&&2==e.mode_gr){for(s=11;s<l.SBPSY_l&&!(u.scalefac[s]<t.pretab[s]&&-2!=u.scalefac[s]);s++);if(s==l.SBPSY_l){for(s=11;s<l.SBPSY_l;s++)u.scalefac[s]>0&&(u.scalefac[s]-=t.pretab[s]);u.preflag=h=1}}for(i=0;i<4;i++)r.scfsi[a][i]=0;for(2==e.mode_gr&&1==n&&r.tt[0][a].block_type!=l.SHORT_TYPE&&r.tt[1][a].block_type!=l.SHORT_TYPE&&(!function(e,t){for(var n,a=t.tt[1][e],r=t.tt[0][e],s=0;s<_.scfsi_band.length-1;s++){for(n=_.scfsi_band[s];n<_.scfsi_band[s+1]&&!(r.scalefac[n]!=a.scalefac[n]&&a.scalefac[n]>=0);n++);if(n==_.scfsi_band[s+1]){for(n=_.scfsi_band[s];n<_.scfsi_band[s+1];n++)a.scalefac[n]=-1;t.scfsi[e][s]=1}}var i=0,o=0;for(n=0;n<11;n++)-1!=a.scalefac[n]&&(o++,i<a.scalefac[n]&&(i=a.scalefac[n]));for(var c=0,f=0;n<l.SBPSY_l;n++)-1!=a.scalefac[n]&&(f++,c<a.scalefac[n]&&(c=a.scalefac[n]));for(s=0;s<16;s++)if(i<b[s]&&c<v[s]){var u=g[s]*o+w[s]*f;a.part2_length>u&&(a.part2_length=u,a.scalefac_compress=s)}}(a,r),h=0),s=0;s<u.sfbmax;s++)-2==u.scalefac[s]&&(u.scalefac[s]=0);0!=h&&(2==e.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(e,u))};var k=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],S=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],y=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var n,a,r,s=0,i=0,_=e.scalefac;if(o(function(e,t){for(var n=0;n<t;++n)if(e[n]<0)return!1;return!0}(_,e.sfbmax)),e.block_type==l.SHORT_TYPE)r=k,0!=e.mixed_block_flag&&(r=S);else if(r=y,0==e.preflag){for(a=11;a<l.SBPSY_l&&!(_[a]<t.pretab[a]);a++);if(a==l.SBPSY_l)for(e.preflag=1,a=11;a<l.SBPSY_l;a++)_[a]-=t.pretab[a]}for(a=0;a<e.sfbdivide;a++)s<_[a]&&(s=_[a]);for(;a<e.sfbmax;a++)i<_[a]&&(i=_[a]);for(e.part2_length=f.LARGE_BITS,n=0;n<16;n++)s<b[n]&&i<v[n]&&e.part2_length>r[n]&&(e.part2_length=r[n],e.scalefac_compress=n);return e.part2_length==f.LARGE_BITS};var M=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(e,n){var a,s,_,c,f,u,h,p,d=i(4),m=n.scalefac;for(a=0!=n.preflag?2:0,h=0;h<4;h++)d[h]=0;if(n.block_type==l.SHORT_TYPE){s=1;var b=t.nr_of_sfb_block[a][s];for(p=0,_=0;_<4;_++)for(c=b[_]/3,h=0;h<c;h++,p++)for(f=0;f<3;f++)m[3*p+f]>d[_]&&(d[_]=m[3*p+f])}else{s=0;b=t.nr_of_sfb_block[a][s];for(p=0,_=0;_<4;_++)for(c=b[_],h=0;h<c;h++,p++)m[p]>d[_]&&(d[_]=m[p])}for(u=!1,_=0;_<4;_++)d[_]>M[a][_]&&(u=!0);if(!u){var v,g,w,k;for(n.sfb_partition_table=t.nr_of_sfb_block[a][s],_=0;_<4;_++)n.slen[_]=x[d[_]];switch(v=n.slen[0],g=n.slen[1],w=n.slen[2],k=n.slen[3],a){case 0:n.scalefac_compress=(5*v+g<<4)+(w<<2)+k;break;case 1:n.scalefac_compress=400+(5*v+g<<2)+w;break;case 2:n.scalefac_compress=500+3*v+g;break;default:r.err.printf("intensity stereo not implemented yet\n")}}if(!u)for(o(null!=n.sfb_partition_table),n.part2_length=0,_=0;_<4;_++)n.part2_length+=n.slen[_]*n.sfb_partition_table[_];return u};var x=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var n,r=0;e.scalefac_band.l[++r]<t;);for(n=a[r][0];e.scalefac_band.l[n+1]>t;)n--;for(n<0&&(n=a[r][0]),e.bv_scf[t-2]=n,n=a[r][1];e.scalefac_band.l[n+e.bv_scf[t-2]+2]>t;)n--;n<0&&(n=a[r][1]),e.bv_scf[t-1]=n}}}},31e3:function(e){e.exports=function(){this.setModules=function(e,t){e,t}}},61960:function(e){e.exports=function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}},73630:function(e,t,n){var a=n(95457),r=a.System,s=a.VbrMode,i=(a.Float,a.ShortBlock),o=(a.Util,a.Arrays),l=(a.new_array_n,a.new_byte),_=(a.new_double,a.new_float,a.new_float_n,a.new_int,a.new_int_n,a.assert);function c(){var e,t,n;this.setModules=function(a,r,s){e=a,t=r,n=s};var a=c.NUMTOCENTRIES,f=c.MAXFRAMESIZE,u=a+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,h="Xing",p="Info",d=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function m(e,t){var n=255&e[t+0];return n<<=8,n|=255&e[t+1],n<<=8,n|=255&e[t+2],n<<=8,n|=255&e[t+3]}function b(e,t,n){e[t+0]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n}function v(e,t,n){e[t+0]=255&n>>8,e[t+1]=255&n}function g(e,t,n){return 255&(e<<t|n&~(-1<<t))}function w(t,n){var a=t.internal_flags;n[0]=g(n[0],8,255),n[1]=g(n[1],3,7),n[1]=g(n[1],1,t.out_samplerate<16e3?0:1),n[1]=g(n[1],1,t.version),n[1]=g(n[1],2,1),n[1]=g(n[1],1,t.error_protection?0:1),n[2]=g(n[2],4,a.bitrate_index),n[2]=g(n[2],2,a.samplerate_index),n[2]=g(n[2],1,0),n[2]=g(n[2],1,t.extension),n[3]=g(n[3],2,t.mode.ordinal()),n[3]=g(n[3],2,a.mode_ext),n[3]=g(n[3],1,t.copyright),n[3]=g(n[3],1,t.original),n[3]=g(n[3],2,t.emphasis),n[0]=255;var r,i,o=241&n[1];r=1==t.version?128:t.out_samplerate<16e3?32:64,t.VBR==s.vbr_off&&(r=t.brate),i=t.free_format?0:255&16*e.BitrateIndex(r,t.version,t.out_samplerate),1==t.version?(n[1]=255&(10|o),o=13&n[2],n[2]=255&(i|o)):(n[1]=255&(2|o),o=13&n[2],n[2]=255&(i|o))}function k(e,t){return t=t>>8^d[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,n=Tables.bitrate_table[e.version][t.bitrate_index];_(null!=t.VBR_seek_table.bag),function(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var n=1;n<e.size;n+=2)e.bag[n/2]=e.bag[n];e.want*=2,e.pos/=2}}(t.VBR_seek_table,n)},this.getVbrTag=function(e){var t=new VBRTagData,n=0;t.flags=0;var r=e[n+1]>>3&1,s=e[n+2]>>2&3,i=e[n+3]>>6&3,o=e[n+2]>>4&15;if(o=Tables.bitrate_table[r][o],e[n+1]>>4==14?t.samprate=Tables.samplerate_table[2][s]:t.samprate=Tables.samplerate_table[r][s],!function(e,t){return new String(e,t,h.length(),null).equals(h)||new String(e,t,p.length(),null).equals(p)}(e,n+=0!=r?3!=i?36:21:3!=i?21:13))return null;n+=4,t.hId=r;var l=t.flags=m(e,n);if(n+=4,0!=(1&l)&&(t.frames=m(e,n),n+=4),0!=(2&l)&&(t.bytes=m(e,n),n+=4),0!=(4&l)){if(null!=t.toc)for(var _=0;_<a;_++)t.toc[_]=e[n+_];n+=a}t.vbrScale=-1,0!=(8&l)&&(t.vbrScale=m(e,n),n+=4),t.headersize=72e3*(r+1)*o/t.samprate;var c=e[(n+=21)+0]<<4;c+=e[n+1]>>4;var f=(15&e[n+1])<<8;return(c<0||c>3e3)&&(c=-1),((f+=255&e[n+2])<0||f>3e3)&&(f=-1),t.encDelay=c,t.encPadding=f,t},this.InitVbrTag=function(e){var n,a=e.internal_flags;n=1==e.version?128:e.out_samplerate<16e3?32:64,e.VBR==s.vbr_off&&(n=e.brate);var r=72e3*(e.version+1)*n/e.out_samplerate,i=a.sideinfo_len+u;if(a.VBR_seek_table.TotalFrameSize=r,r<i||r>f)e.bWriteVbrTag=!1;else{a.VBR_seek_table.nVbrNumFrames=0,a.VBR_seek_table.nBytesWritten=0,a.VBR_seek_table.sum=0,a.VBR_seek_table.seen=0,a.VBR_seek_table.want=1,a.VBR_seek_table.pos=0,null==a.VBR_seek_table.bag&&(a.VBR_seek_table.bag=new int[400],a.VBR_seek_table.size=400);var o=l(f);w(e,o);for(var _=a.VBR_seek_table.TotalFrameSize,c=0;c<_;++c)t.add_dummy_byte(e,255&o[c],1)}},this.updateMusicCRC=function(e,t,n,a){for(var r=0;r<a;++r)e[0]=k(t[n+r],e[0])},this.getLameTagFrame=function(e,_){var c=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(c.Class_ID!=Lame.LAME_ID)return 0;if(c.VBR_seek_table.pos<=0)return 0;if(_.length<c.VBR_seek_table.TotalFrameSize)return c.VBR_seek_table.TotalFrameSize;o.fill(_,0,c.VBR_seek_table.TotalFrameSize,0),w(e,_);var f=l(a);if(e.free_format)for(var u=1;u<a;++u)f[u]=255&255*u/100;else!function(e,t){if(!(e.pos<=0))for(var n=1;n<a;++n){var r=n/a,s=0|Math.floor(r*e.pos);s>e.pos-1&&(s=e.pos-1);var i=0|256*e.bag[s]/e.sum;i>255&&(i=255),t[n]=255&i}}(c.VBR_seek_table,f);var d=c.sideinfo_len;e.error_protection&&(d-=2),e.VBR==s.vbr_off?(_[d++]=255&p.charAt(0),_[d++]=255&p.charAt(1),_[d++]=255&p.charAt(2),_[d++]=255&p.charAt(3)):(_[d++]=255&h.charAt(0),_[d++]=255&h.charAt(1),_[d++]=255&h.charAt(2),_[d++]=255&h.charAt(3)),b(_,d,15),b(_,d+=4,c.VBR_seek_table.nVbrNumFrames),d+=4;var m=c.VBR_seek_table.nBytesWritten+c.VBR_seek_table.TotalFrameSize;b(_,d,0|m),d+=4,r.arraycopy(f,0,_,d,f.length),d+=f.length,e.error_protection&&t.CRC_writeheader(c,_);var g=0;for(u=0;u<d;u++)g=k(_[u],g);return d+=function(e,t,a,r,s){var o,l,_,c,f,u=e.internal_flags,h=0,p=e.encoder_delay,d=e.encoder_padding,m=100-10*e.VBR_q-e.quality,g=n.getLameVeryShortVersion(),w=[1,5,3,2,4,0,3],S=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),y=0,M=0,x=e.internal_flags.noise_shaping,A=0,R=0,B=0,E=0!=(1&e.exp_nspsytune),T=0!=(2&e.exp_nspsytune),C=!1,L=!1,P=e.internal_flags.nogap_total,I=e.internal_flags.nogap_current,H=e.ATHtype;switch(e.VBR){case vbr_abr:f=e.VBR_mean_bitrate_kbps;break;case vbr_off:f=e.brate;break;default:f=e.VBR_min_bitrate_kbps}switch(o=0+(e.VBR.ordinal()<w.length?w[e.VBR.ordinal()]:0),u.findReplayGain&&(u.RadioGain>510&&(u.RadioGain=510),u.RadioGain<-510&&(u.RadioGain=-510),M=8192,M|=3072,u.RadioGain>=0?M|=u.RadioGain:(M|=512,M|=-u.RadioGain)),u.findPeakSample&&(y=Math.abs(0|u.PeakSample/32767*Math.pow(2,23)+.5)),-1!=P&&(I>0&&(L=!0),I<P-1&&(C=!0)),c=H+((E?1:0)<<4)+((T?1:0)<<5)+((C?1:0)<<6)+((L?1:0)<<7),m<0&&(m=0),e.mode){case MONO:A=0;break;case STEREO:A=1;break;case DUAL_CHANNEL:A=2;break;case JOINT_STEREO:A=e.force_ms?4:3;break;case NOT_SET:default:A=7}B=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==i.short_block_forced||e.short_blocks==i.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==H||e.in_samplerate<=32e3)&&(R=1),l=x+(A<<2)+(R<<5)+(B<<6),_=u.nMusicCRC,b(a,r+h,m),h+=4;for(var V=0;V<9;V++)a[r+h+V]=255&g.charAt(V);a[r+(h+=9)]=255&o,a[r+ ++h]=255&S,b(a,r+ ++h,y),v(a,r+(h+=4),M),v(a,r+(h+=2),0),a[r+(h+=2)]=255&c,a[r+ ++h]=f>=255?255:255&f,a[r+ ++h]=255&p>>4,a[r+h+1]=255&(p<<4)+(d>>8),a[r+h+2]=255&d,a[r+(h+=3)]=255&l,h++,a[r+h++]=0,v(a,r+h,e.preset),b(a,r+(h+=2),t),v(a,r+(h+=4),_),h+=2;for(var O=0;O<h;O++)s=k(a[r+O],s);return v(a,r+h,s),h+2}(e,m,_,d,g),c.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){if(e.internal_flags.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;var n=function(e){e.seek(0);var t=l(10);return e.readFully(t),new String(t,"ISO-8859-1").startsWith("ID3")?0:((127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9])+t.length}(t);t.seek(n);var a=l(f),r=getLameTagFrame(e,a);return r>a.length?-1:(r<1||t.write(a,0,r),0)}}c.NUMTOCENTRIES=100,c.MAXFRAMESIZE=2880,e.exports=c},50261:function(e){e.exports=function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}},95457:function(e){function t(e){return new Int16Array(e)}function n(e){return new Int32Array(e)}function a(e){return new Float32Array(e)}var r={fill:function(e,t,n,a){if(2==arguments.length)for(var r=0;r<e.length;r++)e[r]=arguments[1];else for(r=t;r<n;r++)e[r]=a}},s={arraycopy:function(e,t,n,a,r){for(var s=t+r;t<s;)n[a++]=e[t++]},out:{}};s.out.println=function(e){console.log(e)},s.out.printf=function(){console.log.apply(console,arguments)};var i={};function o(e){this.ordinal=e}i.SQRT2=1.4142135623730951,i.FAST_LOG10=function(e){return Math.log10(e)},i.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},o.short_block_allowed=new o(0),o.short_block_coupled=new o(1),o.short_block_dispensed=new o(2),o.short_block_forced=new o(3);var l={};function _(e){this.ordinal=e}l.MAX_VALUE=34028235e31,_.vbr_off=new _(0),_.vbr_mt=new _(1),_.vbr_rh=new _(2),_.vbr_abr=new _(3),_.vbr_mtrh=new _(4),_.vbr_default=_.vbr_mtrh;e.exports={System:s,VbrMode:_,Float:l,ShortBlock:o,Util:i,Arrays:r,new_array_n:function e(t){if(1==t.length)return new Array(t[0]);var n=t[0];t=t.slice(1);for(var a=[],r=0;r<n;r++)a.push(e(t));return a},new_byte:function(e){return new Int8Array(e)},new_double:function(e){return new Float64Array(e)},new_float:a,new_float_n:function e(t){if(1==t.length)return a(t[0]);var n=t[0];t=t.slice(1);for(var r=[],s=0;s<n;s++)r.push(e(t));return r},new_int:n,new_int_n:function e(t){if(1==t.length)return n(t[0]);var a=t[0];t=t.slice(1);for(var r=[],s=0;s<a;s++)r.push(e(t));return r},new_short:t,new_short_n:function e(n){if(1==n.length)return t(n[0]);var a=n[0];n=n.slice(1);for(var r=[],s=0;s<a;s++)r.push(e(n));return r},assert:function(e){}}},90179:function(e,t,n){var a=n(95457),r=(a.System,a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte),s=(a.new_double,a.new_float,a.new_float_n,a.new_int,a.new_int_n,a.assert),i=n(82253),o=n(60174),l=n(22913),_=n(67237),c=n(40288),f=n(73217),u=n(82652),h=n(91326),p=n(51024),d=(n(16875),n(50261)),m=n(73630);function b(){this.setModules=function(e,t){e,t}}function v(){this.setModules=function(e,t,n){e,t,n}}function g(){}function w(){this.setModules=function(e,t){e,t}}function k(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function S(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}k.RIFF=S("RIFF"),k.WAVE=S("WAVE"),k.fmt_=S("fmt "),k.data=S("data"),k.readHeader=function(e){var t=new k,n=e.getUint32(0,!1);if(k.RIFF==n){e.getUint32(4,!0);if(k.WAVE==e.getUint32(8,!1)&&k.fmt_==e.getUint32(12,!1)){var a=e.getUint32(16,!0),r=20;switch(a){case 16:case 18:t.channels=e.getUint16(r+2,!0),t.sampleRate=e.getUint32(r+4,!0);break;default:throw"extended fmt chunk not implemented"}r+=a;for(var s=k.data,i=0;s!=n&&(n=e.getUint32(r,!1),i=e.getUint32(r+4,!0),s!=n);)r+=i+8;return t.dataLen=i,t.dataOffset=r+8,t}}}},22413:function(e,t,n){"use strict";var a=n(72791),r=n(92602),s=n(87120),i=new Map;i.set("bold",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,208H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80L96,40h64l16,24h32a16,16,0,0,1,16,16V192A16,16,0,0,1,208,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"132",r:"36",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,64H176L160,40H96L80,64H48A16,16,0,0,0,32,80V192a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V80A16,16,0,0,0,208,64ZM128,168a36,36,0,1,1,36-36A36,36,0,0,1,128,168Z",opacity:"0.2"}),a.createElement("path",{d:"M208,208H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80L96,40h64l16,24h32a16,16,0,0,1,16,16V192A16,16,0,0,1,208,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"132",r:"36",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,56H180.3L166.7,35.6A7.9,7.9,0,0,0,160,32H96a7.9,7.9,0,0,0-6.7,3.6L75.7,56H48A24.1,24.1,0,0,0,24,80V192a24.1,24.1,0,0,0,24,24H208a24.1,24.1,0,0,0,24-24V80A24.1,24.1,0,0,0,208,56Zm-44,76a36,36,0,1,1-36-36A36,36,0,0,1,164,132Z"}))})),i.set("light",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,208H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80L96,40h64l16,24h32a16,16,0,0,1,16,16V192A16,16,0,0,1,208,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"132",r:"36",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,208H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80L96,40h64l16,24h32a16,16,0,0,1,16,16V192A16,16,0,0,1,208,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"132",r:"36",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,208H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80L96,40h64l16,24h32a16,16,0,0,1,16,16V192A16,16,0,0,1,208,208Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"132",r:"36",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var o=function(e,t){return(0,r._)(e,t,i)},l=(0,a.forwardRef)((function(e,t){return a.createElement(s.Z,Object.assign({ref:t},e,{renderPath:o}))}));l.displayName="Camera",t.Z=l},6880:function(e,t,n){"use strict";var a=n(72791),r=n(92602),s=n(87120),i=new Map;i.set("bold",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("polyline",{points:"148 32 148 92 208 92",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return a.createElement(a.Fragment,null,a.createElement("polygon",{points:"152 32 152 88 208 88 152 32",opacity:"0.2"}),a.createElement("path",{d:"M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M213.7,82.3l-56-56A8.1,8.1,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8.1,8.1,0,0,0,213.7,82.3ZM152,88V44l44,44Z"}))})),i.set("light",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var o=function(e,t){return(0,r._)(e,t,i)},l=(0,a.forwardRef)((function(e,t){return a.createElement(s.Z,Object.assign({ref:t},e,{renderPath:o}))}));l.displayName="File",t.Z=l},46206:function(e,t,n){"use strict";var a=n(72791),r=n(92602),s=n(87120),i=new Map;i.set("bold",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,216H88a48,48,0,0,1-48-48V88A48,48,0,0,1,88,40h80a48,48,0,0,1,48,48v48C208,160,160,208,136,216Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("path",{d:"M136,216V184a48,48,0,0,1,48-48h32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,216V184a48,48,0,0,1,48-48h32C208,160,160,208,136,216Z",opacity:"0.2"}),a.createElement("path",{d:"M136,216H88a48,48,0,0,1-48-48V88A48,48,0,0,1,88,40h80a48,48,0,0,1,48,48v48C208,160,160,208,136,216Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M136,216V184a48,48,0,0,1,48-48h32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M168,32H88A56,56,0,0,0,32,88v80a56,56,0,0,0,56,56h48a6.9,6.9,0,0,0,2.5-.4c26.3-8.8,76.3-58.8,85.1-85.1a6.9,6.9,0,0,0,.4-2.5V88A56,56,0,0,0,168,32ZM136,207.4V176a40,40,0,0,1,40-40h31.4C198.2,157.6,157.6,198.2,136,207.4Z"}))})),i.set("light",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,216H88a48,48,0,0,1-48-48V88A48,48,0,0,1,88,40h80a48,48,0,0,1,48,48v48C208,160,160,208,136,216Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("path",{d:"M136,216V184a48,48,0,0,1,48-48h32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,216H88a48,48,0,0,1-48-48V88A48,48,0,0,1,88,40h80a48,48,0,0,1,48,48v48C208,160,160,208,136,216Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("path",{d:"M136,216V184a48,48,0,0,1,48-48h32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,216H88a48,48,0,0,1-48-48V88A48,48,0,0,1,88,40h80a48,48,0,0,1,48,48v48C208,160,160,208,136,216Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M136,216V184a48,48,0,0,1,48-48h32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var o=function(e,t){return(0,r._)(e,t,i)},l=(0,a.forwardRef)((function(e,t){return a.createElement(s.Z,Object.assign({ref:t},e,{renderPath:o}))}));l.displayName="Sticker",t.Z=l},39992:function(){!function(e){"use strict";function t(){var e=function(e){return Math.log(e)/Math.log(10)},n=function(e){throw new Error("abort("+e+")")};function a(e){return new Int8Array(e)}function r(e){return new Int16Array(e)}function s(e){return new Int32Array(e)}function i(e){return new Float32Array(e)}function o(e){return new Float64Array(e)}function l(e){if(1==e.length)return i(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(l(e));return n}function _(e){if(1==e.length)return s(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(_(e));return n}function c(e){if(1==e.length)return r(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(c(e));return n}function f(e){if(1==e.length)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(f(e));return n}var u={fill:function(e,t,n,a){if(2==arguments.length)for(var r=0;r<e.length;r++)e[r]=arguments[1];else for(r=t;r<n;r++)e[r]=a}},h={arraycopy:function(e,t,n,a,r){for(var s=t+r;t<s;)n[a++]=e[t++]}},p={};function d(e){this.ordinal=e}p.SQRT2=1.4142135623730951,p.FAST_LOG10=function(t){return e(t)},p.FAST_LOG10_X=function(t,n){return e(t)*n},d.short_block_allowed=new d(0),d.short_block_coupled=new d(1),d.short_block_dispensed=new d(2),d.short_block_forced=new d(3);var m={};function b(e){this.ordinal=e}function v(e){var t=e;this.ordinal=function(){return t}}function g(){var e=3,t=98,n=4;this.getLameShortVersion=function(){return e+"."+t+"."+n}}function w(){var e=null;function t(e){this.bits=0|e}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var a=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(e,t,n,a,r,s){var i=.5946/t;for(e>>=1;0!=e--;)r[s++]=i>n[a++]?0:1,r[s++]=i>n[a++]?0:1}function i(t,n,a,r,s,i){var o=(t>>=1)%2;for(t>>=1;0!=t--;){var l,_,c,f,u,h,p,d;l=a[r++]*n,_=a[r++]*n,u=0|l,c=a[r++]*n,h=0|_,f=a[r++]*n,p=0|c,l+=e.adj43[u],d=0|f,_+=e.adj43[h],s[i++]=0|l,c+=e.adj43[p],s[i++]=0|_,f+=e.adj43[d],s[i++]=0|c,s[i++]=0|f}0!=o&&(u=0|(l=a[r++]*n),h=0|(_=a[r++]*n),l+=e.adj43[u],_+=e.adj43[h],s[i++]=0|l,s[i++]=0|_)}function o(t,a,s,o,l){var _,c,f,h=0,p=0,d=0,m=0,b=a,v=0,g=b,w=0,k=t,S=0;for(f=null!=l&&o.global_gain==l.global_gain,c=o.block_type==Z.SHORT_TYPE?38:21,_=0;_<=c;_++){var y=-1;if((f||o.block_type==Z.NORM_TYPE)&&(y=o.global_gain-(o.scalefac[_]+(0!=o.preflag?e.pretab[_]:0)<<o.scalefac_scale+1)-8*o.subblock_gain[o.window[_]]),f&&l.step[_]==y)0!=p&&(i(p,s,k,S,g,w),p=0),0!=d&&n();else{var M,x=o.width[_];if(h+o.width[_]>o.max_nonzero_coeff&&(M=o.max_nonzero_coeff-h+1,u.fill(a,o.max_nonzero_coeff,576,0),(x=M)<0&&(x=0),_=c+1),0==p&&0==d&&(g=b,w=v,k=t,S=m),null!=l&&l.sfb_count1>0&&_>=l.sfb_count1&&l.step[_]>0&&y>=l.step[_]?(0!=p&&(i(p,s,k,S,g,w),p=0,g=b,w=v,k=t,S=m),d+=x):(0!=d&&(r(d,s,k,S,g,w),d=0,g=b,w=v,k=t,S=m),p+=x),x<=0){0!=d&&n(),0!=p&&n();break}}_<=c&&(v+=o.width[_],m+=o.width[_],h+=o.width[_])}0!=p&&(i(p,s,k,S,g,w),p=0),0!=d&&n()}function l(e,t,n){var a=0,r=0;do{var s=e[t++],i=e[t++];a<s&&(a=s),r<i&&(r=i)}while(t<n);return a<r&&(a=r),a}function _(e,t,n,a,r,s){var i,o=65536*R.ht[a].xlen+R.ht[r].xlen,l=0;do{var _=e[t++],c=e[t++];0!=_&&(_>14&&(_=15,l+=o),_*=16),0!=c&&(c>14&&(c=15,l+=o),_+=c),l+=R.largetbl[_]}while(t<n);return i=65535&l,(l>>=16)>i&&(l=i,a=r),s.bits+=l,a}function c(e,t,n,a){var r=0,s=R.ht[1].hlen;do{var i=2*e[t+0]+e[t+1];t+=2,r+=s[i]}while(t<n);return a.bits+=r,1}function f(e,t,n,a,r){var s,i,o=0,l=R.ht[a].xlen;i=2==a?R.table23:R.table56;do{var _=e[t+0]*l+e[t+1];t+=2,o+=i[_]}while(t<n);return s=65535&o,(o>>=16)>s&&(o=s,a++),r.bits+=o,a}function h(e,t,n,a,r){var s=0,i=0,o=0,l=R.ht[a].xlen,_=R.ht[a].hlen,c=R.ht[a+1].hlen,f=R.ht[a+2].hlen;do{var u=e[t+0]*l+e[t+1];t+=2,s+=_[u],i+=c[u],o+=f[u]}while(t<n);var h=a;return s>i&&(s=i,h++),s>o&&(s=o,h=a+2),r.bits+=s,h}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function d(e,t,a,r){var s=l(e,t,a);switch(s){case 0:return s;case 1:return c(e,t,a,r);case 2:case 3:return f(e,t,a,p[s-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return h(e,t,a,p[s-1],r);default:var i,o;for(s>V.IXMAX_VAL&&n(),s-=15,i=24;i<32&&!(R.ht[i].linmax>=s);i++);for(o=i-8;o<24&&!(R.ht[o].linmax>=s);o++);return _(e,t,a,o,i,r)}}function m(e,n,a,r,s,i,o){for(var l=n.big_values,_=0;_<=22;_++)r[_]=V.LARGE_BITS;for(_=0;_<16;_++){var c=e.scalefac_band.l[_+1];if(c>=l)break;var f=0,u=new t(f),h=d(a,0,c,u);f=u.bits;for(var p=0;p<8;p++){var m=e.scalefac_band.l[_+p+2];if(m>=l)break;var b=f,v=d(a,c,m,u=new t(b));b=u.bits,r[_+p]>b&&(r[_+p]=b,s[_+p]=_,i[_+p]=h,o[_+p]=v)}}}function b(e,n,a,r,s,i,o,l){for(var _=n.big_values,c=2;c<Z.SBMAX_l+1;c++){var f=e.scalefac_band.l[c];if(f>=_)break;var u=s[c-2]+n.count1bits;if(a.part2_3_length<=u)break;var h=new t(u),p=d(r,f,_,h);u=h.bits,a.part2_3_length<=u||(a.assign(n),a.part2_3_length=u,a.region0_count=i[c-2],a.region1_count=c-2-i[c-2],a.table_select[0]=o[c-2],a.table_select[1]=l[c-2],a.table_select[2]=p)}}this.noquant_count_bits=function(e,a,r){var s=a.l3_enc,i=Math.min(576,a.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);i>1&&0==(s[i-1]|s[i-2]);i-=2);a.count1=i;for(var o=0,l=0;i>3;i-=4){var _;if((2147483647&(s[i-1]|s[i-2]|s[i-3]|s[i-4]))>1)break;_=2*(2*(2*s[i-4]+s[i-3])+s[i-2])+s[i-1],o+=R.t32l[_],l+=R.t33l[_]}var c=o;if(a.count1table_select=0,o>l&&(c=l,a.count1table_select=1),a.count1bits=c,a.big_values=i,0==i)return c;if(a.block_type==Z.SHORT_TYPE)(o=3*e.scalefac_band.s[3])>a.big_values&&(o=a.big_values),l=a.big_values;else if(a.block_type==Z.NORM_TYPE){if(o=a.region0_count=e.bv_scf[i-2],l=a.region1_count=e.bv_scf[i-1],l=e.scalefac_band.l[o+l+2],o=e.scalefac_band.l[o+1],l<i){var f=new t(c);a.table_select[2]=d(s,l,i,f),c=f.bits}}else a.region0_count=7,a.region1_count=Z.SBMAX_l-1-7-1,(o=e.scalefac_band.l[8])>(l=i)&&(o=l);if(o=Math.min(o,i),l=Math.min(l,i),0<o&&(f=new t(c),a.table_select[0]=d(s,0,o,f),c=f.bits),o<l&&(f=new t(c),a.table_select[1]=d(s,o,l,f),c=f.bits),2==e.use_best_huffman&&n(),null!=r&&a.block_type==Z.NORM_TYPE){for(var u=0;e.scalefac_band.l[u]<a.big_values;)u++;r.sfb_count1=u}return c},this.count_bits=function(t,a,r,s){var i=r.l3_enc,l=V.IXMAX_VAL/e.IPOW20(r.global_gain);return r.xrpow_max>l?V.LARGE_BITS:(o(a,i,e.IPOW20(r.global_gain),r,s),0!=(2&t.substep_shaping)&&n(),this.noquant_count_bits(t,r,s))},this.best_huffman_divide=function(e,n){var a=new N,r=n.l3_enc,i=s(23),o=s(23),l=s(23),_=s(23);if(n.block_type!=Z.SHORT_TYPE||1!=e.mode_gr){a.assign(n),n.block_type==Z.NORM_TYPE&&(m(e,n,r,i,o,l,_),b(e,a,n,r,i,o,l,_));var c=a.big_values;if(!(0==c||(r[c-2]|r[c-1])>1)&&!((c=n.count1+2)>576)){a.assign(n),a.count1=c;for(var f=0,u=0;c>a.big_values;c-=4){var h=2*(2*(2*r[c-4]+r[c-3])+r[c-2])+r[c-1];f+=R.t32l[h],u+=R.t33l[h]}if(a.big_values=c,a.count1table_select=0,f>u&&(f=u,a.count1table_select=1),a.count1bits=f,a.block_type==Z.NORM_TYPE)b(e,a,n,r,i,o,l,_);else{if(a.part2_3_length=f,(f=e.scalefac_band.l[8])>c&&(f=c),f>0){var p=new t(a.part2_3_length);a.table_select[0]=d(r,0,f,p),a.part2_3_length=p.bits}c>f&&(p=new t(a.part2_3_length),a.table_select[1]=d(r,f,c,p),a.part2_3_length=p.bits),n.part2_3_length>a.part2_3_length&&n.assign(a)}}}};var v=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],g=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],k=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],S=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];function y(e,t){for(var n,a=t.tt[1][e],r=t.tt[0][e],s=0;s<R.scfsi_band.length-1;s++){for(n=R.scfsi_band[s];n<R.scfsi_band[s+1]&&!(r.scalefac[n]!=a.scalefac[n]&&a.scalefac[n]>=0);n++);if(n==R.scfsi_band[s+1]){for(n=R.scfsi_band[s];n<R.scfsi_band[s+1];n++)a.scalefac[n]=-1;t.scfsi[e][s]=1}}var i=0,o=0;for(n=0;n<11;n++)-1!=a.scalefac[n]&&(o++,i<a.scalefac[n]&&(i=a.scalefac[n]));for(var l=0,_=0;n<Z.SBPSY_l;n++)-1!=a.scalefac[n]&&(_++,l<a.scalefac[n]&&(l=a.scalefac[n]));for(s=0;s<16;s++)if(i<v[s]&&l<g[s]){var c=k[s]*o+S[s]*_;a.part2_length>c&&(a.part2_length=c,a.scalefac_compress=s)}}w.slen1_tab=k,w.slen2_tab=S,this.best_scalefac_store=function(t,n,a,r){var s,i,o,l,_=r.tt[n][a],c=0;for(o=0,s=0;s<_.sfbmax;s++){var f=_.width[s];for(o+=f,l=-f;l<0&&0==_.l3_enc[l+o];l++);0==l&&(_.scalefac[s]=c=-2)}if(0==_.scalefac_scale&&0==_.preflag){var u=0;for(s=0;s<_.sfbmax;s++)_.scalefac[s]>0&&(u|=_.scalefac[s]);if(0==(1&u)&&0!=u){for(s=0;s<_.sfbmax;s++)_.scalefac[s]>0&&(_.scalefac[s]>>=1);_.scalefac_scale=c=1}}if(0==_.preflag&&_.block_type!=Z.SHORT_TYPE&&2==t.mode_gr){for(s=11;s<Z.SBPSY_l&&!(_.scalefac[s]<e.pretab[s]&&-2!=_.scalefac[s]);s++);if(s==Z.SBPSY_l){for(s=11;s<Z.SBPSY_l;s++)_.scalefac[s]>0&&(_.scalefac[s]-=e.pretab[s]);_.preflag=c=1}}for(i=0;i<4;i++)r.scfsi[a][i]=0;for(2==t.mode_gr&&1==n&&r.tt[0][a].block_type!=Z.SHORT_TYPE&&r.tt[1][a].block_type!=Z.SHORT_TYPE&&(y(a,r),c=0),s=0;s<_.sfbmax;s++)-2==_.scalefac[s]&&(_.scalefac[s]=0);0!=c&&(2==t.mode_gr?this.scale_bitcount(_):this.scale_bitcount_lsf(t,_))};var M=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],x=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],A=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var n,a,r,s=0,i=0,o=t.scalefac;if(t.block_type==Z.SHORT_TYPE)r=M,0!=t.mixed_block_flag&&(r=x);else if(r=A,0==t.preflag){for(a=11;a<Z.SBPSY_l&&!(o[a]<e.pretab[a]);a++);if(a==Z.SBPSY_l)for(t.preflag=1,a=11;a<Z.SBPSY_l;a++)o[a]-=e.pretab[a]}for(a=0;a<t.sfbdivide;a++)s<o[a]&&(s=o[a]);for(;a<t.sfbmax;a++)i<o[a]&&(i=o[a]);for(t.part2_length=V.LARGE_BITS,n=0;n<16;n++)s<v[n]&&i<g[n]&&t.part2_length>r[n]&&(t.part2_length=r[n],t.scalefac_compress=n);return t.part2_length==V.LARGE_BITS};var B=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,n){var a,r,i,o,l,_,c,f,u=s(4),h=n.scalefac;for(a=0!=n.preflag?2:0,c=0;c<4;c++)u[c]=0;if(n.block_type==Z.SHORT_TYPE){r=1;var p=e.nr_of_sfb_block[a][r];for(f=0,i=0;i<4;i++)for(o=p[i]/3,c=0;c<o;c++,f++)for(l=0;l<3;l++)h[3*f+l]>u[i]&&(u[i]=h[3*f+l])}else for(r=0,p=e.nr_of_sfb_block[a][r],f=0,i=0;i<4;i++)for(o=p[i],c=0;c<o;c++,f++)h[f]>u[i]&&(u[i]=h[f]);for(_=!1,i=0;i<4;i++)u[i]>B[a][i]&&(_=!0);if(!_){var d,m,b,v;for(n.sfb_partition_table=e.nr_of_sfb_block[a][r],i=0;i<4;i++)n.slen[i]=E[u[i]];switch(d=n.slen[0],m=n.slen[1],b=n.slen[2],v=n.slen[3],a){case 0:n.scalefac_compress=(5*d+m<<4)+(b<<2)+v;break;case 1:n.scalefac_compress=400+(5*d+m<<2)+b;break;case 2:n.scalefac_compress=500+3*d+m}}if(!_)for(n.part2_length=0,i=0;i<4;i++)n.part2_length+=n.slen[i]*n.sfb_partition_table[i];return _};var E=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var n,r=0;e.scalefac_band.l[++r]<t;);for(n=a[r][0];e.scalefac_band.l[n+1]>t;)n--;for(n<0&&(n=a[r][0]),e.bv_scf[t-2]=n,n=a[r][1];e.scalefac_band.l[n+e.bv_scf[t-2]+2]>t;)n--;n<0&&(n=a[r][1]),e.bv_scf[t-1]=n}}}function k(){}function S(){function e(e,t,n,a,r,s,i,o,l,_,c,f,u,h){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=a,this.nsmsfix=r,this.st_lrm=s,this.st_s=i,this.nsbass=o,this.scale=l,this.masking_adj=_,this.ath_lower=c,this.ath_curve=f,this.interch=u,this.sfscale=h}var t;function a(e,t,a){n()}this.setModules=function(e){t=e};var r=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function s(e,n,a){var s=n,i=t.nearestBitrateFullIndex(n);if(e.VBR=b.vbr_abr,e.VBR_mean_bitrate_kbps=s,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,e.VBR_mean_bitrate_kbps>320&&(e.disable_reservoir=!0),r[i].safejoint>0&&(e.exp_nspsytune=2|e.exp_nspsytune),r[i].sfscale>0&&(e.internal_flags.noise_shaping=2),Math.abs(r[i].nsbass)>0){var o=int(4*r[i].nsbass);o<0&&(o+=64),e.exp_nspsytune=e.exp_nspsytune|o<<2}return 0!=a?e.quant_comp=r[i].quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=r[i].quant_comp),0!=a?e.quant_comp_short=r[i].quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=r[i].quant_comp_s),0!=a?e.msfix=r[i].nsmsfix:Math.abs(e.msfix- -1)>0||(e.msfix=r[i].nsmsfix),0!=a?e.internal_flags.nsPsy.attackthre=r[i].st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=r[i].st_lrm),0!=a?e.internal_flags.nsPsy.attackthre_s=r[i].st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=r[i].st_s),0!=a?e.scale=r[i].scale:Math.abs(e.scale- -1)>0||(e.scale=r[i].scale),0!=a?e.maskingadjust=r[i].masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=r[i].masking_adj),r[i].masking_adj>0?0!=a?e.maskingadjust_short=.9*r[i].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=.9*r[i].masking_adj):0!=a?e.maskingadjust_short=1.1*r[i].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=1.1*r[i].masking_adj),0!=a?e.ATHlower=-r[i].ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-r[i].ath_lower/10),0!=a?e.ATHcurve=r[i].ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=r[i].ath_curve),0!=a?e.interChRatio=r[i].interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=r[i].interch),n}this.apply_preset=function(e,t,n){switch(t){case Q.R3MIX:t=Q.V3,e.VBR=b.vbr_mtrh;break;case Q.MEDIUM:t=Q.V4,e.VBR=b.vbr_rh;break;case Q.MEDIUM_FAST:t=Q.V4,e.VBR=b.vbr_mtrh;break;case Q.STANDARD:t=Q.V2,e.VBR=b.vbr_rh;break;case Q.STANDARD_FAST:t=Q.V2,e.VBR=b.vbr_mtrh;break;case Q.EXTREME:t=Q.V0,e.VBR=b.vbr_rh;break;case Q.EXTREME_FAST:t=Q.V0,e.VBR=b.vbr_mtrh;break;case Q.INSANE:return t=320,e.preset=t,s(e,t,n),e.VBR=b.vbr_off,t}switch(e.preset=t,t){case Q.V9:return a(e,9,n),t;case Q.V8:return a(e,8,n),t;case Q.V7:return a(e,7,n),t;case Q.V6:return a(e,6,n),t;case Q.V5:return a(e,5,n),t;case Q.V4:return a(e,4,n),t;case Q.V3:return a(e,3,n),t;case Q.V2:return a(e,2,n),t;case Q.V1:return a(e,1,n),t;case Q.V0:return a(e,0,n),t}return 8<=t&&t<=320?s(e,t,n):(e.preset=0,t)}}function y(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,a){var r,s=t.internal_flags,i=s.l3_side,o=e.getframebits(t);a.bits=(o-8*s.sideinfo_len)/s.mode_gr;var l=2048*s.mode_gr-8;t.brate>320?n():(r=11520,t.strict_ISO&&n()),s.ResvMax=r-o,s.ResvMax>l&&(s.ResvMax=l),(s.ResvMax<0||t.disable_reservoir)&&(s.ResvMax=0);var _=a.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return _>r&&(_=r),i.resvDrain_pre=0,null!=s.pinfo&&n(),_},this.ResvMaxBits=function(e,t,n,a){var r,s=e.internal_flags,i=s.ResvSize,o=s.ResvMax;0!=a&&(i+=t),0!=(1&s.substep_shaping)&&(o*=.9),n.bits=t,10*i>9*o?(r=i-9*o/10,n.bits+=r,s.substep_shaping|=128):(r=0,s.substep_shaping&=127,e.disable_reservoir||0!=(1&s.substep_shaping)||(n.bits-=.1*t));var l=i<6*s.ResvMax/10?i:6*s.ResvMax/10;return(l-=r)<0&&(l=0),l},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,a=e.l3_side;e.ResvSize+=t*e.mode_gr;var r=0;a.resvDrain_post=0,a.resvDrain_pre=0,0!=(n=e.ResvSize%8)&&(r+=n),(n=e.ResvSize-r-e.ResvMax)>0&&(r+=n);var s=Math.min(8*a.main_data_begin,r)/8;a.resvDrain_pre+=8*s,r-=8*s,e.ResvSize-=8*s,a.main_data_begin-=s,a.resvDrain_post+=r,e.ResvSize-=r}}function M(){this.setModules=function(e,t,n){};var e=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function t(t,n){return n=n>>8^e[255&(n^t)]}this.updateMusicCRC=function(e,n,a,r){for(var s=0;s<r;++s)e[0]=t(n[a+s],e[0])}}function x(){var e=this,t=null,r=null;this.setModules=function(e,n,a,s){t=a,r=s};var i=null,o=0,l=0,_=0;function c(e){h.arraycopy(e.header[e.w_ptr].buf,0,i,l,e.sideinfo_len),l+=e.sideinfo_len,o+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&G.MAX_HEADER_BUF-1}function f(e,t,n){for(;n>0;){var a;0==_&&(_=8,l++,e.header[e.w_ptr].write_timing==o&&c(e),i[l]=0),n-=a=Math.min(n,_),_-=a,i[l]|=t>>n<<_,o+=a}}function p(e,n){var a,r=e.internal_flags;if(n>=8&&(f(r,76,8),n-=8),n>=8&&(f(r,65,8),n-=8),n>=8&&(f(r,77,8),n-=8),n>=8&&(f(r,69,8),n-=8),n>=32){var s=t.getLameShortVersion();if(n>=32)for(a=0;a<s.length&&n>=8;++a)n-=8,f(r,s.charCodeAt(a),8)}for(;n>=1;n-=1)f(r,r.ancillary_flag,1),r.ancillary_flag^=e.disable_reservoir?0:1}function d(e,t,n){for(var a=e.header[e.h_ptr].ptr;n>0;){var r=Math.min(n,8-(7&a));n-=r,e.header[e.h_ptr].buf[a>>3]|=t>>n<<8-(7&a)-r,a+=r}e.header[e.h_ptr].ptr=a}function m(e,t){var a,r,s,i=e.internal_flags;if(a=i.l3_side,i.header[i.h_ptr].ptr=0,u.fill(i.header[i.h_ptr].buf,0,i.sideinfo_len,0),e.out_samplerate<16e3?d(i,4094,12):d(i,4095,12),d(i,e.version,1),d(i,1,2),d(i,e.error_protection?0:1,1),d(i,i.bitrate_index,4),d(i,i.samplerate_index,2),d(i,i.padding,1),d(i,e.extension,1),d(i,e.mode.ordinal(),2),d(i,i.mode_ext,2),d(i,e.copyright,1),d(i,e.original,1),d(i,e.emphasis,2),e.error_protection&&d(i,0,16),1==e.version){for(d(i,a.main_data_begin,9),2==i.channels_out?d(i,a.private_bits,3):d(i,a.private_bits,5),s=0;s<i.channels_out;s++){var o;for(o=0;o<4;o++)d(i,a.scfsi[s][o],1)}for(r=0;r<2;r++)for(s=0;s<i.channels_out;s++)d(i,(l=a.tt[r][s]).part2_3_length+l.part2_length,12),d(i,l.big_values/2,9),d(i,l.global_gain,8),d(i,l.scalefac_compress,4),l.block_type!=Z.NORM_TYPE?(d(i,1,1),d(i,l.block_type,2),d(i,l.mixed_block_flag,1),14==l.table_select[0]&&(l.table_select[0]=16),d(i,l.table_select[0],5),14==l.table_select[1]&&(l.table_select[1]=16),d(i,l.table_select[1],5),d(i,l.subblock_gain[0],3),d(i,l.subblock_gain[1],3),d(i,l.subblock_gain[2],3)):(d(i,0,1),14==l.table_select[0]&&(l.table_select[0]=16),d(i,l.table_select[0],5),14==l.table_select[1]&&(l.table_select[1]=16),d(i,l.table_select[1],5),14==l.table_select[2]&&(l.table_select[2]=16),d(i,l.table_select[2],5),d(i,l.region0_count,4),d(i,l.region1_count,3)),d(i,l.preflag,1),d(i,l.scalefac_scale,1),d(i,l.count1table_select,1)}else for(d(i,a.main_data_begin,8),d(i,a.private_bits,i.channels_out),r=0,s=0;s<i.channels_out;s++){var l;d(i,(l=a.tt[r][s]).part2_3_length+l.part2_length,12),d(i,l.big_values/2,9),d(i,l.global_gain,8),d(i,l.scalefac_compress,9),l.block_type!=Z.NORM_TYPE?(d(i,1,1),d(i,l.block_type,2),d(i,l.mixed_block_flag,1),14==l.table_select[0]&&(l.table_select[0]=16),d(i,l.table_select[0],5),14==l.table_select[1]&&(l.table_select[1]=16),d(i,l.table_select[1],5),d(i,l.subblock_gain[0],3),d(i,l.subblock_gain[1],3),d(i,l.subblock_gain[2],3)):(d(i,0,1),14==l.table_select[0]&&(l.table_select[0]=16),d(i,l.table_select[0],5),14==l.table_select[1]&&(l.table_select[1]=16),d(i,l.table_select[1],5),14==l.table_select[2]&&(l.table_select[2]=16),d(i,l.table_select[2],5),d(i,l.region0_count,4),d(i,l.region1_count,3)),d(i,l.scalefac_scale,1),d(i,l.count1table_select,1)}e.error_protection&&n();var _=i.h_ptr;i.h_ptr=_+1&G.MAX_HEADER_BUF-1,i.header[i.h_ptr].write_timing=i.header[_].write_timing+t,i.h_ptr,i.w_ptr}function b(e,t){var n,a=R.ht[t.count1table_select+32],r=0,s=t.big_values,i=t.big_values;for(n=(t.count1-t.big_values)/4;n>0;--n){var o=0,l=0;0!=t.l3_enc[s+0]&&(l+=8,t.xr[i+0]<0&&o++),0!=t.l3_enc[s+1]&&(l+=4,o*=2,t.xr[i+1]<0&&o++),0!=t.l3_enc[s+2]&&(l+=2,o*=2,t.xr[i+2]<0&&o++),0!=t.l3_enc[s+3]&&(l++,o*=2,t.xr[i+3]<0&&o++),s+=4,i+=4,f(e,o+a.table[l],a.hlen[l]),r+=a.hlen[l]}return r}function v(e,t,n,a,r){var s=R.ht[t],i=0;if(0==t)return i;for(var o=n;o<a;o+=2){var l=0,_=0,c=s.xlen,u=s.xlen,h=0,p=r.l3_enc[o],d=r.l3_enc[o+1];0!=p&&(r.xr[o]<0&&h++,l--),t>15&&(p>14&&(h|=p-15<<1,_=c,p=15),d>14&&(h<<=c,h|=d-15,_+=c,d=15),u=16),0!=d&&(h<<=1,r.xr[o+1]<0&&h++,l--),p=p*u+d,_-=l,l+=s.hlen[p],f(e,s.table[p],l),f(e,h,_),i+=l+_}return i}function g(e,t){var n=3*e.scalefac_band.s[3];n>t.big_values&&(n=t.big_values);var a=v(e,t.table_select[0],0,n,t);return a+=v(e,t.table_select[1],n,t.big_values,t)}function k(e,t){var n,a,r,s;n=t.big_values;var i=t.region0_count+1;return r=e.scalefac_band.l[i],i+=t.region1_count+1,r>n&&(r=n),(s=e.scalefac_band.l[i])>n&&(s=n),a=v(e,t.table_select[0],0,r,t),a+=v(e,t.table_select[1],r,s,t),a+=v(e,t.table_select[2],s,n,t)}function S(e){var t,n,a,r,s=0,i=e.internal_flags,o=i.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<i.channels_out;n++){var l=o.tt[t][n],_=w.slen1_tab[l.scalefac_compress],c=w.slen2_tab[l.scalefac_compress];for(r=0,a=0;a<l.sfbdivide;a++)-1!=l.scalefac[a]&&(f(i,l.scalefac[a],_),r+=_);for(;a<l.sfbmax;a++)-1!=l.scalefac[a]&&(f(i,l.scalefac[a],c),r+=c);l.block_type==Z.SHORT_TYPE?r+=g(i,l):r+=k(i,l),s+=r+=b(i,l)}else for(t=0,n=0;n<i.channels_out;n++){var u,h,p=0;if(r=0,a=0,h=0,(l=o.tt[t][n]).block_type==Z.SHORT_TYPE){for(;h<4;h++){var d=l.sfb_partition_table[h]/3,m=l.slen[h];for(u=0;u<d;u++,a++)f(i,Math.max(l.scalefac[3*a+0],0),m),f(i,Math.max(l.scalefac[3*a+1],0),m),f(i,Math.max(l.scalefac[3*a+2],0),m),p+=3*m}r+=g(i,l)}else{for(;h<4;h++)for(d=l.sfb_partition_table[h],m=l.slen[h],u=0;u<d;u++,a++)f(i,Math.max(l.scalefac[a],0),m),p+=m;r+=k(i,l)}s+=p+(r+=b(i,l))}return s}function y(){this.total=0}function M(t,a){var r,s,i,_=t.internal_flags;return _.w_ptr,-1==(i=_.h_ptr-1)&&(i=G.MAX_HEADER_BUF-1),r=_.header[i].write_timing-o,a.total=r,r>=0&&n(),r+=s=e.getframebits(t),a.total+=s,a.total%8!=0?a.total=1+a.total/8:a.total=a.total/8,a.total+=l+1,r}this.getframebits=function(e){var t,n=e.internal_flags;return t=0!=n.bitrate_index?R.bitrate_table[e.version][n.bitrate_index]:e.brate,8*(0|72e3*(e.version+1)*t/e.out_samplerate+n.padding)},this.flush_bitstream=function(e){var t,a,r=e.internal_flags,s=r.h_ptr-1;-1==s&&(s=G.MAX_HEADER_BUF-1),t=r.l3_side,(a=M(e,new y))<0||(p(e,a),r.ResvSize=0,t.main_data_begin=0,r.findReplayGain&&n(),r.findPeakSample&&n())},this.format_bitstream=function(e){var t,n=e.internal_flags;t=n.l3_side;var a=this.getframebits(e);p(e,t.resvDrain_pre),m(e,a);var r=8*n.sideinfo_len;if(r+=S(e),p(e,t.resvDrain_post),r+=t.resvDrain_post,t.main_data_begin+=(a-r)/8,M(e,new y),n.ResvSize,8*t.main_data_begin!=n.ResvSize&&(n.ResvSize=8*t.main_data_begin),o>1e9){var s;for(s=0;s<G.MAX_HEADER_BUF;++s)n.header[s].write_timing-=o;o=0}return 0},this.copy_buffer=function(e,t,a,o,c){var f=l+1;if(f<=0)return 0;if(0!=o&&f>o)return-1;if(h.arraycopy(i,0,t,a,f),l=-1,_=0,0!=c){var u=s(1);u[0]=e.nMusicCRC,r.updateMusicCRC(u,t,a,f),e.nMusicCRC=u[0],f>0&&(e.VBR_seek_table.nBytesWritten+=f),e.decode_on_the_fly&&n()}return f},this.init_bit_stream_w=function(e){i=a(Q.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,l=-1,_=0,o=0}}function A(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}m.MAX_VALUE=34028235e31,b.vbr_off=new b(0),b.vbr_mt=new b(1),b.vbr_rh=new b(2),b.vbr_abr=new b(3),b.vbr_mtrh=new b(4),b.vbr_default=b.vbr_mtrh,v.STEREO=new v(0),v.JOINT_STEREO=new v(1),v.DUAL_CHANNEL=new v(2),v.MONO=new v(3),v.NOT_SET=new v(4),k.STEPS_per_dB=100,k.MAX_dB=120,k.GAIN_NOT_ENOUGH_SAMPLES=-24601,k.GAIN_ANALYSIS_ERROR=0,k.GAIN_ANALYSIS_OK=1,k.INIT_GAIN_ANALYSIS_ERROR=0,k.INIT_GAIN_ANALYSIS_OK=1,k.YULE_ORDER=10,k.MAX_ORDER=k.YULE_ORDER,k.MAX_SAMP_FREQ=48e3,k.RMS_WINDOW_TIME_NUMERATOR=1,k.RMS_WINDOW_TIME_DENOMINATOR=20,k.MAX_SAMPLES_PER_WINDOW=k.MAX_SAMP_FREQ*k.RMS_WINDOW_TIME_NUMERATOR/k.RMS_WINDOW_TIME_DENOMINATOR+1,M.NUMTOCENTRIES=100,M.MAXFRAMESIZE=2880,x.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},x.NEQ=function(e,t){return!x.EQ(e,t)};var R={};function B(e){this.bits=e}function E(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function T(){this.setModules=function(e,t){}}function C(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=i(Z.SBMAX_l),this.s=i(Z.SBMAX_s),this.psfb21=i(Z.PSFB21),this.psfb12=i(Z.PSFB12),this.cb_l=i(Z.CBANDS),this.cb_s=i(Z.CBANDS),this.eql_w=i(Z.BLKSIZE/2)}function L(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=v.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function P(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,a,r){var o=e.internal_flags,l=i(j.SFBMAX),_=i(576),c=s(2),f=0,u=o.l3_side,h=new B(f);this.quantize.rv.ResvFrameBegin(e,h),f=h.bits;for(var p=0;p<o.mode_gr;p++){this.quantize.qupvt.on_pe(e,t,c,f,p,p),o.mode_ext==Z.MPG_MD_MS_LR&&n();for(var d=0;d<o.channels_out;d++){var m,b,v=u.tt[p][d];v.block_type!=Z.SHORT_TYPE?(m=0,b=o.PSY.mask_adjust-m):(m=0,b=o.PSY.mask_adjust_short-m),o.masking_lower=Math.pow(10,.1*b),this.quantize.init_outer_loop(o,v),this.quantize.init_xrpow(o,v,_)&&(this.quantize.qupvt.calc_xmin(e,r[p][d],v,l),this.quantize.outer_loop(e,v,l,_,d,c[d])),this.quantize.iteration_finish_one(o,p,d)}}this.quantize.rv.ResvFrameEnd(o,f)}}function I(){}function H(e,t,n,a){this.l=s(1+Z.SBMAX_l),this.s=s(1+Z.SBMAX_s),this.psfb21=s(1+Z.PSFB21),this.psfb12=s(1+Z.PSFB12);var r=this.l,i=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],h.arraycopy(this.arrL,0,r,0,Math.min(this.arrL.length,this.l.length)),h.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),h.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),h.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function V(){var t=null,a=null,r=null;function o(e){return d[e+V.Q_MAX2]}this.setModules=function(e,n,s){t=e,a=n,r=s},this.IPOW20=function(e){return v[e]};var l=2220446049250313e-31,_=V.IXMAX_VAL+2,c=V.Q_MAX,f=V.Q_MAX2,u=(V.LARGE_BITS,100);this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var h=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=h,this.sfBandIndex=[new H([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new H([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var d=i(c+f+1),v=i(c),g=i(_),w=i(_);function k(e,t){var n=r.ATHformula(t,e);return n-=u,n=Math.pow(10,n/10+e.ATHlower)}function S(t){for(var a=t.internal_flags.ATH.l,r=t.internal_flags.ATH.psfb21,s=t.internal_flags.ATH.s,i=t.internal_flags.ATH.psfb12,o=t.internal_flags,l=t.out_samplerate,_=0;_<Z.SBMAX_l;_++){var c=o.scalefac_band.l[_],f=o.scalefac_band.l[_+1];a[_]=m.MAX_VALUE;for(var u=c;u<f;u++){var h=k(t,u*l/1152);a[_]=Math.min(a[_],h)}}for(_=0;_<Z.PSFB21;_++)for(c=o.scalefac_band.psfb21[_],f=o.scalefac_band.psfb21[_+1],r[_]=m.MAX_VALUE,u=c;u<f;u++)h=k(t,u*l/1152),r[_]=Math.min(r[_],h);for(_=0;_<Z.SBMAX_s;_++){for(c=o.scalefac_band.s[_],f=o.scalefac_band.s[_+1],s[_]=m.MAX_VALUE,u=c;u<f;u++)h=k(t,u*l/384),s[_]=Math.min(s[_],h);s[_]*=o.scalefac_band.s[_+1]-o.scalefac_band.s[_]}for(_=0;_<Z.PSFB12;_++){for(c=o.scalefac_band.psfb12[_],f=o.scalefac_band.psfb12[_+1],i[_]=m.MAX_VALUE,u=c;u<f;u++)h=k(t,u*l/384),i[_]=Math.min(i[_],h);i[_]*=o.scalefac_band.s[13]-o.scalefac_band.s[12]}t.noATH&&n(),o.ATH.floor=10*e(k(t,-1))}function y(e){this.s=e}this.adj43=w,this.iteration_init=function(e){var n,a=e.internal_flags,r=a.l3_side;if(0==a.iteration_init_init){for(a.iteration_init_init=1,r.main_data_begin=0,S(e),g[0]=0,n=1;n<_;n++)g[n]=Math.pow(n,4/3);for(n=0;n<_-1;n++)w[n]=n+1-Math.pow(.5*(g[n]+g[n+1]),.75);for(w[n]=.5,n=0;n<c;n++)v[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=c+f;n++)d[n]=Math.pow(2,.25*(n-210-f));var s,i,o,l;for(t.huffman_init(a),(n=e.exp_nspsytune>>2&63)>=32&&(n-=64),s=Math.pow(10,n/4/10),(n=e.exp_nspsytune>>8&63)>=32&&(n-=64),i=Math.pow(10,n/4/10),(n=e.exp_nspsytune>>14&63)>=32&&(n-=64),o=Math.pow(10,n/4/10),(n=e.exp_nspsytune>>20&63)>=32&&(n-=64),l=o*Math.pow(10,n/4/10),n=0;n<Z.SBMAX_l;n++)u=n<=6?s:n<=13?i:n<=20?o:l,a.nsPsy.longfact[n]=u;for(n=0;n<Z.SBMAX_s;n++){var u;u=n<=5?s:n<=10?i:n<=11?o:l,a.nsPsy.shortfact[n]=u}}},this.on_pe=function(e,t,r,i,o,l){var _,c,f=e.internal_flags,u=0,h=s(2),p=new B(u),d=a.ResvMaxBits(e,i,p,l),m=(u=p.bits)+d;for(m>G.MAX_BITS_PER_GRANULE&&(m=G.MAX_BITS_PER_GRANULE),_=0,c=0;c<f.channels_out;++c)r[c]=Math.min(G.MAX_BITS_PER_CHANNEL,u/f.channels_out),h[c]=0|r[c]*t[o][c]/700-r[c],h[c]>3*i/4&&(h[c]=3*i/4),h[c]<0&&(h[c]=0),h[c]+r[c]>G.MAX_BITS_PER_CHANNEL&&(h[c]=Math.max(0,G.MAX_BITS_PER_CHANNEL-r[c])),_+=h[c];if(_>d)for(c=0;c<f.channels_out;++c)h[c]=d*h[c]/_;for(c=0;c<f.channels_out;++c)r[c]+=h[c],d-=h[c];for(_=0,c=0;c<f.channels_out;++c)_+=r[c];return _>G.MAX_BITS_PER_GRANULE&&n(),m},this.athAdjust=function(e,t,n){var a=90.30873362,r=94.82444863,s=p.FAST_LOG10_X(t,10),i=e*e,o=0;return s-=n,i>1e-20&&(o=1+p.FAST_LOG10_X(i,10/a)),o<0&&(o=0),s*=o,s+=n+a-r,Math.pow(10,.1*s)},this.calc_xmin=function(e,t,a,r){var s,i=0,o=e.internal_flags,_=0,c=0,f=o.ATH,u=a.xr,h=e.VBR==b.vbr_mtrh?1:0,p=o.masking_lower;for(e.VBR!=b.vbr_mtrh&&e.VBR!=b.vbr_mt||(p=1),s=0;s<a.psy_lmax;s++){y=(S=e.VBR==b.vbr_rh||e.VBR==b.vbr_mtrh?athAdjust(f.adjust,f.l[s],f.floor):f.adjust*f.l[s])/(g=a.width[s]),M=l,E=g>>1,B=0;do{B+=T=u[_]*u[_],M+=T<y?T:y,B+=C=u[++_]*u[_],M+=C<y?C:y,_++}while(--E>0);B>S&&c++,s==Z.SBPSY_l&&n(),0!=h&&(S=M),e.ATHonly||(A=t.en.l[s])>0&&(R=B*t.thm.l[s]*p/A,0!=h&&(R*=o.nsPsy.longfact[s]),S<R&&(S=R)),r[i++]=0!=h?S:S*o.nsPsy.longfact[s]}var d=575;if(a.block_type!=Z.SHORT_TYPE)for(var m=576;0!=m--&&x.EQ(u[m],0);)d=m;a.max_nonzero_coeff=d;for(var v=a.sfb_smin;s<a.psymax;v++,s+=3){var g,w,k;for(k=e.VBR==b.vbr_rh||e.VBR==b.vbr_mtrh?athAdjust(f.adjust,f.s[v],f.floor):f.adjust*f.s[v],g=a.width[s],w=0;w<3;w++){var S,y,M,A,R,B=0,E=g>>1;y=k/g,M=l;do{var T,C;B+=T=u[_]*u[_],M+=T<y?T:y,B+=C=u[++_]*u[_],M+=C<y?C:y,_++}while(--E>0);B>k&&c++,v==Z.SBPSY_s&&n(),S=0!=h?M:k,e.ATHonly||e.ATHshort||(A=t.en.s[v][w])>0&&(R=B*t.thm.s[v][w]*p/A,0!=h&&(R*=o.nsPsy.shortfact[v]),S<R&&(S=R)),r[i++]=0!=h?S:S*o.nsPsy.shortfact[v]}e.useTemporal&&(r[i-3]>r[i-3+1]&&(r[i-3+1]+=(r[i-3]-r[i-3+1])*o.decay),r[i-3+1]>r[i-3+2]&&(r[i-3+2]+=(r[i-3+1]-r[i-3+2])*o.decay))}return c},this.calc_noise_core=function(e,t,n,a){var r=0,s=t.s,o=e.l3_enc;if(s>e.count1)for(;0!=n--;)_=e.xr[s],s++,r+=_*_,_=e.xr[s],s++,r+=_*_;else if(s>e.big_values){var l=i(2);for(l[0]=0,l[1]=a;0!=n--;)_=Math.abs(e.xr[s])-l[o[s]],s++,r+=_*_,_=Math.abs(e.xr[s])-l[o[s]],s++,r+=_*_}else for(;0!=n--;){var _;_=Math.abs(e.xr[s])-g[o[s]]*a,s++,r+=_*_,_=Math.abs(e.xr[s])-g[o[s]]*a,s++,r+=_*_}return t.s=s,r},this.calc_noise=function(e,t,n,a,r){var s,i,l=0,_=0,c=0,f=0,u=0,d=-20,m=0,b=e.scalefac,v=0;for(a.over_SSD=0,s=0;s<e.psymax;s++){var g,w=e.global_gain-(b[v++]+(0!=e.preflag?h[s]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[s]],k=0;if(null!=r&&r.step[s]==w)k=r.noise[s],m+=e.width[s],n[l++]=k/t[_++],k=r.noise_log[s];else{var S,M=o(w);i=e.width[s]>>1,m+e.width[s]>e.max_nonzero_coeff&&(i=(S=e.max_nonzero_coeff-m+1)>0?S>>1:0);var x=new y(m);k=this.calc_noise_core(e,x,i,M),m=x.s,null!=r&&(r.step[s]=w,r.noise[s]=k),k=n[l++]=k/t[_++],k=p.FAST_LOG10(Math.max(k,1e-20)),null!=r&&(r.noise_log[s]=k)}null!=r&&(r.global_gain=e.global_gain),u+=k,k>0&&(g=Math.max(0|10*k+.5,1),a.over_SSD+=g*g,c++,f+=k),d=Math.max(d,k)}return a.over_count=c,a.tot_noise=u,a.over_noise=f,a.max_noise=d,c}}function O(){this.global_gain=0,this.sfb_count1=0,this.step=s(39),this.noise=i(39),this.noise_log=i(39)}function N(){this.xr=i(576),this.l3_enc=s(576),this.scalefac=s(j.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=s(3),this.subblock_gain=s(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=s(j.SFBMAX),this.window=s(j.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=s(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}function n(e){return new Float32Array(e)}this.assign=function(a){e.xr=n(a.xr),e.l3_enc=t(a.l3_enc),e.scalefac=t(a.scalefac),e.xrpow_max=a.xrpow_max,e.part2_3_length=a.part2_3_length,e.big_values=a.big_values,e.count1=a.count1,e.global_gain=a.global_gain,e.scalefac_compress=a.scalefac_compress,e.block_type=a.block_type,e.mixed_block_flag=a.mixed_block_flag,e.table_select=t(a.table_select),e.subblock_gain=t(a.subblock_gain),e.region0_count=a.region0_count,e.region1_count=a.region1_count,e.preflag=a.preflag,e.scalefac_scale=a.scalefac_scale,e.count1table_select=a.count1table_select,e.part2_length=a.part2_length,e.sfb_lmax=a.sfb_lmax,e.sfb_smin=a.sfb_smin,e.psy_lmax=a.psy_lmax,e.sfbmax=a.sfbmax,e.psymax=a.psymax,e.sfbdivide=a.sfbdivide,e.width=t(a.width),e.window=t(a.window),e.count1bits=a.count1bits,e.sfb_partition_table=a.sfb_partition_table.slice(0),e.slen=t(a.slen),e.max_nonzero_coeff=a.max_nonzero_coeff}}R.t1HB=[1,1,1,0],R.t2HB=[1,2,1,3,1,1,3,2,0],R.t3HB=[3,2,1,1,1,1,3,2,0],R.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],R.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],R.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],R.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],R.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],R.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],R.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],R.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],R.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],R.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],R.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],R.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],R.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],R.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],R.t1l=[1,4,3,5],R.t2l=[1,4,7,4,5,7,6,7,8],R.t3l=[2,3,7,4,4,7,6,7,8],R.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],R.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],R.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],R.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],R.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],R.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],R.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],R.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],R.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],R.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],R.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],R.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],R.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],R.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],R.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],R.ht=[new A(0,0,null,null),new A(2,0,R.t1HB,R.t1l),new A(3,0,R.t2HB,R.t2l),new A(3,0,R.t3HB,R.t3l),new A(0,0,null,null),new A(4,0,R.t5HB,R.t5l),new A(4,0,R.t6HB,R.t6l),new A(6,0,R.t7HB,R.t7l),new A(6,0,R.t8HB,R.t8l),new A(6,0,R.t9HB,R.t9l),new A(8,0,R.t10HB,R.t10l),new A(8,0,R.t11HB,R.t11l),new A(8,0,R.t12HB,R.t12l),new A(16,0,R.t13HB,R.t13l),new A(0,0,null,R.t16_5l),new A(16,0,R.t15HB,R.t15l),new A(1,1,R.t16HB,R.t16l),new A(2,3,R.t16HB,R.t16l),new A(3,7,R.t16HB,R.t16l),new A(4,15,R.t16HB,R.t16l),new A(6,63,R.t16HB,R.t16l),new A(8,255,R.t16HB,R.t16l),new A(10,1023,R.t16HB,R.t16l),new A(13,8191,R.t16HB,R.t16l),new A(4,15,R.t24HB,R.t24l),new A(5,31,R.t24HB,R.t24l),new A(6,63,R.t24HB,R.t24l),new A(7,127,R.t24HB,R.t24l),new A(8,255,R.t24HB,R.t24l),new A(9,511,R.t24HB,R.t24l),new A(11,2047,R.t24HB,R.t24l),new A(13,8191,R.t24HB,R.t24l),new A(0,0,R.t32HB,R.t32l),new A(0,0,R.t33HB,R.t33l)],R.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],R.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],R.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],R.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],R.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],R.scfsi_band=[0,6,11,16,21],V.Q_MAX=257,V.Q_MAX2=116,V.LARGE_BITS=1e5,V.IXMAX_VAL=8206;var j={};function D(){var e,t;this.rv=null,this.qupvt=null;var a,r=new T;function s(e,t,n,a){a=0;for(var r=0;r<=n;++r){var s=Math.abs(e.xr[r]);a+=s,t[r]=Math.sqrt(s*Math.sqrt(s)),t[r]>e.xrpow_max&&(e.xrpow_max=t[r])}return a}function o(e,n){var a=e.ATH,r=n.xr;if(n.block_type!=Z.SHORT_TYPE)for(var s=!1,i=Z.PSFB21-1;i>=0&&!s;i--){var o=e.scalefac_band.psfb21[i],l=e.scalefac_band.psfb21[i+1],_=t.athAdjust(a.adjust,a.psfb21[i],a.floor);e.nsPsy.longfact[21]>1e-12&&(_*=e.nsPsy.longfact[21]);for(var c=l-1;c>=o;c--){if(!(Math.abs(r[c])<_)){s=!0;break}r[c]=0}}else for(var f=0;f<3;f++)for(s=!1,i=Z.PSFB12-1;i>=0&&!s;i--){l=(o=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*f+(e.scalefac_band.psfb12[i]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[i+1]-e.scalefac_band.psfb12[i]);var u=t.athAdjust(a.adjust,a.psfb12[i],a.floor);for(e.nsPsy.shortfact[12]>1e-12&&(u*=e.nsPsy.shortfact[12]),c=l-1;c>=o;c--){if(!(Math.abs(r[c])<u)){s=!0;break}r[c]=0}}}function l(e){this.ordinal=e}function _(e,t,r,s,i){var o,_=e.CurrentStep[s],c=!1,f=e.OldValue[s],u=l.BINSEARCH_NONE;for(t.global_gain=f,r-=t.part2_length;;){var h;if(o=a.count_bits(e,i,t,null),1==_||o==r)break;o>r?(u==l.BINSEARCH_DOWN&&(c=!0),c&&(_/=2),u=l.BINSEARCH_UP,h=_):(u==l.BINSEARCH_UP&&(c=!0),c&&(_/=2),u=l.BINSEARCH_DOWN,h=-_),t.global_gain+=h,t.global_gain<0&&n(),t.global_gain>255&&n()}for(;o>r&&t.global_gain<255;)t.global_gain++,o=a.count_bits(e,i,t,null);return e.CurrentStep[s]=f-t.global_gain>=4?4:2,e.OldValue[s]=t.global_gain,t.part2_3_length=o,o}function c(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function f(e,t,a,r,s){var i;switch(e){default:case 9:t.over_count>0?(i=a.over_SSD<=t.over_SSD,a.over_SSD==t.over_SSD&&(i=a.bits<t.bits)):i=a.max_noise<0&&10*a.max_noise+a.bits<=10*t.max_noise+t.bits;break;case 0:i=a.over_count<t.over_count||a.over_count==t.over_count&&a.over_noise<t.over_noise||a.over_count==t.over_count&&x.EQ(a.over_noise,t.over_noise)&&a.tot_noise<t.tot_noise;break;case 8:n();case 1:i=a.max_noise<t.max_noise;break;case 2:i=a.tot_noise<t.tot_noise;break;case 3:i=a.tot_noise<t.tot_noise&&a.max_noise<t.max_noise;break;case 4:i=a.max_noise<=0&&t.max_noise>.2||a.max_noise<=0&&t.max_noise<0&&t.max_noise>a.max_noise-.2&&a.tot_noise<t.tot_noise||a.max_noise<=0&&t.max_noise>0&&t.max_noise>a.max_noise-.2&&a.tot_noise<t.tot_noise+t.over_noise||a.max_noise>0&&t.max_noise>-.05&&t.max_noise>a.max_noise-.1&&a.tot_noise+a.over_noise<t.tot_noise+t.over_noise||a.max_noise>0&&t.max_noise>-.1&&t.max_noise>a.max_noise-.15&&a.tot_noise+a.over_noise+a.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:i=a.over_noise<t.over_noise||x.EQ(a.over_noise,t.over_noise)&&a.tot_noise<t.tot_noise;break;case 6:i=a.over_noise<t.over_noise||x.EQ(a.over_noise,t.over_noise)&&(a.max_noise<t.max_noise||x.EQ(a.max_noise,t.max_noise)&&a.tot_noise<=t.tot_noise);break;case 7:i=a.over_count<t.over_count||a.over_noise<t.over_noise}return 0==t.over_count&&(i=i&&a.bits<t.bits),i}function p(e,t,a,r,s){var i,o=e.internal_flags;i=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var l=0,_=0;_<t.sfbmax;_++)l<a[_]&&(l=a[_]);var c=o.noise_shaping_amp;switch(3==c&&n(),c){case 2:break;case 1:l>1?l=Math.pow(l,.5):l*=.95;break;default:l>1?l=1:l*=.95}var f=0;for(_=0;_<t.sfbmax;_++){var u,h=t.width[_];if(f+=h,!(a[_]<l)){for(0!=(2&o.substep_shaping)&&n(),t.scalefac[_]++,u=-h;u<0;u++)r[f+u]*=i,r[f+u]>t.xrpow_max&&(t.xrpow_max=r[f+u]);if(2==o.noise_shaping_amp)return}}}function d(e,n){for(var a=1.2968395546510096,r=0,s=0;s<e.sfbmax;s++){var i=e.width[s],o=e.scalefac[s];if(0!=e.preflag&&(o+=t.pretab[s]),r+=i,0!=(1&o)){o++;for(var l=-i;l<0;l++)n[r+l]*=a,n[r+l]>e.xrpow_max&&(e.xrpow_max=n[r+l])}e.scalefac[s]=o>>1}e.preflag=0,e.scalefac_scale=1}function m(e,n,a){var r,s=n.scalefac;for(r=0;r<n.sfb_lmax;r++)if(s[r]>=16)return!0;for(var i=0;i<3;i++){var o=0,l=0;for(r=n.sfb_lmax+i;r<n.sfbdivide;r+=3)o<s[r]&&(o=s[r]);for(;r<n.sfbmax;r+=3)l<s[r]&&(l=s[r]);if(!(o<16&&l<8)){if(n.subblock_gain[i]>=7)return!0;n.subblock_gain[i]++;var _=e.scalefac_band.l[n.sfb_lmax];for(r=n.sfb_lmax+i;r<n.sfbmax;r+=3){var c=n.width[r],f=s[r];if((f-=4>>n.scalefac_scale)>=0)s[r]=f,_+=3*c;else{s[r]=0;var u=210+(f<<n.scalefac_scale+1);p=t.IPOW20(u),_+=c*(i+1);for(var h=-c;h<0;h++)a[_+h]*=p,a[_+h]>n.xrpow_max&&(n.xrpow_max=a[_+h]);_+=c*(3-i-1)}}var p=t.IPOW20(202);for(_+=n.width[r]*(i+1),h=-n.width[r];h<0;h++)a[_+h]*=p,a[_+h]>n.xrpow_max&&(n.xrpow_max=a[_+h])}}return!1}function v(e,t,n,r,s){var i=e.internal_flags;p(e,t,n,r,s);var o=c(t);return!o&&(!(o=2==i.mode_gr?a.scale_bitcount(t):a.scale_bitcount_lsf(i,t))||(i.noise_shaping>1&&(u.fill(i.pseudohalf,0),0==t.scalefac_scale?(d(t,r),o=!1):t.block_type==Z.SHORT_TYPE&&i.subblock_gain>0&&(o=m(i,t,r)||c(t))),o||(o=2==i.mode_gr?a.scale_bitcount(t):a.scale_bitcount_lsf(i,t)),!o))}this.setModules=function(n,s,i,o){e=s,this.rv=s,t=i,this.qupvt=i,a=o,r.setModules(t,a)},this.init_xrpow=function(e,t,n){var a=0,r=0|t.max_nonzero_coeff;if(t.xrpow_max=0,u.fill(n,r,576,0),(a=s(t,n,r,a))>1e-20){var i=0;0!=(2&e.substep_shaping)&&(i=1);for(var o=0;o<t.psymax;o++)e.pseudohalf[o]=i;return!0}return u.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,a){a.part2_3_length=0,a.big_values=0,a.count1=0,a.global_gain=210,a.scalefac_compress=0,a.table_select[0]=0,a.table_select[1]=0,a.table_select[2]=0,a.subblock_gain[0]=0,a.subblock_gain[1]=0,a.subblock_gain[2]=0,a.subblock_gain[3]=0,a.region0_count=0,a.region1_count=0,a.preflag=0,a.scalefac_scale=0,a.count1table_select=0,a.part2_length=0,a.sfb_lmax=Z.SBPSY_l,a.sfb_smin=Z.SBPSY_s,a.psy_lmax=e.sfb21_extra?Z.SBMAX_l:Z.SBPSY_l,a.psymax=a.psy_lmax,a.sfbmax=a.sfb_lmax,a.sfbdivide=11;for(var r=0;r<Z.SBMAX_l;r++)a.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],a.window[r]=3;if(a.block_type==Z.SHORT_TYPE){var s=i(576);a.sfb_smin=0,a.sfb_lmax=0,0!=a.mixed_block_flag&&n(),a.psymax=a.sfb_lmax+3*((e.sfb21_extra?Z.SBMAX_s:Z.SBPSY_s)-a.sfb_smin),a.sfbmax=a.sfb_lmax+3*(Z.SBPSY_s-a.sfb_smin),a.sfbdivide=a.sfbmax-18,a.psy_lmax=a.sfb_lmax;var l=e.scalefac_band.l[a.sfb_lmax];for(h.arraycopy(a.xr,0,s,0,576),r=a.sfb_smin;r<Z.SBMAX_s;r++)for(var _=e.scalefac_band.s[r],c=e.scalefac_band.s[r+1],f=0;f<3;f++)for(var p=_;p<c;p++)a.xr[l++]=s[3*p+f];var d=a.sfb_lmax;for(r=a.sfb_smin;r<Z.SBMAX_s;r++)a.width[d]=a.width[d+1]=a.width[d+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],a.window[d]=0,a.window[d+1]=1,a.window[d+2]=2,d+=3}a.count1bits=0,a.sfb_partition_table=t.nr_of_sfb_block[0][0],a.slen[0]=0,a.slen[1]=0,a.slen[2]=0,a.slen[3]=0,a.max_nonzero_coeff=575,u.fill(a.scalefac,0),o(e,a)},l.BINSEARCH_NONE=new l(0),l.BINSEARCH_UP=new l(1),l.BINSEARCH_DOWN=new l(2),this.outer_loop=function(e,r,s,o,l,c){var u=e.internal_flags,p=new N,d=i(576),m=i(j.SFBMAX),g=new E,w=new O,k=9999999,S=!1,y=!1,M=0;if(_(u,r,c,l,o),0==u.noise_shaping)return 100;t.calc_noise(r,s,m,g,w),g.bits=r.part2_3_length,p.assign(r);var x=0;for(h.arraycopy(o,0,d,0,576);!S;){do{var A,R=new E,B=255;if(A=0!=(2&u.substep_shaping)?20:3,u.sfb21_extra&&n(),!v(e,p,m,o,y))break;0!=p.scalefac_scale&&(B=254);var T=c-p.part2_length;if(T<=0)break;for(;(p.part2_3_length=a.count_bits(u,o,p,w))>T&&p.global_gain<=B;)p.global_gain++;if(p.global_gain>B)break;if(0==g.over_count){for(;(p.part2_3_length=a.count_bits(u,o,p,w))>k&&p.global_gain<=B;)p.global_gain++;if(p.global_gain>B)break}if(t.calc_noise(p,s,m,R,w),R.bits=p.part2_3_length,0!=(f(r.block_type!=Z.SHORT_TYPE?e.quant_comp:e.quant_comp_short,g,R,p,m)?1:0))k=r.part2_3_length,g=R,r.assign(p),x=0,h.arraycopy(o,0,d,0,576);else if(0==u.full_outer_loop){if(++x>A&&0==g.over_count)break;if(3==u.noise_shaping_amp&&y&&x>30)break;if(3==u.noise_shaping_amp&&y&&p.global_gain-M>15)break}}while(p.global_gain+p.scalefac_scale<255);3==u.noise_shaping_amp?n():S=!0}return e.VBR==b.vbr_rh||e.VBR==b.vbr_mtrh?h.arraycopy(d,0,o,0,576):0!=(1&u.substep_shaping)&&n(),g.over_count},this.iteration_finish_one=function(t,n,r){var s=t.l3_side,i=s.tt[n][r];a.best_scalefac_store(t,n,r,s),1==t.use_best_huffman&&a.best_huffman_divide(t,i),e.ResvAdjust(t,i)}}function F(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*p.SQRT2*.5/2384e-9,.017876148*p.SQRT2*.5/2384e-9,.003134727*p.SQRT2*.5/2384e-9,.002457142*p.SQRT2*.5/2384e-9,971317e-9*p.SQRT2*.5/2384e-9,218868e-9*p.SQRT2*.5/2384e-9,101566e-9*p.SQRT2*.5/2384e-9,13828e-9*p.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=12,a=36,r=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],s=r[Z.SHORT_TYPE],o=r[Z.SHORT_TYPE],l=r[Z.SHORT_TYPE],_=r[Z.SHORT_TYPE],c=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function f(t,n,a){for(var r,s,i,o=10,l=n+238-14-286,_=-15;_<0;_++){var c,f,u;c=e[o+-10],f=t[l+-224]*c,u=t[n+224]*c,c=e[o+-9],f+=t[l+-160]*c,u+=t[n+160]*c,c=e[o+-8],f+=t[l+-96]*c,u+=t[n+96]*c,c=e[o+-7],f+=t[l+-32]*c,u+=t[n+32]*c,c=e[o+-6],f+=t[l+32]*c,u+=t[n+-32]*c,c=e[o+-5],f+=t[l+96]*c,u+=t[n+-96]*c,c=e[o+-4],f+=t[l+160]*c,u+=t[n+-160]*c,c=e[o+-3],f+=t[l+224]*c,u+=t[n+-224]*c,c=e[o+-2],f+=t[n+-256]*c,u-=t[l+256]*c,c=e[o+-1],f+=t[n+-192]*c,u-=t[l+192]*c,c=e[o+0],f+=t[n+-128]*c,u-=t[l+128]*c,c=e[o+1],f+=t[n+-64]*c,u-=t[l+64]*c,c=e[o+2],f+=t[n+0]*c,u-=t[l+0]*c,c=e[o+3],f+=t[n+64]*c,u-=t[l+-64]*c,c=e[o+4],f+=t[n+128]*c,u-=t[l+-128]*c,c=e[o+5],f+=t[n+192]*c,c=(u-=t[l+-192]*c)-(f*=e[o+6]),a[30+2*_]=u+f,a[31+2*_]=e[o+7]*c,o+=18,n--,l++}u=t[n+-16]*e[o+-10],f=t[n+-32]*e[o+-2],u+=(t[n+-48]-t[n+16])*e[o+-9],f+=t[n+-96]*e[o+-1],u+=(t[n+-80]+t[n+48])*e[o+-8],f+=t[n+-160]*e[o+0],u+=(t[n+-112]-t[n+80])*e[o+-7],f+=t[n+-224]*e[o+1],u+=(t[n+-144]+t[n+112])*e[o+-6],f-=t[n+32]*e[o+2],u+=(t[n+-176]-t[n+144])*e[o+-5],f-=t[n+96]*e[o+3],u+=(t[n+-208]+t[n+176])*e[o+-4],f-=t[n+160]*e[o+4],u+=(t[n+-240]-t[n+208])*e[o+-3],r=(f-=t[n+224])-u,s=f+u,u=a[14],f=a[15]-u,a[31]=s+u,a[30]=r+f,a[15]=r-f,a[14]=s-u,i=a[28]-a[0],a[0]+=a[28],a[28]=i*e[o+-36+7],i=a[29]-a[1],a[1]+=a[29],a[29]=i*e[o+-36+7],i=a[26]-a[2],a[2]+=a[26],a[26]=i*e[o+-72+7],i=a[27]-a[3],a[3]+=a[27],a[27]=i*e[o+-72+7],i=a[24]-a[4],a[4]+=a[24],a[24]=i*e[o+-108+7],i=a[25]-a[5],a[5]+=a[25],a[25]=i*e[o+-108+7],i=a[22]-a[6],a[6]+=a[22],a[22]=i*p.SQRT2,i=a[23]-a[7],a[7]+=a[23],a[23]=i*p.SQRT2-a[7],a[7]-=a[6],a[22]-=a[7],a[23]-=a[22],i=a[6],a[6]=a[31]-i,a[31]=a[31]+i,i=a[7],a[7]=a[30]-i,a[30]=a[30]+i,i=a[22],a[22]=a[15]-i,a[15]=a[15]+i,i=a[23],a[23]=a[14]-i,a[14]=a[14]+i,i=a[20]-a[8],a[8]+=a[20],a[20]=i*e[o+-180+7],i=a[21]-a[9],a[9]+=a[21],a[21]=i*e[o+-180+7],i=a[18]-a[10],a[10]+=a[18],a[18]=i*e[o+-216+7],i=a[19]-a[11],a[11]+=a[19],a[19]=i*e[o+-216+7],i=a[16]-a[12],a[12]+=a[16],a[16]=i*e[o+-252+7],i=a[17]-a[13],a[13]+=a[17],a[17]=i*e[o+-252+7],i=-a[20]+a[24],a[20]+=a[24],a[24]=i*e[o+-216+7],i=-a[21]+a[25],a[21]+=a[25],a[25]=i*e[o+-216+7],i=a[4]-a[8],a[4]+=a[8],a[8]=i*e[o+-216+7],i=a[5]-a[9],a[5]+=a[9],a[9]=i*e[o+-216+7],i=a[0]-a[12],a[0]+=a[12],a[12]=i*e[o+-72+7],i=a[1]-a[13],a[1]+=a[13],a[13]=i*e[o+-72+7],i=a[16]-a[28],a[16]+=a[28],a[28]=i*e[o+-72+7],i=-a[17]+a[29],a[17]+=a[29],a[29]=i*e[o+-72+7],i=p.SQRT2*(a[2]-a[10]),a[2]+=a[10],a[10]=i,i=p.SQRT2*(a[3]-a[11]),a[3]+=a[11],a[11]=i,i=p.SQRT2*(-a[18]+a[26]),a[18]+=a[26],a[26]=i-a[18],i=p.SQRT2*(-a[19]+a[27]),a[19]+=a[27],a[27]=i-a[19],i=a[2],a[19]-=a[3],a[3]-=i,a[2]=a[31]-i,a[31]+=i,i=a[3],a[11]-=a[19],a[18]-=i,a[3]=a[30]-i,a[30]+=i,i=a[18],a[27]-=a[11],a[19]-=i,a[18]=a[15]-i,a[15]+=i,i=a[19],a[10]-=i,a[19]=a[14]-i,a[14]+=i,i=a[10],a[11]-=i,a[10]=a[23]-i,a[23]+=i,i=a[11],a[26]-=i,a[11]=a[22]-i,a[22]+=i,i=a[26],a[27]-=i,a[26]=a[7]-i,a[7]+=i,i=a[27],a[27]=a[6]-i,a[6]+=i,i=p.SQRT2*(a[0]-a[4]),a[0]+=a[4],a[4]=i,i=p.SQRT2*(a[1]-a[5]),a[1]+=a[5],a[5]=i,i=p.SQRT2*(a[16]-a[20]),a[16]+=a[20],a[20]=i,i=p.SQRT2*(a[17]-a[21]),a[17]+=a[21],a[21]=i,i=-p.SQRT2*(a[8]-a[12]),a[8]+=a[12],a[12]=i-a[8],i=-p.SQRT2*(a[9]-a[13]),a[9]+=a[13],a[13]=i-a[9],i=-p.SQRT2*(a[25]-a[29]),a[25]+=a[29],a[29]=i-a[25],i=-p.SQRT2*(a[24]+a[28]),a[24]-=a[28],a[28]=i-a[24],i=a[24]-a[16],a[24]=i,i=a[20]-i,a[20]=i,i=a[28]-i,a[28]=i,i=a[25]-a[17],a[25]=i,i=a[21]-i,a[21]=i,i=a[29]-i,a[29]=i,i=a[17]-a[1],a[17]=i,i=a[9]-i,a[9]=i,i=a[25]-i,a[25]=i,i=a[5]-i,a[5]=i,i=a[21]-i,a[21]=i,i=a[13]-i,a[13]=i,i=a[29]-i,a[29]=i,i=a[1]-a[0],a[1]=i,i=a[16]-i,a[16]=i,i=a[17]-i,a[17]=i,i=a[8]-i,a[8]=i,i=a[9]-i,a[9]=i,i=a[24]-i,a[24]=i,i=a[25]-i,a[25]=i,i=a[4]-i,a[4]=i,i=a[5]-i,a[5]=i,i=a[20]-i,a[20]=i,i=a[21]-i,a[21]=i,i=a[12]-i,a[12]=i,i=a[13]-i,a[13]=i,i=a[28]-i,a[28]=i,i=a[29]-i,a[29]=i,i=a[0],a[0]+=a[31],a[31]-=i,i=a[1],a[1]+=a[30],a[30]-=i,i=a[16],a[16]+=a[15],a[15]-=i,i=a[17],a[17]+=a[14],a[14]-=i,i=a[8],a[8]+=a[23],a[23]-=i,i=a[9],a[9]+=a[22],a[22]-=i,i=a[24],a[24]+=a[7],a[7]-=i,i=a[25],a[25]+=a[6],a[6]-=i,i=a[4],a[4]+=a[27],a[27]-=i,i=a[5],a[5]+=a[26],a[26]-=i,i=a[20],a[20]+=a[11],a[11]-=i,i=a[21],a[21]+=a[10],a[10]-=i,i=a[12],a[12]+=a[19],a[19]-=i,i=a[13],a[13]+=a[18],a[18]-=i,i=a[28],a[28]+=a[3],a[3]-=i,i=a[29],a[29]+=a[2],a[2]-=i}function d(e,t){for(var n=0;n<3;n++){var a,s,i,o,l,_;s=(o=e[t+6]*r[Z.SHORT_TYPE][0]-e[t+15])+(a=e[t+0]*r[Z.SHORT_TYPE][2]-e[t+9]),i=o-a,l=(o=e[t+15]*r[Z.SHORT_TYPE][0]+e[t+6])+(a=e[t+9]*r[Z.SHORT_TYPE][2]+e[t+0]),_=-o+a,a=2069978111953089e-26*(e[t+3]*r[Z.SHORT_TYPE][1]-e[t+12]),o=2069978111953089e-26*(e[t+12]*r[Z.SHORT_TYPE][1]+e[t+3]),e[t+0]=190752519173728e-25*s+a,e[t+15]=190752519173728e-25*-l+o,i=.8660254037844387*i*1907525191737281e-26,l=.5*l*1907525191737281e-26+o,e[t+3]=i-l,e[t+6]=i+l,s=.5*s*1907525191737281e-26-a,_=.8660254037844387*_*1907525191737281e-26,e[t+9]=s+_,e[t+12]=s-_,t++}}function m(e,t,n){var a,r,s,i,l,_,c,f,u,h,p,d,m,b,v,g,w,k;s=n[17]-n[9],l=n[15]-n[11],_=n[14]-n[12],c=n[0]+n[8],f=n[1]+n[7],u=n[2]+n[6],h=n[3]+n[5],e[t+17]=c+u-h-(f-n[4]),r=(c+u-h)*o[19]+(f-n[4]),a=(s-l-_)*o[18],e[t+5]=a+r,e[t+6]=a-r,i=(n[16]-n[10])*o[18],f=f*o[19]+n[4],a=s*o[12]+i+l*o[13]+_*o[14],r=-c*o[16]+f-u*o[17]+h*o[15],e[t+1]=a+r,e[t+2]=a-r,a=s*o[13]-i-l*o[14]+_*o[12],r=-c*o[17]+f-u*o[15]+h*o[16],e[t+9]=a+r,e[t+10]=a-r,a=s*o[14]-i+l*o[12]-_*o[13],r=c*o[15]-f+u*o[16]-h*o[17],e[t+13]=a+r,e[t+14]=a-r,p=n[8]-n[0],m=n[6]-n[2],b=n[5]-n[3],v=n[17]+n[9],g=n[16]+n[10],w=n[15]+n[11],k=n[14]+n[12],e[t+0]=v+w+k+(g+n[13]),a=(v+w+k)*o[19]-(g+n[13]),r=(p-m+b)*o[18],e[t+11]=a+r,e[t+12]=a-r,d=(n[7]-n[1])*o[18],g=n[13]-g*o[19],a=v*o[15]-g+w*o[16]+k*o[17],r=p*o[14]+d+m*o[12]+b*o[13],e[t+3]=a+r,e[t+4]=a-r,a=-v*o[17]+g-w*o[15]-k*o[16],r=p*o[13]+d-m*o[14]-b*o[12],e[t+7]=a+r,e[t+8]=a-r,a=-v*o[16]+g-w*o[17]-k*o[15],r=p*o[12]-d+m*o[13]-b*o[14],e[t+15]=a+r,e[t+16]=a-r}this.mdct_sub48=function(e,o,p){for(var b=o,v=286,g=0;g<e.channels_out;g++){for(var w=0;w<e.mode_gr;w++){for(var k,S=e.l3_side.tt[w][g],y=S.xr,M=0,x=e.sb_sample[g][1-w],A=0,R=0;R<9;R++)for(f(b,v,x[A]),f(b,v+32,x[A+1]),A+=2,v+=64,k=1;k<32;k+=2)x[A-1][k]*=-1;for(k=0;k<32;k++,M+=18){var B=S.block_type,E=e.sb_sample[g][w],T=e.sb_sample[g][1-w];if(0!=S.mixed_block_flag&&k<2&&(B=0),e.amp_filter[k]<1e-12)u.fill(y,M+0,M+18,0);else if(e.amp_filter[k]<1&&n(),B==Z.SHORT_TYPE){for(R=-t/4;R<0;R++){var C=r[Z.SHORT_TYPE][R+3];y[M+3*R+9]=E[9+R][c[k]]*C-E[8-R][c[k]],y[M+3*R+18]=E[14-R][c[k]]*C+E[15+R][c[k]],y[M+3*R+10]=E[15+R][c[k]]*C-E[14-R][c[k]],y[M+3*R+19]=T[2-R][c[k]]*C+T[3+R][c[k]],y[M+3*R+11]=T[3+R][c[k]]*C-T[2-R][c[k]],y[M+3*R+20]=T[8-R][c[k]]*C+T[9+R][c[k]]}d(y,M)}else{var L=i(18);for(R=-a/4;R<0;R++){var P,I;P=r[B][R+27]*T[R+9][c[k]]+r[B][R+36]*T[8-R][c[k]],I=r[B][R+9]*E[R+9][c[k]]-r[B][R+18]*E[8-R][c[k]],L[R+9]=P-I*s[3+R+9],L[R+18]=P*s[3+R+9]+I}m(y,M,L)}if(B!=Z.SHORT_TYPE&&0!=k)for(R=7;R>=0;--R){var H,V;H=y[M+R]*l[20+R]+y[M+-1-R]*_[28+R],V=y[M+R]*_[28+R]-y[M+-1-R]*l[20+R],y[M+-1-R]=H,y[M+R]=V}}}if(b=p,v=286,1==e.mode_gr)for(var O=0;O<18;O++)h.arraycopy(e.sb_sample[g][1][O],0,e.sb_sample[g][0][O],0,32)}}}function z(){this.thm=new Y,this.en=new Y}function Z(){Z.FFTOFFSET;var e=Z.MPG_MD_MS_LR,t=null;this.psy=null;var a=null,r=null;this.setModules=function(e,n,s,i){t=e,this.psy=n,a=n,r=i};var o=new F;function _(e){var t,a;if(0!=e.ATH.useAdjust)if(a=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?n():(a+=a,t+=t),2==e.mode_gr&&(a=Math.max(a,t)),a*=.5,(a*=e.ATH.aaSensitivityP)>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var r=31.98*a+625e-6;e.ATH.adjust>=r?(e.ATH.adjust*=.075*r+.925,e.ATH.adjust<r&&(e.ATH.adjust=r)):e.ATH.adjustLimit>=r?e.ATH.adjust=r:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=r}else e.ATH.adjust=1}function c(e){var t,a;for(e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&n(),t=0;t<e.mode_gr;++t)for(a=0;a<e.channels_out;++a){var r=0|e.l3_side.tt[t][a].block_type;0!=e.l3_side.tt[t][a].mixed_block_flag&&(r=4),e.bitrate_blockType_Hist[e.bitrate_index][r]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][r]++,e.bitrate_blockType_Hist[15][5]++}}function u(e,t){var n,a,r=e.internal_flags;if(0==r.lame_encode_frame_init){var s,l,_=i(2014),c=i(2014);for(r.lame_encode_frame_init=1,s=0,l=0;s<286+576*(1+r.mode_gr);++s)s<576*r.mode_gr?(_[s]=0,2==r.channels_out&&(c[s]=0)):(_[s]=t[0][l],2==r.channels_out&&(c[s]=t[1][l]),++l);for(a=0;a<r.mode_gr;a++)for(n=0;n<r.channels_out;n++)r.l3_side.tt[a][n].block_type=Z.SHORT_TYPE;o.mdct_sub48(r,_,c)}}this.lame_encode_mp3_frame=function(i,h,p,d,m,g){var w,k=f([2,2]);k[0][0]=new z,k[0][1]=new z,k[1][0]=new z,k[1][1]=new z;var S,y=f([2,2]);y[0][0]=new z,y[0][1]=new z,y[1][0]=new z,y[1][1]=new z;var M,x,A,R=[null,null],B=i.internal_flags,E=l([2,4]),T=[.5,.5],C=[[0,0],[0,0]],L=[[0,0],[0,0]];if(R[0]=h,R[1]=p,0==B.lame_encode_frame_init&&u(i,R),B.padding=0,(B.slot_lag-=B.frac_SpF)<0&&(B.slot_lag+=i.out_samplerate,B.padding=1),0!=B.psymodel){var P,I=[null,null],H=0,V=s(2);for(A=0;A<B.mode_gr;A++){for(x=0;x<B.channels_out;x++)I[x]=R[x],H=576+576*A-Z.FFTOFFSET;if(i.VBR==b.vbr_mtrh||i.VBR==b.vbr_mt?n():P=a.L3psycho_anal_ns(i,I,H,A,k,y,C[A],L[A],E[A],V),0!=P)return-4;for(i.mode==v.JOINT_STEREO&&n(),x=0;x<B.channels_out;x++){var O=B.l3_side.tt[A][x];O.block_type=V[x],O.mixed_block_flag=0}}}else n();if(_(B),o.mdct_sub48(B,R[0],R[1]),B.mode_ext=Z.MPG_MD_LR_LR,i.force_ms?B.mode_ext=Z.MPG_MD_MS_LR:i.mode==v.JOINT_STEREO&&n(),B.mode_ext==e?(S=y,M=L):(S=k,M=C),i.analysis&&null!=B.pinfo&&n(),i.VBR==b.vbr_off||i.VBR==b.vbr_abr){var N,j;for(N=0;N<18;N++)B.nsPsy.pefirbuf[N]=B.nsPsy.pefirbuf[N+1];for(j=0,A=0;A<B.mode_gr;A++)for(x=0;x<B.channels_out;x++)j+=M[A][x];for(B.nsPsy.pefirbuf[18]=j,j=B.nsPsy.pefirbuf[9],N=0;N<9;N++)j+=(B.nsPsy.pefirbuf[N]+B.nsPsy.pefirbuf[18-N])*Z.fircoef[N];for(j=3350*B.mode_gr*B.channels_out/j,A=0;A<B.mode_gr;A++)for(x=0;x<B.channels_out;x++)M[A][x]*=j}return B.iteration_loop.iteration_loop(i,M,T,S),t.format_bitstream(i),w=t.copy_buffer(B,d,m,g,1),i.bWriteVbrTag&&r.addVbrFrame(i),i.analysis&&null!=B.pinfo&&n(),c(B),w}}function X(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function q(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[s(4),s(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new N}function Y(){this.l=i(Z.SBMAX_l),this.s=l([Z.SBMAX_s,3]);var e=this;this.assign=function(t){h.arraycopy(t.l,0,e.l,0,Z.SBMAX_l);for(var n=0;n<Z.SBMAX_s;n++)for(var a=0;a<3;a++)e.s[n][a]=t.s[n][a]}}function U(){this.last_en_subshort=l([4,9]),this.lastAttacks=s(4),this.pefirbuf=i(19),this.longfact=i(Z.SBMAX_l),this.shortfact=i(Z.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function G(){var e=40;function t(){this.write_timing=0,this.ptr=0,this.buf=a(e)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=l([2,G.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new q,this.ms_ratio=i(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=s(2),this.CurrentStep=s(2),this.masking_lower=0,this.bv_scf=s(576),this.pseudohalf=s(j.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*G.BPC+1),this.itime=o(2),this.sideinfo_len=0,this.sb_sample=l([2,2,18,Z.SBLIMIT]),this.amp_filter=i(32),this.header=new Array(G.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new H,this.minval_l=i(Z.CBANDS),this.minval_s=i(Z.CBANDS),this.nb_1=l([4,Z.CBANDS]),this.nb_2=l([4,Z.CBANDS]),this.nb_s1=l([4,Z.CBANDS]),this.nb_s2=l([4,Z.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=i(4),this.loudness_sq=l([2,2]),this.loudness_sq_save=i(2),this.mld_l=i(Z.SBMAX_l),this.mld_s=i(Z.SBMAX_s),this.bm_l=s(Z.SBMAX_l),this.bo_l=s(Z.SBMAX_l),this.bm_s=s(Z.SBMAX_s),this.bo_s=s(Z.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=_([Z.CBANDS,2]),this.s3ind_s=_([Z.CBANDS,2]),this.numlines_s=s(Z.CBANDS),this.numlines_l=s(Z.CBANDS),this.rnumlines_l=i(Z.CBANDS),this.mld_cb_l=i(Z.CBANDS),this.mld_cb_s=i(Z.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=i(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=s(2),this.nsPsy=new U,this.VBR_seek_table=new X,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=_([16,5]),this.bitrate_blockType_Hist=_([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new Y;for(n=0;n<this.thm.length;n++)this.thm[n]=new Y;for(n=0;n<this.header.length;n++)this.header[n]=new t}function W(){var e=i(Z.BLKSIZE),t=i(Z.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(e,t,a){var r,s,i,o=0,l=t+(a<<=1);r=4;do{var _,c,f,u,h,d,m;m=r>>1,d=(h=r<<1)+(u=r),r=h<<1,i=(s=t)+m;do{y=e[s+0]-e[s+u],S=e[s+0]+e[s+u],R=e[s+h]-e[s+d],x=e[s+h]+e[s+d],e[s+h]=S-x,e[s+0]=S+x,e[s+d]=y-R,e[s+u]=y+R,y=e[i+0]-e[i+u],S=e[i+0]+e[i+u],R=p.SQRT2*e[i+d],x=p.SQRT2*e[i+h],e[i+h]=S-x,e[i+0]=S+x,e[i+d]=y-R,e[i+u]=y+R,i+=r,s+=r}while(s<l);for(c=n[o+0],_=n[o+1],f=1;f<m;f++){var b,v;b=1-2*_*_,v=2*_*c,s=t+f,i=t+u-f;do{var g,w,k,S,y,M,x,A,R,B;w=v*e[s+u]-b*e[i+u],g=b*e[s+u]+v*e[i+u],y=e[s+0]-g,S=e[s+0]+g,M=e[i+0]-w,k=e[i+0]+w,w=v*e[s+d]-b*e[i+d],g=b*e[s+d]+v*e[i+d],R=e[s+h]-g,x=e[s+h]+g,B=e[i+h]-w,A=e[i+h]+w,w=_*x-c*B,g=c*x+_*B,e[s+h]=S-g,e[s+0]=S+g,e[i+d]=M-w,e[i+u]=M+w,w=c*A-_*R,g=_*A+c*R,e[i+h]=k-g,e[i+0]=k+g,e[s+d]=y-w,e[s+u]=y+w,i+=r,s+=r}while(s<l);c=(b=c)*n[o+0]-_*n[o+1],_=b*n[o+1]+_*n[o+0]}o+=2}while(r<a)}var r=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,s,i,o){for(var l=0;l<3;l++){var _=Z.BLKSIZE_s/2,c=65535&192*(l+1),f=Z.BLKSIZE_s/8-1;do{var u,h,p,d,m,b=255&r[f<<2];h=(u=t[b]*i[s][o+b+c])-(m=t[127-b]*i[s][o+b+c+128]),u+=m,d=(p=t[b+64]*i[s][o+b+c+64])-(m=t[63-b]*i[s][o+b+c+192]),p+=m,_-=4,n[l][_+0]=u+p,n[l][_+2]=u-p,n[l][_+1]=h+d,n[l][_+3]=h-d,h=(u=t[b+1]*i[s][o+b+c+1])-(m=t[126-b]*i[s][o+b+c+129]),u+=m,d=(p=t[b+65]*i[s][o+b+c+65])-(m=t[62-b]*i[s][o+b+c+193]),p+=m,n[l][_+Z.BLKSIZE_s/2+0]=u+p,n[l][_+Z.BLKSIZE_s/2+2]=u-p,n[l][_+Z.BLKSIZE_s/2+1]=h+d,n[l][_+Z.BLKSIZE_s/2+3]=h-d}while(--f>=0);a(n[l],_,Z.BLKSIZE_s/2)}},this.fft_long=function(t,n,s,i,o){var l=Z.BLKSIZE/8-1,_=Z.BLKSIZE/2;do{var c,f,u,h,p,d=255&r[l];f=(c=e[d]*i[s][o+d])-(p=e[d+512]*i[s][o+d+512]),c+=p,h=(u=e[d+256]*i[s][o+d+256])-(p=e[d+768]*i[s][o+d+768]),u+=p,n[0+(_-=4)]=c+u,n[_+2]=c-u,n[_+1]=f+h,n[_+3]=f-h,f=(c=e[d+1]*i[s][o+d+1])-(p=e[d+513]*i[s][o+d+513]),c+=p,h=(u=e[d+257]*i[s][o+d+257])-(p=e[d+769]*i[s][o+d+769]),u+=p,n[_+Z.BLKSIZE/2+0]=c+u,n[_+Z.BLKSIZE/2+2]=c-u,n[_+Z.BLKSIZE/2+1]=f+h,n[_+Z.BLKSIZE/2+3]=f-h}while(--l>=0);a(n,_,Z.BLKSIZE/2)},this.init_fft=function(n){for(var a=0;a<Z.BLKSIZE;a++)e[a]=.42-.5*Math.cos(2*Math.PI*(a+.5)/Z.BLKSIZE)+.08*Math.cos(4*Math.PI*(a+.5)/Z.BLKSIZE);for(a=0;a<Z.BLKSIZE_s/2;a++)t[a]=.5*(1-Math.cos(2*Math.PI*(a+.5)/Z.BLKSIZE_s))}}function K(){var e=new W,t=2.302585092994046,a=2,r=16,o=2,_=16,c=.34,f=1/217621504/(Z.BLKSIZE/2),h=.01,g=.8,w=.6,k=.3,S=3.5,y=21,M=.2302585093;function x(e,t){for(var n=0,a=0;a<Z.BLKSIZE/2;++a)n+=e[a]*t.ATH.eql_w[a];return n*=f}function A(t,a,r,s,i,o,l,_,c,f,u){var h=t.internal_flags;c<2?(e.fft_long(h,s[i],c,f,u),e.fft_short(h,o[l],c,f,u)):2==c&&n(),a[0]=s[i+0][0],a[0]*=a[0];for(var p=Z.BLKSIZE/2-1;p>=0;--p){var d=s[i+0][Z.BLKSIZE/2-p],m=s[i+0][Z.BLKSIZE/2+p];a[Z.BLKSIZE/2-p]=.5*(d*d+m*m)}for(var b=2;b>=0;--b)for(r[b][0]=o[l+0][b][0],r[b][0]*=r[b][0],p=Z.BLKSIZE_s/2-1;p>=0;--p)d=o[l+0][b][Z.BLKSIZE_s/2-p],m=o[l+0][b][Z.BLKSIZE_s/2+p],r[b][Z.BLKSIZE_s/2-p]=.5*(d*d+m*m);var v=0;for(p=11;p<Z.HBLKSIZE;p++)v+=a[p];h.tot_ener[c]=v,t.analysis&&n(),2==t.athaa_loudapprox&&c<2&&(h.loudness_sq[_][c]=h.loudness_sq_save[c],h.loudness_sq_save[c]=x(a,h))}var R,B,E,T=8,C=23,L=15,P=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function I(){R=Math.pow(10,(T+1)/16),B=Math.pow(10,(C+1)/16),E=Math.pow(10,L/10)}var H=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],V=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],O=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function N(e,t,n,a,r,s){var i,o,l;if(t>e){if(!(t<e*B))return e+t;i=t/e}else{if(e>=t*B)return e+t;i=e/t}if(e+=t,a+3<=6){if(i>=R)return e;var _=0|p.FAST_LOG10_X(i,16);return e*V[_]}return _=0|p.FAST_LOG10_X(i,16),t=0!=s?r.ATH.cb_s[n]*r.ATH.adjust:r.ATH.cb_l[n]*r.ATH.adjust,e<E*t?e>t?(o=1,_<=13&&(o=O[_]),l=p.FAST_LOG10_X(e/t,10/15),e*((H[_]-o)*l+o)):_>13?e:e*O[_]:e*H[_]}function j(e,t,n,a,r){var s,i,o=0,l=0;for(s=i=0;s<Z.SBMAX_s;++i,++s){for(var _=e.bo_s[s],c=e.npart_s,f=_<c?_:c;i<f;)o+=t[i],l+=n[i],i++;if(e.en[a].s[s][r]=o,e.thm[a].s[s][r]=l,i>=c){++s;break}var u=e.PSY.bo_s_weight[s],h=1-u;o=u*t[i],l=u*n[i],e.en[a].s[s][r]+=o,e.thm[a].s[s][r]+=l,o=h*t[i],l=h*n[i]}for(;s<Z.SBMAX_s;++s)e.en[a].s[s][r]=0,e.thm[a].s[s][r]=0}function D(e,t,n,a){var r,s,i=0,o=0;for(r=s=0;r<Z.SBMAX_l;++s,++r){for(var l=e.bo_l[r],_=e.npart_l,c=l<_?l:_;s<c;)i+=t[s],o+=n[s],s++;if(e.en[a].l[r]=i,e.thm[a].l[r]=o,s>=_){++r;break}var f=e.PSY.bo_l_weight[r],u=1-f;i=f*t[s],o=f*n[s],e.en[a].l[r]+=i,e.thm[a].l[r]+=o,i=u*t[s],o=u*n[s]}for(;r<Z.SBMAX_l;++r)e.en[a].l[r]=0,e.thm[a].l[r]=0}function F(e,t,n,a,r,s){var i,l,c=e.internal_flags;for(l=i=0;l<c.npart_s;++l){for(var f=0,u=0,h=c.numlines_s[l],p=0;p<h;++p,++i){var d=t[s][i];f+=d,u<d&&(u=d)}n[l]=f}for(i=l=0;l<c.npart_s;l++){var m=c.s3ind_s[l][0],b=c.s3_ss[i++]*n[m];for(++m;m<=c.s3ind_s[l][1];)b+=c.s3_ss[i]*n[m],++i,++m;var v=o*c.nb_s1[r][l];if(a[l]=Math.min(b,v),c.blocktype_old[1&r]==Z.SHORT_TYPE){v=_*c.nb_s2[r][l];var g=a[l];a[l]=Math.min(v,g)}c.nb_s2[r][l]=c.nb_s1[r][l],c.nb_s1[r][l]=b}for(;l<=Z.CBANDS;++l)n[l]=0,a[l]=0}function z(e,t,n,a){var r=e.internal_flags;e.short_blocks!=d.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var s=0;s<r.channels_out;s++)a[s]=Z.NORM_TYPE,e.short_blocks==d.short_block_dispensed&&(t[s]=1),e.short_blocks==d.short_block_forced&&(t[s]=0),0!=t[s]?r.blocktype_old[s]==Z.SHORT_TYPE&&(a[s]=Z.STOP_TYPE):(a[s]=Z.SHORT_TYPE,r.blocktype_old[s]==Z.NORM_TYPE&&(r.blocktype_old[s]=Z.START_TYPE),r.blocktype_old[s]==Z.STOP_TYPE&&(r.blocktype_old[s]=Z.SHORT_TYPE)),n[s]=r.blocktype_old[s],r.blocktype_old[s]=a[s]}function X(e,t,n){return n>=1?e:n<=0?t:t>0?Math.pow(e/t,n)*t:0}var q=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Y(e,n){for(var a=309.07,r=0;r<Z.SBMAX_s-1;r++)for(var s=0;s<3;s++){var i=e.thm.s[r][s];if(i>0){var o=i*n,l=e.en.s[r][s];l>o&&(a+=l>1e10*o?q[r]*(10*t):q[r]*p.FAST_LOG10(l/o))}}return a}var U=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function G(e,n){for(var a=281.0575,r=0;r<Z.SBMAX_l-1;r++){var s=e.thm.l[r];if(s>0){var i=s*n,o=e.en.l[r];o>i&&(a+=o>1e10*i?U[r]*(10*t):U[r]*p.FAST_LOG10(o/i))}}return a}function K(e,t,n,a,r){var s,i;for(s=i=0;s<e.npart_l;++s){var o,l=0,_=0;for(o=0;o<e.numlines_l[s];++o,++i){var c=t[i];l+=c,_<c&&(_=c)}n[s]=l,a[s]=_,r[s]=l*e.rnumlines_l[s]}}function Q(e,t,n,a){var r=P.length-1,s=0,i=n[s]+n[s+1];for(i>0?((o=t[s])<t[s+1]&&(o=t[s+1]),(l=0|(i=20*(2*o-i)/(i*(e.numlines_l[s]+e.numlines_l[s+1]-1))))>r&&(l=r),a[s]=l):a[s]=0,s=1;s<e.npart_l-1;s++){var o,l;(i=n[s-1]+n[s]+n[s+1])>0?((o=t[s-1])<t[s]&&(o=t[s]),o<t[s+1]&&(o=t[s+1]),(l=0|(i=20*(3*o-i)/(i*(e.numlines_l[s-1]+e.numlines_l[s]+e.numlines_l[s+1]-1))))>r&&(l=r),a[s]=l):a[s]=0}(i=n[s-1]+n[s])>0?((o=t[s-1])<t[s]&&(o=t[s]),(l=0|(i=20*(2*o-i)/(i*(e.numlines_l[s-1]+e.numlines_l[s]-1))))>r&&(l=r),a[s]=l):a[s]=0}var J=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function $(e){var t,n,a,r;return t=e,n=(t*=t>=0?3:1.5)>=.5&&t<=2.5?8*((r=t-.5)*r-2*r):0,(a=15.811389+7.5*(t+=.474)-17.5*Math.sqrt(1+t*t))<=-60?0:(t=Math.exp((n+a)*M),t/=.6609193)}function ee(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function te(e,t,n,a,r,o,l,_,f,u,h,p){var d,m=i(Z.CBANDS+1),b=_/(p>15?1152:384),v=s(Z.HBLKSIZE);_/=f;var g=0,w=0;for(d=0;d<Z.CBANDS;d++){var k;for(T=ee(_*g),m[d]=_*g,k=g;ee(_*k)-T<c&&k<=f/2;k++);for(e[d]=k-g,w=d+1;g<k;)v[g++]=d;if(g>f/2){g=f/2,++d;break}}m[d]=_*g;for(var S=0;S<p;S++){var y,M,x,A,R;x=u[S],A=u[S+1],(y=0|Math.floor(.5+h*(x-.5)))<0&&(y=0),(M=0|Math.floor(.5+h*(A-.5)))>f/2&&(M=f/2),n[S]=(v[y]+v[M])/2,t[S]=v[M];var B=b*A;l[S]=(B-m[t[S]])/(m[t[S]+1]-m[t[S]]),l[S]<0?l[S]=0:l[S]>1&&(l[S]=1),R=ee(_*u[S]*h),R=Math.min(R,15.5)/15.5,o[S]=Math.pow(10,1.25*(1-Math.cos(Math.PI*R))-2.5)}g=0;for(var E=0;E<w;E++){var T,C,L=e[E];T=ee(_*g),C=ee(_*(g+L-1)),a[E]=.5*(T+C),T=ee(_*(g-.5)),C=ee(_*(g+L-.5)),r[E]=C-T,g+=L}return w}function ne(e,t,a,r,s,o){var _,c=l([Z.CBANDS,Z.CBANDS]),f=0;if(o)for(var u=0;u<t;u++)for(_=0;_<t;_++){var h=$(a[u]-a[_])*r[_];c[u][_]=h*s[u]}else n();for(u=0;u<t;u++){for(_=0;_<t&&!(c[u][_]>0);_++);for(e[u][0]=_,_=t-1;_>0&&!(c[u][_]>0);_--);e[u][1]=_,f+=e[u][1]-e[u][0]+1}var p=i(f),d=0;for(u=0;u<t;u++)for(_=e[u][0];_<=e[u][1];_++)p[d++]=c[u][_];return p}function ae(e){var t=ee(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function re(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_ns=function(e,t,o,_,c,f,h,p,d,m){var S,M,x,R,B,E,T,C,L,I=e.internal_flags,H=l([2,Z.BLKSIZE]),V=l([2,3,Z.BLKSIZE_s]),O=i(Z.CBANDS+1),q=i(Z.CBANDS+1),U=i(Z.CBANDS+2),W=s(2),$=s(2),ee=l([2,576]),te=s(Z.CBANDS+2),ne=s(Z.CBANDS+2);for(u.fill(ne,0),S=I.channels_out,e.mode==v.JOINT_STEREO&&(S=4),L=e.VBR==b.vbr_off?0==I.ResvMax?0:I.ResvSize/I.ResvMax*.5:e.VBR==b.vbr_rh||e.VBR==b.vbr_mtrh||e.VBR==b.vbr_mt?.6:1,M=0;M<I.channels_out;M++){var ae=t[M],re=o+576-350-y+192;for(R=0;R<576;R++){var se,ie;for(se=ae[re+R+10],ie=0,B=0;B<(y-1)/2-1;B+=2)se+=J[B]*(ae[re+R+B]+ae[re+R+y-B]),ie+=J[B+1]*(ae[re+R+B+1]+ae[re+R+y-B-1]);ee[M][R]=se+ie}c[_][M].en.assign(I.en[M]),c[_][M].thm.assign(I.thm[M]),S>2&&n()}for(M=0;M<S;M++){var oe,le=i(12),_e=[0,0,0,0],ce=i(12),fe=1,ue=i(Z.CBANDS),he=i(Z.CBANDS),pe=[0,0,0,0],de=i(Z.HBLKSIZE),me=l([3,Z.HBLKSIZE_s]);for(R=0;R<3;R++)le[R]=I.nsPsy.last_en_subshort[M][R+6],ce[R]=le[R]/I.nsPsy.last_en_subshort[M][R+4],_e[0]+=le[R];2==M&&n();var be=ee[1&M],ve=0;for(R=0;R<9;R++){for(var ge=ve+64,we=1;ve<ge;ve++)we<Math.abs(be[ve])&&(we=Math.abs(be[ve]));I.nsPsy.last_en_subshort[M][R]=le[R+3]=we,_e[1+R/3]+=we,we>le[R+3-2]?we/=le[R+3-2]:we=le[R+3-2]>10*we?le[R+3-2]/(10*we):0,ce[R+3]=we}for(e.analysis&&n(),oe=3==M?I.nsPsy.attackthre_s:I.nsPsy.attackthre,R=0;R<12;R++)0==pe[R/3]&&ce[R]>oe&&(pe[R/3]=R%3+1);for(R=1;R<4;R++)(_e[R-1]>_e[R]?_e[R-1]/_e[R]:_e[R]/_e[R-1])<1.7&&(pe[R]=0,1==R&&(pe[0]=0));for(0!=pe[0]&&0!=I.nsPsy.lastAttacks[M]&&(pe[0]=0),3!=I.nsPsy.lastAttacks[M]&&pe[0]+pe[1]+pe[2]+pe[3]==0||(fe=0,0!=pe[1]&&0!=pe[0]&&(pe[1]=0),0!=pe[2]&&0!=pe[1]&&(pe[2]=0),0!=pe[3]&&0!=pe[2]&&(pe[3]=0)),M<2?$[M]=fe:n(),d[M]=I.tot_ener[M],A(e,de,me,H,1&M,V,1&M,_,M,t,o),K(I,de,O,ue,he),Q(I,ue,he,te),C=0;C<3;C++){var ke,Se;for(F(e,me,q,U,M,C),j(I,q,U,M,C),T=0;T<Z.SBMAX_s;T++){if(Se=I.thm[M].s[T][C],Se*=g,pe[C]>=2||1==pe[C+1]){var ye=0!=C?C-1:2;we=X(I.thm[M].s[T][ye],Se,w*L),Se=Math.min(Se,we)}1==pe[C]?(ye=0!=C?C-1:2,we=X(I.thm[M].s[T][ye],Se,k*L),Se=Math.min(Se,we)):(0!=C&&3==pe[C-1]||0==C&&3==I.nsPsy.lastAttacks[M])&&(ye=2!=C?C+1:0,we=X(I.thm[M].s[T][ye],Se,k*L),Se=Math.min(Se,we)),ke=le[3*C+3]+le[3*C+4]+le[3*C+5],6*le[3*C+5]<ke&&(Se*=.5,6*le[3*C+4]<ke&&(Se*=.5)),I.thm[M].s[T][C]=Se}}for(I.nsPsy.lastAttacks[M]=pe[2],E=0,x=0;x<I.npart_l;x++){for(var Me=I.s3ind[x][0],xe=O[Me]*P[te[Me]],Ae=I.s3_ll[E++]*xe;++Me<=I.s3ind[x][1];)xe=O[Me]*P[te[Me]],Ae=N(Ae,I.s3_ll[E++]*xe,Me,Me-x,I,0);Ae*=.158489319246111,I.blocktype_old[1&M]==Z.SHORT_TYPE?U[x]=Ae:U[x]=X(Math.min(Ae,Math.min(a*I.nb_1[M][x],r*I.nb_2[M][x])),Ae,L),I.nb_2[M][x]=I.nb_1[M][x],I.nb_1[M][x]=Ae}for(;x<=Z.CBANDS;++x)O[x]=0,U[x]=0;D(I,O,U,M)}for(e.mode!=v.STEREO&&e.mode!=v.JOINT_STEREO||n(),e.mode==v.JOINT_STEREO&&n(),z(e,$,m,W),M=0;M<S;M++){var Re,Be,Ee,Te=0;M>1?n():(Re=h,Te=0,Be=m[M],Ee=c[_][M]),Be==Z.SHORT_TYPE?Re[Te+M]=Y(Ee,I.masking_lower):Re[Te+M]=G(Ee,I.masking_lower),e.analysis&&(I.pinfo.pe[_][M]=Re[Te+M])}return 0},this.psymodel_init=function(n){var a,r,s=n.internal_flags,o=!0,l=13,_=24,c=0,f=0,u=-8.25,p=-4.5,d=i(Z.CBANDS),v=i(Z.CBANDS),g=i(Z.CBANDS),w=n.out_samplerate;switch(n.experimentalZ){default:case 0:o=!0;break;case 1:o=n.VBR!=b.vbr_mtrh&&n.VBR!=b.vbr_mt;break;case 2:o=!1;break;case 3:l=8,c=-1.75,f=-.0125,u=-8.25,p=-2.25}for(s.ms_ener_ratio_old=.25,s.blocktype_old[0]=s.blocktype_old[1]=Z.NORM_TYPE,a=0;a<4;++a){for(var k=0;k<Z.CBANDS;++k)s.nb_1[a][k]=1e20,s.nb_2[a][k]=1e20,s.nb_s1[a][k]=s.nb_s2[a][k]=1;for(var y=0;y<Z.SBMAX_l;y++)s.en[a].l[y]=1e20,s.thm[a].l[y]=1e20;for(k=0;k<3;++k){for(y=0;y<Z.SBMAX_s;y++)s.en[a].s[y][k]=1e20,s.thm[a].s[y][k]=1e20;s.nsPsy.lastAttacks[a]=0}for(k=0;k<9;k++)s.nsPsy.last_en_subshort[a][k]=10}for(s.loudness_sq_save[0]=s.loudness_sq_save[1]=0,s.npart_l=te(s.numlines_l,s.bo_l,s.bm_l,d,v,s.mld_l,s.PSY.bo_l_weight,w,Z.BLKSIZE,s.scalefac_band.l,Z.BLKSIZE/1152,Z.SBMAX_l),a=0;a<s.npart_l;a++){var M=c;d[a]>=l&&(M=f*(d[a]-l)/(_-l)+c*(_-d[a])/(_-l)),g[a]=Math.pow(10,M/10),s.numlines_l[a]>0?s.rnumlines_l[a]=1/s.numlines_l[a]:s.rnumlines_l[a]=0}for(s.s3_ll=ne(s.s3ind,s.npart_l,d,v,g,o),k=0,a=0;a<s.npart_l;a++){R=m.MAX_VALUE;for(var x=0;x<s.numlines_l[a];x++,k++){var A=w*k/(1e3*Z.BLKSIZE);B=this.ATHformula(1e3*A,n)-20,B=Math.pow(10,.1*B),R>(B*=s.numlines_l[a])&&(R=B)}s.ATH.cb_l[a]=R,(R=20*d[a]/10-20)>6&&(R=100),R<-15&&(R=-15),R-=8,s.minval_l[a]=Math.pow(10,R/10)*s.numlines_l[a]}for(s.npart_s=te(s.numlines_s,s.bo_s,s.bm_s,d,v,s.mld_s,s.PSY.bo_s_weight,w,Z.BLKSIZE_s,s.scalefac_band.s,Z.BLKSIZE_s/384,Z.SBMAX_s),k=0,a=0;a<s.npart_s;a++){var R;for(M=u,d[a]>=l&&(M=p*(d[a]-l)/(_-l)+u*(_-d[a])/(_-l)),g[a]=Math.pow(10,M/10),R=m.MAX_VALUE,x=0;x<s.numlines_s[a];x++,k++){var B;A=w*k/(1e3*Z.BLKSIZE_s),B=this.ATHformula(1e3*A,n)-20,B=Math.pow(10,.1*B),R>(B*=s.numlines_s[a])&&(R=B)}s.ATH.cb_s[a]=R,R=7*d[a]/12-7,d[a]>12&&(R*=1+3.1*Math.log(1+R)),d[a]<12&&(R*=1+2.3*Math.log(1-R)),R<-15&&(R=-15),R-=8,s.minval_s[a]=Math.pow(10,R/10)*s.numlines_s[a]}s.s3_ss=ne(s.s3ind_s,s.npart_s,d,v,g,o),I(),e.init_fft(s),s.decay=Math.exp(-1*t/(h*w/192)),r=S,0!=(2&n.exp_nspsytune)&&(r=1),Math.abs(n.msfix)>0&&(r=n.msfix),n.msfix=r;for(var E=0;E<s.npart_l;E++)s.s3ind[E][1]>s.npart_l-1&&(s.s3ind[E][1]=s.npart_l-1);var T=576*s.mode_gr/w;if(s.ATH.decay=Math.pow(10,-1.2*T),s.ATH.adjust=.01,s.ATH.adjustLimit=1,-1!=n.ATHtype){var C=n.out_samplerate/Z.BLKSIZE,L=0;for(A=0,a=0;a<Z.BLKSIZE/2;++a)A+=C,s.ATH.eql_w[a]=1/Math.pow(10,this.ATHformula(A,n)/10),L+=s.ATH.eql_w[a];for(L=1/L,a=Z.BLKSIZE/2;--a>=0;)s.ATH.eql_w[a]*=L}for(E=k=0;E<s.npart_s;++E)for(a=0;a<s.numlines_s[E];++a)++k;for(E=k=0;E<s.npart_l;++E)for(a=0;a<s.numlines_l[E];++a)++k;for(k=0,a=0;a<s.npart_l;a++)A=w*(k+s.numlines_l[a]/2)/(1*Z.BLKSIZE),s.mld_cb_l[a]=ae(A),k+=s.numlines_l[a];for(;a<Z.CBANDS;++a)s.mld_cb_l[a]=1;for(k=0,a=0;a<s.npart_s;a++)A=w*(k+s.numlines_s[a]/2)/(1*Z.BLKSIZE_s),s.mld_cb_s[a]=ae(A),k+=s.numlines_s[a];for(;a<Z.CBANDS;++a)s.mld_cb_s[a]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=re(e,9);break;case 1:n=re(e,-1);break;case 2:default:n=re(e,0);break;case 3:n=re(e,1)+6;break;case 4:n=re(e,t.ATHcurve)}return n}}function Q(){var e=this,t=131072;Q.V9=410,Q.V8=420,Q.V7=430,Q.V6=440,Q.V5=450,Q.V4=460,Q.V3=470,Q.V2=480,Q.V1=490,Q.V0=500,Q.R3MIX=1e3,Q.STANDARD=1001,Q.EXTREME=1002,Q.INSANE=1003,Q.STANDARD_FAST=1004,Q.EXTREME_FAST=1005,Q.MEDIUM=1006,Q.MEDIUM_FAST=1007;var a,r,s,o,l,f=16384+t;Q.LAME_MAXMP3BUFFER=f;var u,h,p=new K;function m(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(Z.SBMAX_l),this.bo_s_weight=i(Z.SBMAX_s)}function g(){this.lowerlimit=0}function w(e,t){this.lowpass=t}this.enc=new Z,this.setModules=function(e,t,n,i,_,c,f,d,m){a=e,r=t,s=n,o=i,l=_,u=c,h=d,this.enc.setModules(r,p,o,u)};var S=4294479419;function y(e){var t;return e.class_id=S,t=e.internal_flags=new G,e.mode=v.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=b.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=Z.ENCDELAY+Z.POSTDELAY,e.encoder_padding=0,t.mf_size=Z.ENCDELAY-Z.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}function M(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function A(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0,0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function B(e,t,n){n<16e3&&(t=2);for(var a=R.bitrate_table[t][1],r=2;r<=14;r++)R.bitrate_table[t][r]>0&&Math.abs(R.bitrate_table[t][r]-e)<Math.abs(a-e)&&(a=R.bitrate_table[t][r]);return a}function E(e,t,n){n<16e3&&(t=2);for(var a=0;a<=14;a++)if(R.bitrate_table[t][a]>0&&R.bitrate_table[t][a]==e)return a;return-1}function T(t,n){var a=[new w(8,2e3),new w(16,3700),new w(24,3900),new w(32,5500),new w(40,7e3),new w(48,7500),new w(56,1e4),new w(64,11e3),new w(80,13500),new w(96,15100),new w(112,15600),new w(128,17e3),new w(160,17500),new w(192,18600),new w(224,19400),new w(256,19700),new w(320,20500)],r=e.nearestBitrateFullIndex(n);t.lowerlimit=a[r].lowpass}function H(e){var t=e.internal_flags,a=32;if(t.lowpass1>0){for(var r=999,s=0;s<=31;s++)(l=s/31)>=t.lowpass2&&(a=Math.min(a,s)),t.lowpass1<l&&l<t.lowpass2&&(r=Math.min(r,s));t.lowpass1=999==r?(a-.75)/31:(r-.75)/31,t.lowpass2=a/31}for(t.highpass2>0&&n(),t.highpass2>0&&n(),s=0;s<32;s++){var i,o,l=s/31;t.highpass2>t.highpass1?n():i=1,o=t.lowpass2>t.lowpass1?M((l-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[s]=i*o}}function V(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}function O(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&h.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=_([16,5]),t.bitrate_blockType_Hist=_([16,6]),t.PeakSample=0,e.bWriteVbrTag&&u.InitVbrTag(e)}function N(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=i(t),e.in_buffer_1=i(t),e.in_buffer_nsamples=t)}function j(e){var t=Z.BLKSIZE+e.framesize-Z.FFTOFFSET;return t=Math.max(t,512+e.framesize-32)}function D(e,t,s,i,o,l,_){var c,f,u,h,p,d=e.internal_flags,m=0,b=[null,null],v=[null,null];if(d.Class_ID!=S)return-3;if(0==i)return 0;if((p=r.copy_buffer(d,o,l,_,0))<0)return p;if(l+=p,m+=p,v[0]=t,v[1]=s,x.NEQ(e.scale,0)&&x.NEQ(e.scale,1))for(f=0;f<i;++f)v[0][f]*=e.scale,2==d.channels_out&&(v[1][f]*=e.scale);if(x.NEQ(e.scale_left,0)&&x.NEQ(e.scale_left,1))for(f=0;f<i;++f)v[0][f]*=e.scale_left;if(x.NEQ(e.scale_right,0)&&x.NEQ(e.scale_right,1))for(f=0;f<i;++f)v[1][f]*=e.scale_right;2==e.num_channels&&1==d.channels_out&&n(),h=j(e),b[0]=d.mfbuf[0],b[1]=d.mfbuf[1];for(var g=0;i>0;){var w=[null,null],y=0,M=0;w[0]=v[0],w[1]=v[1];var A=new z;if(X(e,b,w,g,i,A),y=A.n_in,M=A.n_out,d.findReplayGain&&!d.decode_on_the_fly&&a.AnalyzeSamples(d.rgdata,b[0],d.mf_size,b[1],d.mf_size,M,d.channels_out)==k.GAIN_ANALYSIS_ERROR)return-6;if(i-=y,g+=y,d.channels_out,d.mf_size+=M,d.mf_samples_to_encode<1&&n(),d.mf_samples_to_encode+=M,d.mf_size>=h){var R=_-m;if(0==_&&(R=0),(c=F(e,b[0],b[1],o,l,R))<0)return c;for(l+=c,m+=c,d.mf_size-=e.framesize,d.mf_samples_to_encode-=e.framesize,u=0;u<d.channels_out;u++)for(f=0;f<d.mf_size;f++)b[u][f]=b[u][f+e.framesize]}}return m}function F(t,n,a,r,s,i){var o=e.enc.lame_encode_mp3_frame(t,n,a,r,s,i);return t.frameNum++,o}function z(){this.n_in=0,this.n_out=0}function X(e,t,a,r,s,i){var o=e.internal_flags;if(o.resample_ratio<.9999||o.resample_ratio>1.0001)n();else{i.n_out=Math.min(e.framesize,s),i.n_in=i.n_out;for(var l=0;l<i.n_out;++l)t[0][o.mf_size+l]=a[0][r+l],2==o.channels_out&&(t[1][o.mf_size+l]=a[1][r+l])}}this.lame_init=function(){var e=new L;return 0!=y(e)?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,a=0,r=0,s=0;s=t[16],r=16,a=t[16],n=16;for(var i=0;i<16;i++)if(Math.max(e,t[i+1])!=e){s=t[i+1],r=i+1,a=t[i],n=i;break}return s-e>e-a?n:r},this.lame_init_params=function(e){var t=e.internal_flags;if(t.Class_ID=0,null==t.ATH&&(t.ATH=new C),null==t.PSY&&(t.PSY=new m),null==t.rgdata&&(t.rgdata=new I),t.channels_in=e.num_channels,1==t.channels_in&&(e.mode=v.MONO),t.channels_out=e.mode==v.MONO?1:2,t.mode_ext=Z.MPG_MD_MS_LR,e.mode==v.MONO&&(e.force_ms=!1),e.VBR==b.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==b.vbr_off||e.VBR==b.vbr_mtrh||e.VBR==b.vbr_mt||(e.free_format=!1),e.VBR==b.vbr_off&&0==e.brate&&n(),e.VBR==b.vbr_off&&e.compression_ratio>0&&n(),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var a=16e3;switch(e.VBR){case b.vbr_off:T(i=new g,e.brate),a=i.lowerlimit;break;case b.vbr_abr:var i;T(i=new g,e.VBR_mean_bitrate_kbps),a=i.lowerlimit;break;case b.vbr_rh:n();default:n()}e.mode!=v.MONO||e.VBR!=b.vbr_off&&e.VBR!=b.vbr_abr||(a*=1.5),e.lowpassfreq=0|a}switch(0==e.out_samplerate&&n(),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==b.vbr_off&&(e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.brate)),e.VBR==b.vbr_abr&&n(),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,t.findPeakSample=!1),t.findReplayGain=e.findReplayGain,t.decode_on_the_fly=e.decode_on_the_fly,t.decode_on_the_fly&&(t.findPeakSample=!0),t.findReplayGain&&n(),t.decode_on_the_fly&&!e.decode_only&&n(),t.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*t.mode_gr,e.encoder_delay=Z.ENCDELAY,t.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case b.vbr_mt:case b.vbr_rh:case b.vbr_mtrh:var _=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];e.compression_ratio=_[e.VBR_q];break;case b.vbr_abr:e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.brate)}e.mode==v.NOT_SET&&(e.mode=v.JOINT_STEREO),e.highpassfreq>0?n():(t.highpass1=0,t.highpass2=0),e.lowpassfreq>0?(t.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?n():t.lowpass1=2*e.lowpassfreq,t.lowpass1/=e.out_samplerate,t.lowpass2/=e.out_samplerate):n(),H(e),t.samplerate_index=A(e.out_samplerate,e),t.samplerate_index<0&&n(),e.VBR==b.vbr_off?e.free_format?t.bitrate_index=0:(e.brate=B(e.brate,e.version,e.out_samplerate),t.bitrate_index=E(e.brate,e.version,e.out_samplerate),t.bitrate_index<=0&&n()):t.bitrate_index=1,e.analysis&&(e.bWriteVbrTag=!1),null!=t.pinfo&&(e.bWriteVbrTag=!1),r.init_bit_stream_w(t);for(var c,f=t.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),u=0;u<Z.SBMAX_l+1;u++)t.scalefac_band.l[u]=o.sfBandIndex[f].l[u];for(u=0;u<Z.PSFB21+1;u++){var h=(t.scalefac_band.l[22]-t.scalefac_band.l[21])/Z.PSFB21,w=t.scalefac_band.l[21]+u*h;t.scalefac_band.psfb21[u]=w}for(t.scalefac_band.psfb21[Z.PSFB21]=576,u=0;u<Z.SBMAX_s+1;u++)t.scalefac_band.s[u]=o.sfBandIndex[f].s[u];for(u=0;u<Z.PSFB12+1;u++)h=(t.scalefac_band.s[13]-t.scalefac_band.s[12])/Z.PSFB12,w=t.scalefac_band.s[12]+u*h,t.scalefac_band.psfb12[u]=w;for(t.scalefac_band.psfb12[Z.PSFB12]=192,1==e.version?t.sideinfo_len=1==t.channels_out?21:36:t.sideinfo_len=1==t.channels_out?13:21,e.error_protection&&(t.sideinfo_len+=2),O(e),t.Class_ID=S,c=0;c<19;c++)t.nsPsy.pefirbuf[c]=700*t.mode_gr*t.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),e.VBR){case b.vbr_mt:e.VBR=b.vbr_mtrh;case b.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),s.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),t.PSY.mask_adjust=e.maskingadjust,t.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?t.sfb21_extra=!1:t.sfb21_extra=e.out_samplerate>44e3,t.iteration_loop=new VBRNewIterationLoop(l);break;case b.vbr_rh:s.apply_preset(e,500-10*e.VBR_q,0),t.PSY.mask_adjust=e.maskingadjust,t.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?t.sfb21_extra=!1:t.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),t.iteration_loop=new VBROldIterationLoop(l);break;default:var k;t.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(k=e.VBR)==b.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),s.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=k,t.PSY.mask_adjust=e.maskingadjust,t.PSY.mask_adjust_short=e.maskingadjust_short,k==b.vbr_off?t.iteration_loop=new P(l):n()}return e.VBR!=b.vbr_off&&n(),e.tune&&n(),V(e),e.athaa_type<0?t.ATH.useAdjust=3:t.ATH.useAdjust=e.athaa_type,t.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=d.short_block_allowed),e.short_blocks!=d.short_block_allowed||e.mode!=v.JOINT_STEREO&&e.mode!=v.STEREO||(e.short_blocks=d.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=K.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=K.NSATTACKTHRE_S),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),t.slot_lag=t.frac_SpF=0,e.VBR==b.vbr_off&&(t.slot_lag=t.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),o.iteration_init(e),p.psymodel_init(e),0},this.lame_encode_flush=function(e,t,a,s){var i,o,l,_,f=e.internal_flags,u=c([2,1152]),h=0,p=f.mf_samples_to_encode-Z.POSTDELAY,d=j(e);if(f.mf_samples_to_encode<1)return 0;for(i=0,e.in_samplerate!=e.out_samplerate&&n(),(l=e.framesize-p%e.framesize)<576&&(l+=e.framesize),e.encoder_padding=l,_=(p+l)/e.framesize;_>0&&h>=0;){var m=d-f.mf_size,b=e.frameNum;m*=e.in_samplerate,(m/=e.out_samplerate)>1152&&(m=1152),m<1&&(m=1),o=s-i,0==s&&(o=0),a+=h=this.lame_encode_buffer(e,u[0],u[1],m,t,a,o),i+=h,_-=b!=e.frameNum?1:0}return f.mf_samples_to_encode=0,h<0?h:(o=s-i,0==s&&(o=0),r.flush_bitstream(e),(h=r.copy_buffer(f,t,a,o,1))<0?h:(a+=h,o=s-(i+=h),0==s&&(o=0),e.write_id3tag_automatic&&n(),i))},this.lame_encode_buffer=function(e,t,n,a,r,s,i){var o=e.internal_flags,l=[null,null];if(o.Class_ID!=S)return-3;if(0==a)return 0;N(o,a),l[0]=o.in_buffer_0,l[1]=o.in_buffer_1;for(var _=0;_<a;_++)l[0][_]=t[_],o.channels_in>1&&(l[1][_]=n[_]);return D(e,l[0],l[1],a,r,s,i)}}function J(){this.setModules=function(e,t){}}function $(){this.setModules=function(e,t,n){}}function ee(){}function te(){this.setModules=function(e,t){}}function ne(e,t,r){1!=e&&n("fix cc: only supports mono");var s=new Q,i=new J,o=new k,l=new x,_=new S,c=new V,f=new D,u=new M,h=new g,p=new te,d=new y,m=new w,b=new $,A=new ee;s.setModules(o,l,_,c,f,u,h,p,A),l.setModules(o,A,h,u),p.setModules(l,h),_.setModules(s),f.setModules(l,d,c,m),c.setModules(m,d,s.enc.psy),d.setModules(l),m.setModules(c),u.setModules(s,l,h),i.setModules(b,A),b.setModules(h,p,_);var R=s.lame_init();R.num_channels=e,R.in_samplerate=t,R.out_samplerate=t,R.brate=r,R.mode=v.STEREO,R.quality=3,R.bWriteVbrTag=!1,R.disable_reservoir=!0,R.write_id3tag_automatic=!1,s.lame_init_params(R);var B=1152,E=0|1.25*B+7200,T=a(E);this.encodeBuffer=function(t,n){1==e&&(n=t),t.length>B&&(B=t.length,T=a(E=0|1.25*B+7200));var r=s.lame_encode_buffer(R,t,n,t.length,T,0,E);return new Int8Array(T.subarray(0,r))},this.flush=function(){var e=s.lame_encode_flush(R,T,0,E);return new Int8Array(T.subarray(0,e))}}j.SFBMAX=3*Z.SBMAX_s,Z.ENCDELAY=576,Z.POSTDELAY=1152,Z.MDCTDELAY=48,Z.FFTOFFSET=224+Z.MDCTDELAY,Z.DECDELAY=528,Z.SBLIMIT=32,Z.CBANDS=64,Z.SBPSY_l=21,Z.SBPSY_s=12,Z.SBMAX_l=22,Z.SBMAX_s=13,Z.PSFB21=6,Z.PSFB12=6,Z.BLKSIZE=1024,Z.HBLKSIZE=Z.BLKSIZE/2+1,Z.BLKSIZE_s=256,Z.HBLKSIZE_s=Z.BLKSIZE_s/2+1,Z.NORM_TYPE=0,Z.START_TYPE=1,Z.SHORT_TYPE=2,Z.STOP_TYPE=3,Z.MPG_MD_LR_LR=0,Z.MPG_MD_LR_I=1,Z.MPG_MD_MS_LR=2,Z.MPG_MD_MS_I=3,Z.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],G.MFSIZE=3456+Z.ENCDELAY-Z.MDCTDELAY,G.MAX_HEADER_BUF=256,G.MAX_BITS_PER_CHANNEL=4095,G.MAX_BITS_PER_GRANULE=7680,G.BPC=320,j.SFBMAX=3*Z.SBMAX_s,t.Mp3Encoder=ne}t(),e.lamejs=t}(("object"==typeof window&&window.document?window:Object).Recorder)},91296:function(){!function(e){var t="object"==typeof window&&!!window.document,n=(t?window:Object).Recorder,a=n.i18n;!function(e,t,n,a){"use strict";var r="48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000",s="8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 192, 224, 256, 320";e.prototype.enc_mp3={stable:!0,takeEC:"full",getTestMsg:function(){return n("Zm7L::\u91c7\u6837\u7387\u8303\u56f4\uff1a{1}\uff1b\u6bd4\u7279\u7387\u8303\u56f4\uff1a{2}\uff08\u4e0d\u540c\u6bd4\u7279\u7387\u652f\u6301\u7684\u91c7\u6837\u7387\u8303\u56f4\u4e0d\u540c\uff0c\u5c0f\u4e8e32kbps\u65f6\u91c7\u6837\u7387\u9700\u5c0f\u4e8e32000\uff09",0,r,s)}};var i,o=function(t){var a=t.bitRate,i=t.sampleRate,o=i;if(-1==(" "+s+",").indexOf(" "+a+",")&&e.CLog(n("eGB9::{1}\u4e0d\u5728mp3\u652f\u6301\u7684\u53d6\u503c\u8303\u56f4\uff1a{2}",0,"bitRate="+a,s),3),-1==(" "+r+",").indexOf(" "+i+",")){for(var l=r.split(", "),_=[],c=0;c<l.length;c++)_.push({v:+l[c],s:Math.abs(l[c]-i)});_.sort((function(e,t){return e.s-t.s})),o=_[0].v,t.sampleRate=o,e.CLog(n("zLTa::sampleRate\u5df2\u66f4\u65b0\u4e3a{1}\uff0c\u56e0\u4e3a{2}\u4e0d\u5728mp3\u652f\u6301\u7684\u53d6\u503c\u8303\u56f4\uff1a{3}",0,o,i,r),3)}},l=function(){return n.G("NeedImport-2",["mp3.js","src/engine/mp3-engine.js"])},_=a&&"function"==typeof Worker;e.prototype.mp3=function(t,n,a){var r=this,s=r.set,i=t.length;if(e.lamejs){if(_){var c=r.mp3_start(s);if(c){if(c.isW)return r.mp3_encode(c,t),void r.mp3_complete(c,n,a,1);r.mp3_stop(c)}}o(s);var f=new e.lamejs.Mp3Encoder(1,s.sampleRate,s.bitRate),p=57600,d=new Int8Array(5e5),m=0,b=0,v=0;(function e(){try{if(b<i)var r=f.encodeBuffer(t.subarray(b,b+p));else{v=1;r=f.flush()}}catch(g){if(console.error(g),!v)try{f.flush()}catch(w){console.error(w)}return void a("MP3 Encoder: "+g.message)}var o=r.length;if(o>0){if(m+o>d.length){var l=new Int8Array(d.length+Math.max(5e5,o));l.set(d.subarray(0,m)),d=l}d.set(r,m),m+=o}if(b<i)b+=p,setTimeout(e);else{var _=[d.buffer.slice(0,m)],c=u.fn(_,m,i,s.sampleRate);h(c,s),n(_[0]||new ArrayBuffer(0),"audio/mp3")}})()}else a(l())},e.BindDestroy("mp3Worker",(function(){i&&(e.CLog("mp3Worker Destroy"),i.terminate(),i=null)})),e.prototype.mp3_envCheck=function(t,a){var r="";return a.takeoffEncodeChunk&&(f()||(r=n("yhUs::\u5f53\u524d\u6d4f\u89c8\u5668\u7248\u672c\u592a\u4f4e\uff0c\u65e0\u6cd5\u5b9e\u65f6\u5904\u7406"))),r||e.lamejs||(r=l()),r},e.prototype.mp3_start=function(e){return f(e)};var c={id:0},f=function t(a,r){var s,l=function(e){var t=e.data,n=s.wkScope.wk_ctxs,a=s.wkScope.wk_lame,r=s.wkScope.wk_mp3TrimFix,i=n[t.id];if("init"==t.action)n[t.id]={sampleRate:t.sampleRate,bitRate:t.bitRate,takeoff:t.takeoff,pcmSize:0,memory:new Int8Array(5e5),mOffset:0,encObj:new a.Mp3Encoder(1,t.sampleRate,t.bitRate)};else if(!i)return;var o=function(e){var t=e.length;if(i.mOffset+t>i.memory.length){var n=new Int8Array(i.memory.length+Math.max(5e5,t));n.set(i.memory.subarray(0,i.mOffset)),i.memory=n}i.memory.set(e,i.mOffset),i.mOffset+=t};switch(t.action){case"stop":if(!i.isCp)try{i.encObj.flush()}catch(e){console.error(e)}i.encObj=null,delete n[t.id];break;case"encode":if(i.isCp)break;i.pcmSize+=t.pcm.length;try{var l=i.encObj.encodeBuffer(t.pcm)}catch(e){i.err=e,console.error(e)}l&&l.length>0&&(i.takeoff?p.onmessage({action:"takeoff",id:t.id,chunk:l}):o(l));break;case"complete":i.isCp=1;try{l=i.encObj.flush()}catch(e){i.err=e,console.error(e)}if(l&&l.length>0&&(i.takeoff?p.onmessage({action:"takeoff",id:t.id,chunk:l}):o(l)),i.err){p.onmessage({action:t.action,id:t.id,err:"MP3 Encoder: "+i.err.message});break}var _=[i.memory.buffer.slice(0,i.mOffset)],c=r.fn(_,i.mOffset,i.pcmSize,i.sampleRate);p.onmessage({action:t.action,id:t.id,blob:_[0]||new ArrayBuffer(0),meta:c})}},f=function(e){p.onmessage=function(t){var n=t;e&&(n=t.data);var a=c[n.id];a&&("takeoff"==n.action?a.set.takeoffEncodeChunk(new Uint8Array(n.chunk.buffer)):(a.call&&a.call(n),a.call=null))}},h=function(){var e={worker:p,set:a};return a?(e.id=++c.id,c[e.id]=e,o(a),p.postMessage({action:"init",id:e.id,sampleRate:a.sampleRate,bitRate:a.bitRate,takeoff:!!a.takeoffEncodeChunk,x:new Int16Array(5)})):p.postMessage({x:new Int16Array(5)}),e},p=i;if(r||!_)return e.CLog(n("k9PT::\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301Web Worker\uff0cmp3\u5b9e\u65f6\u7f16\u7801\u5668\u8fd0\u884c\u5728\u4e3b\u7ebf\u7a0b\u4e2d"),3),p={postMessage:function(e){l({data:e})}},s={wkScope:{wk_ctxs:{},wk_lame:e.lamejs,wk_mp3TrimFix:u}},f(),h();try{if(!p){var d=(l+"").replace(/[\w\$]+\.onmessage/g,"self.postMessage"),m=");wk_lame();self.onmessage="+(d=d.replace(/[\w\$]+\.wkScope/g,"wkScope"));m+=";var wkScope={ wk_ctxs:{},wk_lame:wk_lame",m+=",wk_mp3TrimFix:{rm:"+u.rm+",fn:"+u.fn+"} }";var b=e.lamejs.toString(),v=(window.URL||webkitURL).createObjectURL(new Blob(["var wk_lame=(",b,m],{type:"text/javascript"}));p=new Worker(v),setTimeout((function(){(window.URL||webkitURL).revokeObjectURL(v)}),1e4),f(1)}var g=h();return g.isW=1,i=p,g}catch(w){return p&&p.terminate(),console.error(w),t(a,1)}};e.prototype.mp3_stop=function(t){if(t&&t.worker){t.worker.postMessage({action:"stop",id:t.id}),t.worker=null,delete c[t.id];var a=-1;for(var r in c)a++;a&&e.CLog(n("fT6M::mp3 worker\u5269{1}\u4e2a\u672astop",0,a),3)}},e.prototype.mp3_encode=function(e,t){e&&e.worker&&e.worker.postMessage({action:"encode",id:e.id,pcm:t})},e.prototype.mp3_complete=function(e,t,a,r){var s=this;e&&e.worker?(e.call=function(n){r&&s.mp3_stop(e),n.err?a(n.err):(h(n.meta,e.set),t(n.blob,"audio/mp3"))},e.worker.postMessage({action:"complete",id:e.id})):a(n("mPxH::mp3\u7f16\u7801\u5668\u672astart"))},e.mp3ReadMeta=function(e,t){var n="undefined"!=typeof window&&window.parseInt||"undefined"!=typeof self&&self.parseInt||parseInt,a=new Uint8Array(e[0]||[]);if(a.length<4)return null;var r=function(e,t){return("0000000"+((t||a)[e]||0).toString(2)).substr(-8)},s=r(0)+r(1),i=r(2)+r(3);if(!/^1{11}/.test(s))return null;var o={"00":2.5,10:2,11:1}[s.substr(11,2)],l={"01":3}[s.substr(13,2)],_={1:[44100,48e3,32e3],2:[22050,24e3,16e3],2.5:[11025,12e3,8e3]}[o];_&&(_=_[n(i.substr(4,2),2)]);var c=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]][1==o?1:0][n(i.substr(0,4),2)];if(!o||!l||!c||!_)return null;for(var f=Math.round(8*t/c),u=1==l?384:2==l||1==o?1152:576,h=u/_*1e3,p=Math.floor(u*c/8/_*1e3),d=0,m=0,b=0;b<e.length;b++){var v=e[b];if((m+=v.byteLength)>=p+3){var g=new Uint8Array(v);d="1"==r(v.byteLength-(m-(p+3)+1),g).charAt(6);break}}return d&&p++,{version:o,layer:l,sampleRate:_,bitRate:c,duration:f,size:t,hasPadding:d,frameSize:p,frameDurationFloat:h}};var u={rm:e.mp3ReadMeta,fn:function(e,t,n,a){var r=this.rm(e,t);if(!r)return{err:"mp3 unknown format"};var s=Math.round(n/a*1e3),i=Math.floor((r.duration-s)/r.frameDurationFloat);if(i>0){var o=i*r.frameSize-(r.hasPadding?1:0);t-=o;for(var l=0,_=[],c=0;c<e.length;c++){var f=e[c];if(o<=0)break;o>=f.byteLength?(o-=f.byteLength,_.push(f),e.splice(c,1),c--):(e[c]=f.slice(o),l=f,o=0)}if(!this.rm(e,t)){l&&(e[0]=l);for(c=0;c<_.length;c++)e.splice(c,0,_[c]);r.err="mp3 fix error: \u5df2\u8fd8\u539f\uff0c\u9519\u8bef\u539f\u56e0\u4e0d\u660e"}var u=r.trimFix={};u.remove=i,u.removeDuration=Math.round(i*r.frameDurationFloat),u.duration=Math.round(8*t/r.bitRate)}return r}},h=function(t,a){var r="MP3 Info: ";(t.sampleRate&&t.sampleRate!=a.sampleRate||t.bitRate&&t.bitRate!=a.bitRate)&&(e.CLog(r+n("uY9i::\u548c\u8bbe\u7f6e\u7684\u4e0d\u5339\u914d{1}\uff0c\u5df2\u66f4\u65b0\u6210{2}",0,"set:"+a.bitRate+"kbps "+a.sampleRate+"hz","set:"+t.bitRate+"kbps "+t.sampleRate+"hz"),3,a),a.sampleRate=t.sampleRate,a.bitRate=t.bitRate);var s=t.trimFix;s?(r+=n("iMSm::Fix\u79fb\u9664{1}\u5e27",0,s.remove)+" "+s.removeDuration+"ms -> "+s.duration+"ms",s.remove>2&&(t.err=(t.err?t.err+", ":"")+n("b9zm::\u79fb\u9664\u5e27\u6570\u8fc7\u591a"))):r+=(t.duration||"-")+"ms",t.err?e.CLog(r,1,t.err,t):e.CLog(r,t)}}(n,0,a.$T,t)}()},43753:function(e,t,n){var a;!function(r){var s="object"==typeof window&&!!window.document,i=s?window:Object;!function(e,t){"use strict";var n=function(){},a=function(e){return"number"==typeof e},r=function(e){return new T(e)},s=r.LM="2024-04-09 19:15",i="https://github.com/xiangyuecn/Recorder",o="Recorder",l="getUserMedia",_="srcSampleRate",c="sampleRate",f="bitRate",u="catch",h=e[o];if(h&&h.LM==s)return void h.CLog(h.i18n.$T("K8zP::\u91cd\u590d\u5bfc\u5165{1}",0,o),3);r.IsOpen=function(){var e=r.Stream;if(e){var t=(e.getTracks&&e.getTracks()||e.audioTracks||[])[0];if(t){var n=t.readyState;return"live"==n||n==t.LIVE}}return!1},r.BufferSize=4096,r.Destroy=function(){for(var e in R(o+" Destroy"),x(),p)p[e]()};var p={};r.BindDestroy=function(e,t){p[e]=t},r.Support=function(){if(!t)return!1;var e=navigator.mediaDevices||{};return e[l]||(e=navigator)[l]||(e[l]=e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia),!!e[l]&&(r.Scope=e,!!r.GetContext())},r.GetContext=function(e){if(!t)return null;var n=window.AudioContext;if(n||(n=window.webkitAudioContext),!n)return null;var a=r.Ctx;if(a&&"closed"!=a.state||(a=r.Ctx=new n,r.NewCtxs=r.NewCtxs||[],r.BindDestroy("Ctx",(function(){var e=r.Ctx;e&&e.close&&(d(e),r.Ctx=0);var t=r.NewCtxs;r.NewCtxs=[];for(var n=0;n<t.length;n++)d(t[n])}))),e&&a.close)try{a=new n,r.NewCtxs.push(a)}catch(s){R("GetContext tryNew Error",1,s)}return a},r.CloseNewCtx=function(e){if(e&&e!=r.Ctx){d(e);for(var t=r.NewCtxs||[],n=t.length,a=0;a<t.length;a++)if(t[a]==e){t.splice(a,1);break}R(O("mSxV::\u5269{1}\u4e2aGetContext\u672aclose",0,n+"-1="+t.length),t.length?3:0)}};var d=function(e){if(e&&e.close){e._isC=1;try{e.close()}catch(t){R("ctx close err",1,t)}}},m=r.ResumeCtx=function(e,t,n,a){var r=0,s=0,i=0,o=0,l="EventListener",_="ResumeCtx ",c=function(t,_){s&&f(),r||(r=1,t&&a(t,o),_&&n(o)),_&&(!e._LsSC&&e["add"+l]&&e["add"+l]("statechange",h),e._LsSC=1,i=1)},f=function(e){if(!e||!s){s=e?1:0;for(var t=["focus","mousedown","mouseup","touchstart","touchend"],n=0;n<t.length;n++)window[(e?"add":"remove")+l](t[n],h,!0)}},h=function(){var n=e.state,a=b(n);if(!r&&!t(a?++o:o))return c();a?(i&&R(_+"sc "+n,3),f(1),e.resume().then((function(){i&&R(_+"sc "+e.state),c(0,1)}))[u]((function(t){R(_+"error",1,t),b(e.state)||c(t.message||"error")}))):"closed"==n?(i&&!e._isC&&R(_+"sc "+n,1),c("ctx closed")):c(0,1)};h()},b=r.CtxSpEnd=function(e){return"suspended"==e||"interrupted"==e},v=function(e){var t=e.state,n="ctx.state="+t;return b(t)&&(n+=O("nMIy::\uff08\u6ce8\u610f\uff1actx\u4e0d\u662frunning\u72b6\u6001\uff0crec.open\u548cstart\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u5728\u7528\u6237\u64cd\u4f5c(\u89e6\u6478\u3001\u70b9\u51fb\u7b49)\u65f6\u8fdb\u884c\u8c03\u7528\uff0c\u5426\u5219\u5c06\u5728rec.start\u65f6\u5c1d\u8bd5\u8fdb\u884cctx.resume\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u517c\u5bb9\u6027\u95ee\u9898(\u4ec5iOS)\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u4e2drunningContext\u914d\u7f6e\uff09")),n},g="ConnectEnableWebM";r[g]=!0;var w="ConnectEnableWorklet";r[w]=!1;var k=function(e,t){var n=e.BufferSize||r.BufferSize,a=e.Stream,s=a._RC||a._c||r.GetContext(!0);a._c=s;var i,l,_,f=function(e){var t=a._m=s.createMediaStreamSource(a),n=s.destination,r="createMediaStreamDestination";s[r]&&(n=a._d=s[r]()),t.connect(e),e.connect(n)},h="",p=a._call,d=function(e){for(var t in p){for(var n=e.length,a=new Int16Array(n),r=0,s=0;s<n;s++){var i=Math.max(-1,Math.min(1,e[s]));i=i<0?32768*i:32767*i,a[s]=i,r+=Math.abs(i)}for(var o in p)p[o](a,r);return}},b="ScriptProcessor",v="audioWorklet",k=o+" "+v,S="RecProc",x="MediaRecorder",A=x+".WebM.PCM",B=s.createScriptProcessor||s.createJavaScriptNode,E=O("ZGlf::\u3002\u7531\u4e8e{1}\u5185\u90e81\u79d2375\u6b21\u56de\u8c03\uff0c\u5728\u79fb\u52a8\u7aef\u53ef\u80fd\u4f1a\u6709\u6027\u80fd\u95ee\u9898\u5bfc\u81f4\u56de\u8c03\u4e22\u5931\u5f55\u97f3\u53d8\u77ed\uff0cPC\u7aef\u65e0\u5f71\u54cd\uff0c\u6682\u4e0d\u5efa\u8bae\u5f00\u542f{1}\u3002",0,v),T=function(){l=a.isWorklet=!1,y(a),R(O("7TU0::Connect\u91c7\u7528\u8001\u7684{1}\uff0c",0,b)+V.get(r[w]?O("JwCL::\u4f46\u5df2\u8bbe\u7f6e{1}\u5c1d\u8bd5\u542f\u7528{2}",2):O("VGjB::\u53ef\u8bbe\u7f6e{1}\u5c1d\u8bd5\u542f\u7528{2}",2),[o+"."+w+"=true",v])+h+E,3);var e=a._p=B.call(s,n,1,1);f(e),e.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);d(t)}},L=function(){i=a.isWebM=!1,M(a),l=a.isWorklet=!B||r[w];var e=window.AudioWorkletNode;if(l&&s[v]&&e){var t=function(){var e=function(e){return e.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,k)},t="class "+S+" extends AudioWorkletProcessor{";return t+="constructor "+e((function(e){DEL_super(e);var t=this,n=e.processorOptions.bufferSize;t.bufferSize=n,t.buffer=new Float32Array(2*n),t.pos=0,t.port.onmessage=function(e){e.data.kill&&(t.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",e)})),t+="process "+e((function(e,t,n){var a=this,r=a.bufferSize,s=a.buffer,i=a.pos;if((e=(e[0]||[])[0]||[]).length){s.set(e,i);var o=~~((i+=e.length)/r)*r;if(o){this.port.postMessage({val:s.slice(0,o)});var l=s.subarray(o,i);(s=new Float32Array(2*r)).set(l),i=l.length,a.buffer=s}a.pos=i}return!a.kill})),t=(t+='}try{registerProcessor("'+S+'", '+S+')}catch(e){$C.error("'+k+' Reg Error",e)}').replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(t)))},c=function(){return l&&a._na},p=a._na=function(){""!==_&&(clearTimeout(_),_=setTimeout((function(){_=0,c()&&(R(O("MxX1::{1}\u672a\u8fd4\u56de\u4efb\u4f55\u97f3\u9891\uff0c\u6062\u590d\u4f7f\u7528{2}",0,v,b),3),B&&T())}),500))},g=function(){if(c()){var t=a._n=new e(s,S,{processorOptions:{bufferSize:n}});f(t),t.port.onmessage=function(e){_&&(clearTimeout(_),_=""),c()?d(e.data.val):l||R(O("XUap::{1}\u591a\u4f59\u56de\u8c03",0,v),3)},R(O("yOta::Connect\u91c7\u7528{1}\uff0c\u8bbe\u7f6e{2}\u53ef\u6062\u590d\u8001\u5f0f{3}",0,v,o+"."+w+"=false",b)+h+E,3)}},y=function(){if(c())if(s[S])g();else{var e=t();s[v].addModule(e).then((function(e){c()&&(s[S]=1,g(),_&&p())}))[u]((function(e){R(v+".addModule Error",1,e),c()&&T()}))}};m(s,(function(){return c()}),y,y)}else T()};(function(){var e=window[x],l="ondataavailable",f="audio/webm; codecs=pcm";i=a.isWebM=r[g];var u=e&&l in e.prototype&&e.isTypeSupported(f);if(h=u?"":O("VwPd::\uff08\u6b64\u6d4f\u89c8\u5668\u4e0d\u652f\u6301{1}\uff09",0,A),t&&i&&u){var p=function(){return i&&a._ra},m=(a._ra=function(){""!==_&&(clearTimeout(_),_=setTimeout((function(){p()&&(R(O("vHnb::{1}\u672a\u8fd4\u56de\u4efb\u4f55\u97f3\u9891\uff0c\u964d\u7ea7\u4f7f\u7528{2}",0,x,v),3),L())}),500))},Object.assign({mimeType:f},r.ConnectWebMOptions)),w=a._r=new e(a,m),k=a._rd={sampleRate:s[c]};w[l]=function(e){var t=new FileReader;t.onloadend=function(){if(p()){var e=C(new Uint8Array(t.result),k);if(!e)return;if(-1==e)return void L();_&&(clearTimeout(_),_=""),d(e)}else i||R(O("O9P7::{1}\u591a\u4f59\u56de\u8c03",0,x),3)},t.readAsArrayBuffer(e.data)},w.start(~~(n/48)),R(O("LMEm::Connect\u91c7\u7528{1}\uff0c\u8bbe\u7f6e{2}\u53ef\u6062\u590d\u4f7f\u7528{3}\u6216\u8001\u5f0f{4}",0,A,o+"."+g+"=false",v,b))}else L()})()},S=function(e){e._na&&e._na(),e._ra&&e._ra()},y=function(e){e._na=null,e._n&&(e._n.port.postMessage({kill:!0}),e._n.disconnect(),e._n=null)},M=function(e){if(e._ra=null,e._r){try{e._r.stop()}catch(t){R("mr stop err",1,t)}e._r=null}},x=function(e){var t=(e=e||r)==r,n=e.Stream;n&&(n._m&&(n._m.disconnect(),n._m=null),!n._RC&&n._c&&r.CloseNewCtx(n._c),n._RC=null,n._c=null,n._d&&(A(n._d.stream),n._d=null),n._p&&(n._p.disconnect(),n._p.onaudioprocess=n._p=null),y(n),M(n),t&&A(n)),e.Stream=0},A=r.StopS_=function(e){for(var t=e.getTracks&&e.getTracks()||e.audioTracks||[],n=0;n<t.length;n++){var a=t[n];a.stop&&a.stop()}e.stop&&e.stop()};r.SampleData=function(e,t,n,a,s){var i="SampleData";a||(a={});var o=a.index||0,l=a.offset||0,_=a.filter;if(_&&_.fn&&_.sr!=t&&(_=null,R(O("d48C::{1}\u7684filter\u91c7\u6837\u7387\u53d8\u4e86\uff0c\u91cd\u8bbe\u6ee4\u6ce2",0,i),3)),!_){var c=n>3*t/4?0:n/2*3/4;_={fn:c?r.IIRFilter(!0,t,c):0}}_.sr=t;var f=_.fn,u=a.frameNext||[];s||(s={});var h=s.frameSize||1;s.frameType&&(h="mp3"==s.frameType?1152:1);var p=e.length;o>p+1&&R(O("tlbC::{1}\u4f3c\u4e4e\u4f20\u5165\u4e86\u672a\u91cd\u7f6echunk {2}",0,i,o+">"+p),3);for(var d=0,m=o;m<p;m++)d+=e[m].length;d=Math.max(0,d-Math.floor(l));var b=t/n;b>1?d=Math.floor(d/b):(b=1,n=t),d+=u.length;var v=new Int16Array(d),g=0;for(m=0;m<u.length;m++)v[g]=u[m],g++;for(;o<p;o++){for(var w=e[o],k=(m=l,w.length),S=f&&f.Embed,y=0,M=0,x=0,A=0,B=0,E=0;B<k;B++,E++)if(E<k&&(S?(x=w[E],A=S.b0*x+S.b1*S.x1+S.b0*S.x2-S.a1*S.y1-S.a2*S.y2,S.x2=S.x1,S.x1=x,S.y2=S.y1,S.y1=A):A=f?f(w[E]):w[E]),y=M,M=A,0!=E){var T=Math.floor(m);if(B==T){var C=y+((Math.ceil(m)<k?M:y)-y)*(m-T);C>32767?C=32767:C<-32768&&(C=-32768),v[g]=C,g++,m+=b}}else B--;l=Math.max(0,m-k)}u=null;var L=v.length%h;if(L>0){var P=2*(v.length-L);u=new Int16Array(v.buffer.slice(P)),v=new Int16Array(v.buffer.slice(0,P))}return{index:o,offset:l,filter:_,frameNext:u,sampleRate:n,data:v}},r.IIRFilter=function(e,t,n){var a=2*Math.PI*n/t,r=Math.sin(a),s=Math.cos(a),i=r/2,o=1+i,l=-2*s/o,_=(1-i)/o;if(e)var c=(1-s)/2/o,f=(1-s)/o;else c=(1+s)/2/o,f=-(1+s)/o;var u=0,h=0,p=0,d=0,m=0,b=function(e){return p=c*e+f*u+c*h-l*d-_*m,h=u,u=e,m=d,d=p,p};return b.Embed={x1:0,x2:0,y1:0,y2:0,b0:c,b1:f,a1:l,a2:_},b},r.PowerLevel=function(e,t){var n=e/t||0;return n<1251?Math.round(n/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(n/1e4)/Math.log(10)))))},r.PowerDBFS=function(e){var t=Math.max(.1,e||0),n=32767;return t=Math.min(t,n),t=20*Math.log(t/n)/Math.log(10),Math.max(-100,Math.round(t))},r.CLog=function(e,t){if("object"==typeof console){var n=new Date,s=("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2)+"."+("00"+n.getMilliseconds()).substr(-3),i=this&&this.envIn&&this.envCheck&&this.id,l=["["+s+" "+o+(i?":"+i:"")+"]"+e],_=arguments,c=r.CLog,f=2,u=c.log||console.log;for(a(t)?u=1==t?c.error||console.error:3==t?c.warn||console.warn:u:f=1;f<_.length;f++)l.push(_[f]);B?u&&u("[IsLoser]"+l[0],l.length>1?l:""):u.apply(console,l)}};var R=function(){r.CLog.apply(this,arguments)},B=!0;try{B=!console.log.apply}catch(j){}var E=0;function T(e){var t=this;t.id=++E,N();var r={type:"mp3",onProcess:n};for(var s in e)r[s]=e[s];t.set=r;var i=r[f],o=r[c];(i&&!a(i)||o&&!a(o))&&t.CLog(O.G("IllegalArgs-1",[O("VtS4::{1}\u548c{2}\u5fc5\u987b\u662f\u6570\u503c",0,c,f)]),1,e),r[f]=+i||16,r[c]=+o||16e3,t.state=0,t._S=9,t.Sync={O:9,C:9}}r.Sync={O:9,C:9},r.prototype=T.prototype={CLog:R,_streamStore:function(){return this.set.sourceStream?this:r},_streamCtx:function(){var e=this._streamStore().Stream;return e&&e._c},open:function(e,a){var o=this,_=o.set,f=o._streamStore(),h=0;e=e||n;var p=function(e,t){t=!!t,o.CLog(O("5tWi::\u5f55\u97f3open\u5931\u8d25\uff1a")+e+",isUserNotAllow:"+t,1),h&&r.CloseNewCtx(h),a&&a(e,t)};o._streamTag=l;var d=function(){o.CLog("open ok, id:"+o.id+" stream:"+o._streamTag),e(),o._SO=0},m=f.Sync,b=++m.O,g=m.C;o._O=o._O_=b,o._SO=o._S;var w=function(){if(g!=m.C||!o._O){var e=O("dFm8::open\u88ab\u53d6\u6d88");return b==m.O?o.close():e=O("VtJO::open\u88ab\u4e2d\u65ad"),p(e),!0}};if(t){var S=o.envCheck({envName:"H5",canProcess:!0});if(S)p(O("A5bm::\u4e0d\u80fd\u5f55\u97f3\uff1a")+S);else if(_.sourceStream){if(o._streamTag="set.sourceStream",!r.GetContext())return void p(O("1iU7::\u4e0d\u652f\u6301\u6b64\u6d4f\u89c8\u5668\u4ece\u6d41\u4e2d\u83b7\u53d6\u5f55\u97f3"));x(f);var y=o.Stream=_.sourceStream;y._RC=_.runningContext,y._call={};try{k(f)}catch(j){return x(f),void p(O("BTW2::\u4ece\u6d41\u4e2d\u6253\u5f00\u5f55\u97f3\u5931\u8d25\uff1a")+j.message)}d()}else{var M=function(e,t){try{window.top.a}catch(j){return void p(O("Nclz::\u65e0\u6743\u5f55\u97f3(\u8de8\u57df\uff0c\u8bf7\u5c1d\u8bd5\u7ed9iframe\u6dfb\u52a0\u9ea6\u514b\u98ce\u8bbf\u95ee\u7b56\u7565\uff0c\u5982{1})",0,'allow="camera;microphone"'))}/Permission|Allow/i.test(e)?p(O("gyO5::\u7528\u6237\u62d2\u7edd\u4e86\u5f55\u97f3\u6743\u9650"),!0):!1===window.isSecureContext?p(O("oWNo::\u6d4f\u89c8\u5668\u7981\u6b62\u4e0d\u5b89\u5168\u9875\u9762\u5f55\u97f3\uff0c\u53ef\u5f00\u542fhttps\u89e3\u51b3")):/Found/i.test(e)?p(t+O("jBa9::\uff0c\u65e0\u53ef\u7528\u9ea6\u514b\u98ce")):p(t)};if(r.IsOpen())d();else if(r.Support()){var A=_.runningContext;A||(A=h=r.GetContext(!0));var R=function(e){setTimeout((function(){e._call={};var t=r.Stream;t&&(x(),e._call=t._call),r.Stream=e,e._c=A,e._RC=_.runningContext,w()||(r.IsOpen()?(t&&o.CLog(O("upb8::\u53d1\u73b0\u540c\u65f6\u591a\u6b21\u8c03\u7528open"),1),k(f,1),d()):p(O("Q1GA::\u5f55\u97f3\u529f\u80fd\u65e0\u6548\uff1a\u65e0\u97f3\u9891\u6d41")))}),100)},B=function(e){var t=e.name||e.message||e.code+":"+e;o.CLog(O("xEQR::\u8bf7\u6c42\u5f55\u97f3\u6743\u9650\u9519\u8bef"),1,e),M(t,O("bDOG::\u65e0\u6cd5\u5f55\u97f3\uff1a")+t)},E=_.audioTrackSet||{};E[c]=A[c];var T={audio:E};try{var C=r.Scope[l](T,R,B)}catch(j){o.CLog(l,3,j),T={audio:!0},C=r.Scope[l](T,R,B)}o.CLog(l+"("+JSON.stringify(T)+") "+v(A)+O("RiWe::\uff0c\u672a\u914d\u7f6enoiseSuppression\u548cechoCancellation\u65f6\u6d4f\u89c8\u5668\u53ef\u80fd\u4f1a\u81ea\u52a8\u6253\u5f00\u964d\u566a\u548c\u56de\u58f0\u6d88\u9664\uff0c\u79fb\u52a8\u7aef\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cfb\u7edf\u64ad\u653e\u97f3\u91cf\uff08\u5173\u95ed\u5f55\u97f3\u540e\u53ef\u6062\u590d\uff09\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u4e2daudioTrackSet\u914d\u7f6e")+"("+i+") LM:"+s+" UA:"+navigator.userAgent),C&&C.then&&C.then(R)[u](B)}else M("",O("COxc::\u6b64\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5f55\u97f3"))}}else p(O.G("NonBrowser-1",["open"])+O("EMJq::\uff0c\u53ef\u5c1d\u8bd5\u4f7f\u7528RecordApp\u89e3\u51b3\u65b9\u6848")+"("+i+"/tree/master/app-support-sample)")},close:function(e){e=e||n;var t=this,a=t._streamStore();t._stop();var r=" stream:"+t._streamTag,s=a.Sync;if(t._O=0,t._O_!=s.O)return t.CLog(O("hWVz::close\u88ab\u5ffd\u7565\uff08\u56e0\u4e3a\u540c\u65f6open\u4e86\u591a\u4e2arec\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u771f\u6b63close\uff09")+r,3),void e();s.C++,x(a),t.CLog("close,"+r),e()},mock:function(e,t){var n=this;return n._stop(),n.isMock=1,n.mockEnvInfo=null,n.buffers=[e],n.recSize=e.length,n._setSrcSR(t),n._streamTag="mock",n},_setSrcSR:function(e){var t=this,n=t.set,a=n[c];a>e?n[c]=e:a=0,t[_]=e,t.CLog(_+": "+e+" set."+c+": "+n[c]+(a?" "+O("UHvm::\u5ffd\u7565")+": "+a:""),a?3:0)},envCheck:function(e){var t,n=this,a=n.set,s="CPU_BE";if(t||r[s]||"function"!=typeof Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(N(s),t=O("Essp::\u4e0d\u652f\u6301{1}\u67b6\u6784",0,s)),!t){var i=a.type,o=n[i+"_envCheck"];a.takeoffEncodeChunk&&(o?e.canProcess||(t=O("7uMV::{1}\u73af\u5883\u4e0d\u652f\u6301\u5b9e\u65f6\u5904\u7406",0,e.envName)):t=O("2XBl::{1}\u7c7b\u578b\u4e0d\u652f\u6301\u8bbe\u7f6etakeoffEncodeChunk",0,i)+(n[i]?"":O("LG7e::(\u672a\u52a0\u8f7d\u7f16\u7801\u5668)"))),!t&&o&&(t=n[i+"_envCheck"](e,a))}return t||""},envStart:function(e,t){var n=this,a=n.set;if(n.isMock=e?1:0,n.mockEnvInfo=e,n.buffers=[],n.recSize=0,e&&(n._streamTag="env$"+e.envName),n.state=1,n.envInLast=0,n.envInFirst=0,n.envInFix=0,n.envInFixTs=[],n._setSrcSR(t),n.engineCtx=0,n[a.type+"_start"]){var r=n.engineCtx=n[a.type+"_start"](a);r&&(r.pcmDatas=[],r.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(e,t){var n=this,a=n.set,s=n.engineCtx;if(1==n.state){var i=n[_],o=e.length,l=r.PowerLevel(t,o),f=n.buffers,u=f.length;f.push(e);var h=f,p=u,d=Date.now(),m=Math.round(o/i*1e3);n.envInLast=d,1==n.buffers.length&&(n.envInFirst=d-m);var b=n.envInFixTs;b.splice(0,0,{t:d,d:m});for(var v=d,g=0,w=0;w<b.length;w++){var k=b[w];if(d-k.t>3e3){b.length=w;break}v=k.t,g+=k.d}var S=b[1],y=d-v;if(y-g>y/3&&(S&&y>1e3||b.length>=6)){var M=d-S.t-m;if(M>m/5){var x=!a.disableEnvInFix;if(n.CLog("["+d+"]"+V.get(O(x?"4Kfd::\u8865\u507f{1}ms":"bM5i::\u672a\u8865\u507f{1}ms",1),[M]),3),n.envInFix+=M,x){var A=new Int16Array(M*i/1e3);o+=A.length,f.push(A)}}}var R=n.recSize,B=o,E=R+B;if(n.recSize=E,s){var T=r.SampleData(f,i,a[c],s.chunkInfo);s.chunkInfo=T,E=(R=s.pcmSize)+(B=T.data.length),s.pcmSize=E,f=s.pcmDatas,u=f.length,f.push(T.data),i=T[c]}var C=Math.round(E/i*1e3),L=f.length,P=h.length,I=function(){for(var e=H?0:-B,t=null==f[0],r=u;r<L;r++){var i=f[r];null==i?t=1:(e+=i.length,s&&i.length&&n[a.type+"_encode"](s,i))}if(t&&s){r=p;for(h[0]&&(r=0);r<P;r++)h[r]=null}t&&(e=H?B:0,f[0]=null),s?s.pcmSize+=e:n.recSize+=e},H=0,N="rec.set.onProcess";try{H=a.onProcess(f,l,C,i,u,I)}catch(j){console.error(N+O("gFUF::\u56de\u8c03\u51fa\u9519\u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u9700\u4fdd\u8bc1\u4e0d\u4f1a\u629b\u5f02\u5e38"),j)}var D=Date.now()-d;if(D>10&&n.envInFirst-d>1e3&&n.CLog(N+O("2ghS::\u4f4e\u6027\u80fd\uff0c\u8017\u65f6{1}ms",0,D),3),!0===H){var F=0;for(w=u;w<L;w++)null==f[w]?F=1:f[w]=new Int16Array(0);F?n.CLog(O("ufqH::\u672a\u8fdb\u5165\u5f02\u6b65\u524d\u4e0d\u80fd\u6e05\u9664buffers"),3):s?s.pcmSize-=B:n.recSize-=B}else I()}else n.state||n.CLog("envIn at state=0",3)},start:function(){var e=this,t=1;if(e.set.sourceStream?e.Stream||(t=0):r.IsOpen()||(t=0),t){var n=e._streamCtx();if(e.CLog(O("kLDN::start \u5f00\u59cb\u5f55\u97f3\uff0c")+v(n)+" stream:"+e._streamTag),e._stop(),e.envStart(null,n[c]),e.state=3,e._SO&&e._SO+1!=e._S)e.CLog(O("Bp2y::start\u88ab\u4e2d\u65ad"),3);else{e._SO=0;var a=function(){3==e.state&&(e.state=1,e.resume())},s="AudioContext resume: ";m(n,(function(t){return t&&e.CLog(s+"wait..."),3==e.state}),(function(t){t&&e.CLog(s+n.state),a()}),(function(t){e.CLog(s+n.state+O("upkE::\uff0c\u53ef\u80fd\u65e0\u6cd5\u5f55\u97f3\uff1a")+t,1),a()}))}}else e.CLog(O("6WmN::start\u5931\u8d25\uff1a\u672aopen"),1)},pause:function(){var e=this,t=e._streamStore().Stream;e.state&&(e.state=2,e.CLog("pause"),t&&delete t._call[e.id])},resume:function(){var e=this,t=e._streamStore().Stream,n="resume",a=n+"(wait ctx)";if(3==e.state)e.CLog(a);else if(e.state){e.state=1,e.CLog(n),e.envResume(),t&&(t._call[e.id]=function(t,n){1==e.state&&e.envIn(t,n)},S(t));var r=e._streamCtx();r&&m(r,(function(t){return t&&e.CLog(a+"..."),1==e.state}),(function(n){n&&e.CLog(a+r.state),S(t)}),(function(t){e.CLog(a+r.state+"[err]"+t,1)}))}},_stop:function(e){var t=this,n=t.set;t.isMock||t._S++,t.state&&(t.pause(),t.state=0),!e&&t[n.type+"_stop"]&&(t[n.type+"_stop"](t.engineCtx),t.engineCtx=0)},stop:function(e,t,n){var a,l=this,f=l.set,u=l.envInLast-l.envInFirst,h=u&&l.buffers.length;l.CLog(O("Xq4s::stop \u548cstart\u65f6\u5dee:")+(u?u+"ms "+O("3CQP::\u8865\u507f:")+l.envInFix+"ms envIn:"+h+" fps:"+(h/u*1e3).toFixed(1):"-")+" stream:"+l._streamTag+" ("+i+") LM:"+s);var p=function(){l._stop(),n&&l.close()},d=function(e){l.CLog(O("u8JG::\u7ed3\u675f\u5f55\u97f3\u5931\u8d25\uff1a")+e,1),t&&t(e),p()},m=function(t,n,s){var i="blob",_="arraybuffer",c="dataType",u="DefaultDataType",h=l[c]||r[u]||i,m=c+"="+h,b=t instanceof ArrayBuffer,v=0,g=b?t.byteLength:t.size;if(h==_?b||(v=1):h==i?"function"!=typeof Blob?v=O.G("NonBrowser-1",[m])+O("1skY::\uff0c\u8bf7\u8bbe\u7f6e{1}",0,o+"."+u+'="'+_+'"'):(b&&(t=new Blob([t],{type:n})),t instanceof Blob||(v=1),n=t.type||n):v=O.G("NotSupport-1",[m]),l.CLog(O("Wv7l::\u7ed3\u675f\u5f55\u97f3 \u7f16\u7801\u82b1{1}ms \u97f3\u9891\u65f6\u957f{2}ms \u6587\u4ef6\u5927\u5c0f{3}b",0,Date.now()-a,s,g)+" "+m+","+n),v)d(1!=v?v:O("Vkbd::{1}\u7f16\u7801\u5668\u8fd4\u56de\u7684\u4e0d\u662f{2}",0,f.type,h)+", "+m);else{if(f.takeoffEncodeChunk)l.CLog(O("QWnr::\u542f\u7528takeoffEncodeChunk\u540estop\u8fd4\u56de\u7684blob\u957f\u5ea6\u4e3a0\u4e0d\u63d0\u4f9b\u97f3\u9891\u6570\u636e"),3);else if(g<Math.max(50,s/5))return void d(O("Sz2H::\u751f\u6210\u7684{1}\u65e0\u6548",0,f.type));e&&e(t,s,n),p()}};if(!l.isMock){var b=3==l.state;if(!l.state||b)return void d(O("wf9t::\u672a\u5f00\u59cb\u5f55\u97f3")+(b?O("Dl2c::\uff0c\u5f00\u59cb\u5f55\u97f3\u524d\u65e0\u7528\u6237\u4ea4\u4e92\u5bfc\u81f4AudioContext\u672a\u8fd0\u884c"):""))}l._stop(!0);var v=l.recSize;if(v)if(l[f.type]){if(l.isMock){var g=l.envCheck(l.mockEnvInfo||{envName:"mock",canProcess:!1});if(g)return void d(O("AxOH::\u5f55\u97f3\u9519\u8bef\uff1a")+g)}var w=l.engineCtx;if(l[f.type+"_complete"]&&w){var k=Math.round(w.pcmSize/f[c]*1e3);return a=Date.now(),void l[f.type+"_complete"](w,(function(e,t){m(e,t,k)}),d)}if(a=Date.now(),l.buffers[0]){var S=r.SampleData(l.buffers,l[_],f[c]);f[c]=S[c];var y=S.data;k=Math.round(y.length/f[c]*1e3);l.CLog(O("CxeT::\u91c7\u6837:{1} \u82b1:{2}ms",0,v+"->"+y.length,Date.now()-a)),setTimeout((function(){a=Date.now(),l[f.type](y,(function(e,t){m(e,t,k)}),(function(e){d(e)}))}))}else d(O("xkKd::\u97f3\u9891buffers\u88ab\u91ca\u653e"))}else d(O("xGuI::\u672a\u52a0\u8f7d{1}\u7f16\u7801\u5668\uff0c\u8bf7\u5c1d\u8bd5\u5230{2}\u7684src/engine\u5185\u627e\u5230{1}\u7684\u7f16\u7801\u5668\u5e76\u52a0\u8f7d",0,f.type,o));else d(O("Ltz3::\u672a\u91c7\u96c6\u5230\u5f55\u97f3"))}};var C=function(e,t){t.pos||(t.pos=[0],t.tracks={},t.bytes=[]);var n=t.tracks,a=[t.pos[0]],r=function(){t.pos[0]=a[0]},s=t.bytes.length,i=new Uint8Array(s+e.length);if(i.set(t.bytes),i.set(e,s),t.bytes=i,!t._ht){if(I(i,a),H(i,a),!L(I(i,a),[24,83,128,103]))return;for(I(i,a);a[0]<i.length;){var o=I(i,a),l=H(i,a),_=[0],f=0;if(!l)return;if(L(o,[22,84,174,107])){for(;_[0]<l.length;){var u=I(l,_),h=H(l,_),p=[0],d={channels:0,sampleRate:0};if(L(u,[174]))for(;p[0]<h.length;){var m=I(h,p),b=H(h,p),v=[0];if(L(m,[215])){var g=P(b);d.number=g,n[g]=d}else if(L(m,[131])){1==(g=P(b))?d.type="video":2==g?(d.type="audio",f||(t.track0=d),d.idx=f++):d.type="Type-"+g}else if(L(m,[134])){for(var w="",k=0;k<b.length;k++)w+=String.fromCharCode(b[k]);d.codec=w}else if(L(m,[225]))for(;v[0]<b.length;){var S=I(b,v),y=H(b,v);if(L(S,[181])){g=0;var M=new Uint8Array(y.reverse()).buffer;4==y.length?g=new Float32Array(M)[0]:8==y.length?g=new Float64Array(M)[0]:R("WebM Track !Float",1,y),d[c]=Math.round(g)}else L(S,[98,100])?d.bitDepth=P(y):L(S,[159])&&(d.channels=P(y))}}}t._ht=1,R("WebM Tracks",n),r();break}}}var x=t.track0;if(x){if(16==x.bitDepth&&/FLOAT/i.test(x.codec)&&(x.bitDepth=32,R("WebM 16->32 bit",3)),x[c]!=t[c]||32!=x.bitDepth||x.channels<1||!/(\b|_)PCM\b/i.test(x.codec))return t.bytes=[],t.bad||R("WebM Track Unexpected",3,t),t.bad=1,-1;for(var A=[],B=0;a[0]<i.length;){u=I(i,a);if(!(h=H(i,a)))break;if(L(u,[163])){var E=15&h[0];if(d=n[E]){if(0===d.idx){var T=new Uint8Array(h.length-4);for(k=4;k<h.length;k++)T[k-4]=h[k];A.push(T),B+=T.length}}else R("WebM !Track"+E,1,n)}r()}if(B){var C=new Uint8Array(i.length-t.pos[0]);C.set(i.subarray(t.pos[0])),t.bytes=C,t.pos[0]=0;T=new Uint8Array(B),k=0;for(var V=0;k<A.length;k++)T.set(A[k],V),V+=A[k].length;M=new Float32Array(T.buffer);if(x.channels>1){var O=[];for(k=0;k<M.length;)O.push(M[k]),k+=x.channels;M=new Float32Array(O)}return M}}},L=function(e,t){if(!e||e.length!=t.length)return!1;if(1==e.length)return e[0]==t[0];for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},P=function(e){for(var t="",n=0;n<e.length;n++){var a=e[n];t+=(a<16?"0":"")+a.toString(16)}return parseInt(t,16)||0},I=function(e,t,n){var a=t[0];if(!(a>=e.length)){var r=("0000000"+e[a].toString(2)).substr(-8),s=/^(0*1)(\d*)$/.exec(r);if(s){var i=s[1].length,o=[];if(!(a+i>e.length)){for(var l=0;l<i;l++)o[l]=e[a],a++;return n&&(o[0]=parseInt(s[2]||"0",2)),t[0]=a,o}}}},H=function(e,t){var n=I(e,t,1);if(n){var a=P(n),r=t[0],s=[];if(a<2147483647){if(r+a>e.length)return;for(var i=0;i<a;i++)s[i]=e[r],r++}return t[0]=r,s}},V=r.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(e,t){var n=o+".i18n.put: ",a=e.overwrite;a=null==a||a;var r=e.lang;if(!(r=V.alias[r]||r))throw new Error(n+"set.lang?");var s=V.locales[r];s||(s={},V.locales[r]=s);for(var i,l=/^([\w\-]+):/,_=0;_<t.length;_++){var c=t[_];if(i=l.exec(c)){var f=i[1];c=c.substr(f.length+1);!a&&s[f]||(s[f]=c)}else R(n+"'key:'? "+c,3,e)}},get:function(){return V.v_G.apply(null,arguments)},v_G:function(e,t,n){t=t||[],n=n||V.lang,n=V.alias[n]||n;var a=V.locales[n],r=a&&a[e]||"";return r||"zh"==n?(V.lastLang=n,"=Empty"==r?"":r.replace(/\{(\d+)(\!?)\}/g,(function(n,a,s){return n=t[(a=+a||0)-1],(a<1||a>t.length)&&(n="{?}",R("i18n["+e+"] no {"+a+"}: "+r,3)),s?"":n}))):"en"==n?V.v_G(e,t,"zh"):V.v_G(e,t,"en")},$T:function(){return V.v_T.apply(null,arguments)},v_T:function(){for(var e,t=arguments,n="",r=[],s=0,i=o+".i18n.$T:",l=/^([\w\-]*):/,_=0;_<t.length;_++){var c=t[_];if(0==_){if(!(n=(e=l.exec(c))&&e[1]))throw new Error(i+"0 'key:'?");c=c.substr(n.length+1)}if(-1===s)r.push(c);else{if(s)throw new Error(i+" bad args");if(0===c)s=-1;else if(a(c)){if(c<1)throw new Error(i+" bad args");s=c}else{var f=1==_?"en":_?"":"zh";if((e=l.exec(c))&&(f=e[1]||f,c=c.substr(e[1].length+1)),!e||!f)throw new Error(i+_+" 'lang:'?");V.put({lang:f,overwrite:!1},[n+":"+c])}}}return n?s>0?n:V.v_G(n,r):""}},O=V.$T;O.G=V.get,O("NonBrowser-1::\u975e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u4e0d\u652f\u6301{1}",1),O("IllegalArgs-1::\u53c2\u6570\u9519\u8bef\uff1a{1}",1),O("NeedImport-2::\u8c03\u7528{1}\u9700\u8981\u5148\u5bfc\u5165{2}",2),O("NotSupport-1::\u4e0d\u652f\u6301\uff1a{1}",1),r.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var N=r.Traffic=function(e){if(t){e=e?"/"+o+"/Report/"+e:"";var n=r.TrafficImgUrl;if(n){var a=r.Traffic,s=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],i=s[1]||"http://file/",l=(s[0]||i)+e;if(0==n.indexOf("//")&&(n=/^https:/i.test(l)?"https:"+n:"http:"+n),e&&(n=n+"&cu="+encodeURIComponent(i+e)),!a[l])a[l]=1,(new Image).src=n,R("Traffic Analysis Image: "+(e||o+".TrafficImgUrl="+r.TrafficImgUrl))}}};h&&(R(O("8HO5::\u8986\u76d6\u5bfc\u5165{1}",0,o),1),h.Destroy());e[o]=r}(i,s),void 0===(a=function(){return i.Recorder}.call(t,n,t,e))||(e.exports=a),e.exports&&(e.exports=i.Recorder)}()}}]);
//# sourceMappingURL=161.3eef2d9f.chunk.js.map