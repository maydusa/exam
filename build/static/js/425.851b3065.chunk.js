"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[425],{51622:function(e,n,t){var r=t(697),i=t(36314),o=t(93044),a=t(20890),s=t(29472),l=t(13967),d=t(85670),c=t(80184);n.Z=function(e){e.id;var n=e.name,t=e.img,u=e.msg,f=e.time,p=e.online,w=e.unread,v=(0,l.Z)();return(0,c.jsx)(r.Z,{sx:{width:"100%",borderRadius:1,backgroundColor:"light"===v.palette.mode?"#fff":v.palette.background.default},p:2,children:(0,c.jsxs)(i.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,c.jsxs)(i.Z,{direction:"row",spacing:2,children:[p?(0,c.jsx)(d.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,c.jsx)(o.Z,{src:t})}):(0,c.jsx)(o.Z,{src:t}),(0,c.jsxs)(i.Z,{spacing:.3,children:[(0,c.jsx)(a.Z,{variant:"subtitle2",children:n}),(0,c.jsx)(a.Z,{variant:"caption",children:u})]})]}),(0,c.jsxs)(i.Z,{spacing:2,alignItems:"center",children:[(0,c.jsx)(a.Z,{sx:{fontWeight:600},variant:"caption",children:f}),(0,c.jsx)(s.Z,{color:"primary",badgeContent:w})]})]})})}},53614:function(e,n,t){t.d(n,{ol:function(){return o},cB:function(){return a},el:function(){return l}});var r=t(66934),i=t(12065),o=(0,r.ZP)("div")((function(e){var n=e.theme;return{position:"relative",borderRadius:20,backgroundColor:(0,i.Fq)(n.palette.background.default,1),marginRight:n.spacing(2),marginLeft:0,width:"100%"}})),a=(0,r.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),s=t(4834),l=(0,r.ZP)(s.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),width:"100%"}}}))},51820:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(42982),i=t(74165),o=t(15861),a=t(72791),s=(t(10155),t(15122),t(53614),t(51622),t(80184)),l=t(36314),d=t(697),c=t(61385),u=t(13967),f=t(59434),p=t(86026),w=(t(25942),t(19128),t(90470),t(43867),t(57689)),v=t(2703),g=t(29878),h=function(){var e=(0,f.I0)(),n=(0,u.Z)(),t=((0,w.s0)(),(0,f.v9)((function(e){return e.app}))),h=(t.sidebar,t.isRating),m=t.identify,x=(0,a.useRef)(!1),y=(0,a.useRef)([]);return(0,a.useEffect)((function(){if(!x.current){var n;if(x.current=!0,window.result=[],window.audioArr=[],window.ws)null===(n=window.ws)||void 0===n||n.close(),window.ws=null;var t="wss://api.siuuu.ai/demo-api/".concat(m);window.ws=new WebSocket(t),window.ws.onopen=function(e){console.log("Connection open ..."),"chat"!==m&&window.ws.send(JSON.stringify({cmd:"question"}))},window.ws.onmessage=function(n){var t;window.timer=setInterval((0,o.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.isPlaying){e.next=2;break}return e.abrupt("return");case 2:if(window.player||(window.player=new Audio),null!==(n=window.audioArr)&&void 0!==n&&n.length){e.next=5;break}return e.abrupt("return");case 5:window.isPlaying=!0,window.player.src=window.URL.createObjectURL((0,v.OP)(window.audioArr)),window.player.onended=function(){window.isPlaying=!1},null===(t=window.player.play())||void 0===t||t.catch((function(e){console.log(e)})),window.audioArr=[];case 10:case"end":return e.stop()}}),e)}))),500);try{if(200===(t=JSON.parse(n.data)).code){if(t.data.length)return void e((0,p.Vs)({score:t.data}));var a=y.current.find((function(e){return e.id===t.data.mid}));if(a){if(2===t.data.status){var s=(0,r.Z)(a.audio);t.data.audio&&s.push(t.data),("exercise"===m&&"assistant_score"===t.data.role||"exam"===m&&"user"===t.data.role&&y.current.filter((function(e){return"assistant"===e.creator})).length<5)&&window.ws.send(JSON.stringify({cmd:"question"})),"exam"===m&&"user"===t.data.role&&y.current.filter((function(e){return"user"===e.creator})).length>=5&&e((0,p.fw)({isEnd:!0}))}var l={content:a.content||"",audio:a.audio||[]};t.data.text&&("user"===t.data.role?l.content=t.data.text:l.content=(0,v.RZ)(l.content+t.data.text)),t.data.audio&&(l.audio=[].concat((0,r.Z)(l.audio),[t.data]),window.audioArr?window.audioArr.push(t.data.audio):window.audioArr=[t.data.audio],l.isShow=!0),a.content=l.content,a.audio=l.audio,e((0,p.Zd)({id:a.id,data:l}))}else{var d,c={id:t.data.mid,type:"msg",subtype:"",content:(0,v.RZ)(t.data.text||""),incoming:"assistant"===t.data.role,outgoing:!1,metadata:{duration:0,isPlaying:!1},isShow:!1,creator:t.data.role,audio:t.data.audio?[t.data]:[]};if("user"===t.data.role)(d=window.audioArr).push.apply(d,(0,r.Z)(window.userAudioArr||[])),window.userAudioArr=[];y.current.push(c),e((0,p.XB)([c]))}window.result=y.current}}catch(u){console.log(u)}},window.ws.onclose=function(e){console.log("Connection closed.")}}return function(){var e,n;window.player&&(null===(e=window.player)||void 0===e||null===(n=e.pause)||void 0===n||n.call(e))}}),[]),(0,s.jsx)(l.Z,{direction:"row",sx:{width:"100%",height:"100%"},children:(0,s.jsx)(d.Z,{sx:{height:"100%",width:"100%",backgroundColor:"light"===n.palette.mode?"#F0F4FA":n.palette.background.default},children:h?(0,s.jsx)(g.default,{}):(0,s.jsx)(c.Z,{})})})}},29878:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});var r=t(70885),i=t(72791),o=t(59434),a=(t(46658),t.p+"static/media/course.ecde2249da7f1775a1a0.mp4");t.p;t.p,t.p,t(86731);var s=t(65796),l=t(45234),d=t(80184);function c(){var e=(0,o.v9)((function(e){return e.app})),n=e.history,t=(e.identify,e.score),c=(0,i.useState)(),u=(0,r.Z)(c,2),f=u[0],p=u[1],w=(0,i.useRef)(),v=((0,i.useMemo)((function(){var e=null===n||void 0===n?void 0:n[n.length-1];return null!==e&&void 0!==e&&e.isShow?null===e||void 0===e?void 0:e.content:""}),[n]),(0,i.useMemo)((function(){if(!t.length)return null;var e=t.filter((function(e){return"\u603b\u5206"!==e.score_name}));return{title:{show:!1},tooltip:{},legend:{show:!1},label:{show:!0},radar:{indicator:e.map((function(e){return{name:e.score_name,max:100}})),radius:"50%"},series:[{type:"radar",data:[{value:e.map((function(e){return Number(e.score)}))}]}]}}),[t])),g=(0,i.useMemo)((function(){return t.length?t.filter((function(e){return"\u603b\u5206"!==e.score_name})):[]}),[t]),h=(0,i.useMemo)((function(){return t.length?t.find((function(e){return"\u603b\u5206"===e.score_name})):null}),[t]);return(0,i.useEffect)((function(){var e,n,t,r;null===w||void 0===w||null===(e=w.current)||void 0===e||null===(n=e.getEchartsInstance)||void 0===n||null===(t=n.call(e))||void 0===t||null===(r=t.resize)||void 0===r||r.call(t)}),[t]),(0,d.jsxs)("div",{style:{width:"100%",backgroundColor:"#F0F4FA",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,d.jsx)(s.Z,{type:"score"}),null!==t&&void 0!==t&&t.length?(0,d.jsxs)("div",{style:{width:"88vw",marginTop:"22px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,d.jsx)("div",{style:{marginBottom:"16px",fontWeight:"bold",alignSelf:"flex-start"},children:"\u60a8\u672c\u6b21\u8003\u8bd5\u7efc\u5408\u5f97\u5206".concat(null===h||void 0===h?void 0:h.score,"\u5206\u3002\u5404\u7ef4\u5ea6\u5f97\u5206\u5982\u4e0b\uff1a")}),(0,d.jsx)(l.Z,{ref:w,option:v,style:{width:"100%"}}),(0,d.jsxs)("div",{style:{width:"88vw"},children:[g.map((function(e,n){return(0,d.jsxs)("div",{style:{width:"100%",marginTop:n>0?"18px":"0"},children:[(0,d.jsx)("div",{style:{backgroundImage:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAAGCAYAAAD9stHTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN2SURBVHgBjVZNblQxDP6cZNpCpYotUm/Bijtwp7ZX4BxchQ1nQGLBplT8lL73YvwTJ3kzlWj0NHEc23H82c7Qh49fakkJmUA5E5dElBOh5MQ5gUrOPqtMArKsi61JaOfZXm46pDqua3ZkrzS5rLTqmX2fjS7Z9Fx+nA2ijYAVwAafT2iWmVh4hMXWLGudSfadXmUv+EqvRK6n+zJvom8yul/J7Ll9RkUSGVmLWytXkZG5sstQwqa0+LquK7Z8wCJrs8fqk8uswaPc6Op00rlgFWe2dPD1+gtbOcf2uIjdJ6yHS6wPf7G9v8Z6d4ft9la0/zOSHCafXE1uJEE0JnWaMLhsa7IZ7dcUjTQZZmp2yb4u1AijgnY9tR42x5EGKGjva1/y4DH5MWqWujmahMkPknwKlyiuK4BJAPa20ziDBJDucK0mxXNEObU91cuytzUf9FO6uFzB6aBFPvFtWVzn6QH09Cj0Kw2j29XEvheZt9fgz7K+ucGLRukhxowrYYCoFHVEOe7f0eWJ4XLMGmYRT3Y93sWYErvZwWbuB7WAMrpK7AVwYal5xPMF3JYC3dndVG3Hk8Nv2VjjYi5ZJ1MKrgJJyW+amqkUpnK3GToUuaK3F5CrykZbkYrEJgBSbocdpvyWcX4uMsL7+VuOFLl0JvJX4DcL+NtX0NUP0N0nvGikdgEPDk/xZyuC3clkmDuIWuEmvysv7inRgfBU4W5BZToQ+2oc+NBYujQzTkYcE06rDCWPPh1XeR22+nEBnlakJpZdrrrDVn0NQcsBoatnLSu/qpzuK0ib86crQKo22fsQ1SsNPhdwngJ6UPoswg3WSr24wDNXBR4fwVKpz+4dj6TOWGV5mTrd0tsscPRSQndc5YjmoMeeRsY11MsGPIP32DU4aHQadN0ZfvQUiwrjIQtvCGgBdSCt2nbRbUuiAXTlfXVyjdejtVyMlptap5lpC5zIGbBairm1y+wY28jeuoXHZYrPptc+uMgy5fRT0H+A15eNeY/dkDf1KFefH2lug1adc44HcIElW2ul3nKpVay7TAE0jzdyeoCp9+n+DPKuM8NiHzZatbV+H1m2fxx6hOcSQUevNYIALKqdrJindqxAhq/zm2kVGbxWqSZTvVKPj1WA413NBcDciLT9rtaFoX/paDkFyBLv6K/E9yDe2Zv6okr9B8Zw4jtOsNQQAAAAAElFTkSuQmCC",")"),backgroundSize:"160px 6px",backgroundRepeat:"no-repeat",backgroundPosition:"bottom 2px left",fontSize:"18px",fontWeight:"bold"},children:e.score_name}),(0,d.jsx)("div",{style:{fontSize:"16px",marginTop:"4px"},children:e.content})]},e.score_name)})),(0,d.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",marginTop:"24px"},children:h.content})]})]}):(0,d.jsxs)("div",{style:{marginTop:"22px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,d.jsx)("div",{className:"loader"}),(0,d.jsx)("div",{style:{fontSize:"14px",marginTop:"12px"},children:"\u8bc4\u5206\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85"})]}),(0,d.jsx)("div",{style:{marginTop:"62px",marginBottom:"16px"},children:"\u5efa\u8bae\u8bfe\u7a0b\u5982\u4e0b..."}),(0,d.jsxs)("ol",{style:{width:"88vw",paddingLeft:"16px",marginBottom:"18px"},children:[(0,d.jsx)("li",{children:"\u73af\u4fdd 7 \u53f7\u677f\u6750\u4ea7\u54c1\u77e5\u8bc6\u5356\u70b9\u4e00\u89c8."}),(0,d.jsx)("li",{children:"\u987e\u5bb6\u5bb6\u5c45\u534e\u4e1c\u533aTop sales\u987e\u4f73\u4f73\u9500\u552e\u8bdd\u672f"}),(0,d.jsx)("li",{children:"\u987e\u5bb6\u5bb6\u5c45\u4ea7\u54c1\u8bbe\u8ba1\u90e8-.\u73af\u4fdd 7 \u53f7\u677f\u6750\u4ea7\u54c1\u5f00\u53d1\u8bbe\u8ba1\u601d\u8def"})]}),(0,d.jsx)("div",{style:{width:"88vw",height:"157vw",borderRadius:"10px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},onClick:function(){p(!0)},children:(0,d.jsx)("video",{src:a,controls:!0,style:{width:"100%"}})}),f?(0,d.jsx)("div",{style:{width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.7)",position:"fixed",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(e){p(!1)},children:(0,d.jsx)("video",{src:a,style:{width:"100%"},controls:!0,onPlay:function(){var e,n;null===(e=window.player)||void 0===e||null===(n=e.pause)||void 0===n||n.call(e),window.isPlaying=!1}})}):null]})}},93044:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(70885),i=t(63366),o=t(87462),a=t(72791),s=t(63733),l=t(20838),d=t(2588),c=t(66934),u=t(74223),f=t(80184),p=(0,u.Z)((0,f.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),w=t(59703),v=t(64657);function g(e){return(0,v.ZP)("MuiAvatar",e)}(0,w.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var h=t(18833),m=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],x=(0,d.U)("MuiAvatar"),y=(0,c.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],t.colorDefault&&n.colorDefault]}})((function(e){var n=e.theme;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,o.Z)({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:(0,o.Z)({backgroundColor:n.palette.grey[400]},n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})))}]}})),A=(0,c.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,n){return n.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=(0,c.ZP)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,n){return n.fallback}})({width:"75%",height:"75%"});var j=a.forwardRef((function(e,n){var t=x({props:e,name:"MuiAvatar"}),d=t.alt,c=t.children,u=t.className,p=t.component,w=void 0===p?"div":p,v=t.slots,j=void 0===v?{}:v,b=t.slotProps,k=void 0===b?{}:b,P=t.imgProps,S=t.sizes,R=t.src,C=t.srcSet,B=t.variant,N=void 0===B?"circular":B,E=(0,i.Z)(t,m),M=null,z=function(e){var n=e.crossOrigin,t=e.referrerPolicy,i=e.src,o=e.srcSet,s=a.useState(!1),l=(0,r.Z)(s,2),d=l[0],c=l[1];return a.useEffect((function(){if(i||o){c(!1);var e=!0,r=new Image;return r.onload=function(){e&&c("loaded")},r.onerror=function(){e&&c("error")},r.crossOrigin=n,r.referrerPolicy=t,r.src=i,o&&(r.srcset=o),function(){e=!1}}}),[n,t,i,o]),d}((0,o.Z)({},P,{src:R,srcSet:C})),D=R||C,T=D&&"error"!==z,W=(0,o.Z)({},t,{colorDefault:!T,component:w,variant:N}),I=function(e){var n=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.Z)(t,g,n)}(W),F=(0,h.Z)("img",{className:I.img,elementType:A,externalForwardedProps:{slots:j,slotProps:{img:(0,o.Z)({},P,k.img)}},additionalProps:{alt:d,src:R,srcSet:C,sizes:S},ownerState:W}),U=(0,r.Z)(F,2),J=U[0],Q=U[1];return M=T?(0,f.jsx)(J,(0,o.Z)({},Q)):c||0===c?c:D&&d?d[0]:(0,f.jsx)(Z,{ownerState:W,className:I.fallback}),(0,f.jsx)(y,(0,o.Z)({as:w,ownerState:W,className:(0,s.Z)(I.root,u),ref:n},E,{children:M}))}))},19128:function(){}}]);
//# sourceMappingURL=425.851b3065.chunk.js.map