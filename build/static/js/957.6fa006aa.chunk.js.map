{"version":3,"file":"static/js/957.6fa006aa.chunk.js","mappings":"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","sources":["assets/svg/rate.svg","components/AudioWave/AudioWave.js","assets/svg/voice.svg","assets/svg/robot.svg","assets/svg/user.svg","components/Conversation/MsgTypes.js","components/StyledBadge.js","components/Typewriter.js","utils/index.js"],"sourcesContent":["var _path, _path2, _path3, _path4, _path5, _path6;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRate(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1715514894161,\n    className: \"icon\",\n    viewBox: \"0 0 1300 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 1659,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 81.25,\n    height: 64,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M784.014714 99.204787l10.903312 18.428134-21.294732-2.559463-14.179425 16.124617-4.095141-21.089976-19.707865-8.497417 18.735269-10.442609 2.04757-21.345922 15.715103 14.58894 20.936408-4.658223-9.060499 19.451919zM1067.142514 642.37403l-18.428134 10.903312 2.559463-21.294732-16.073428-14.179425 21.038786-4.14633 8.497417-19.656676 10.442609 18.735269 21.345922 1.996381-14.588939 15.715103 4.658222 20.936408-19.451918-9.00931z\",\n    fill: \"#FD9A08\",\n    \"p-id\": 1660\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1067.142514 642.37403l-18.428134 10.903312 2.559463-21.294732-16.073428-14.179425 21.038786-4.14633 8.497417-19.656676 10.442609 18.735269 21.345922 1.996381-14.588939 15.715103 4.658222 20.936408-19.451918-9.00931zM571.886418 100.023815l-17.404348-12.541369 20.526893-6.1939 6.501036-20.424515 12.234233 17.609105 21.448301-0.153567-12.950883 17.097213 6.756982 20.373325-20.270947-7.012928-17.250781 12.694936 0.409514-21.4483zM991.382408 784.373039l-21.192354 3.480869 10.135474-18.888837-9.828338-19.093594 21.089975 3.788005 15.100832-15.254399 2.917788 21.243543 19.144783 9.623581-19.298351 9.367634-3.224923 21.192354-14.844886-15.459156zM427.993407 156.792705l-20.78284-5.323683 16.892456-13.258019-1.330921-21.397111 17.762674 11.927098 19.963811-7.883146-5.886765 20.629272 13.667533 16.534131-21.397111 0.819028-11.517584 18.069809-7.371253-20.117379zM854.19519 896.42633l-20.731651-5.323683 16.841267-13.258019-1.330921-21.397111 17.813863 11.978287 19.912622-7.934335-5.835575 20.629272 13.667532 16.534131-21.4483 0.819028-11.517584 18.069809-7.371253-20.117379zM562.416405 923.607827l10.903313 18.428134-21.294733-2.559463-14.179425 16.073428-4.14633-21.038786-19.656676-8.497418 18.735269-10.442609 1.996381-21.345921 15.715103 14.588939 20.936408-4.658223-9.00931 19.451919zM242.790663 420.724532l-18.479324 10.954502 2.559464-21.294733-16.073428-14.230614 21.038786-4.095141 8.497417-19.707865 10.442609 18.735269 21.345922 2.047571-14.588939 15.715103 4.709412 20.936407-19.451919-9.060499z\",\n    fill: \"#FD9A08\",\n    \"p-id\": 1661\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M242.790663 420.724532l-18.479324 10.954502 2.559464-21.294733-16.073428-14.230614 21.038786-4.095141 8.497417-19.707865 10.442609 18.735269 21.345922 2.047571-14.588939 15.715103 4.709412 20.936407-19.451919-9.060499zM700.780976 943.878774l-17.404348-12.490179 20.475704-6.24509 6.552225-20.424515 12.234233 17.609106 21.448301-0.102379-12.950883 17.097213 6.756982 20.322136-20.270947-7.012928-17.30197 12.694936 0.460703-21.4483zM303.552315 278.827902l-21.192354 3.42968 10.135473-18.888837-9.828338-19.042405 21.089976 3.788006 15.100832-15.2544 2.917787 21.243543 19.144784 9.623581-19.298351 9.316445-3.224924 21.243544-14.844885-15.459157z\",\n    fill: \"#FD9A08\",\n    \"p-id\": 1662\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M407.620081 90.604991a486.861057 486.861057 0 0 1 504.521352 11.77353l25.031548-14.435371a511.892605 511.892605 0 0 0-797.528678 459.57718l25.031548-14.384182A486.758678 486.758678 0 0 1 407.620081 90.604991zM893.201406 933.333787a486.861057 486.861057 0 0 1-504.521351-11.619963l-24.980359 14.384183A511.892605 511.892605 0 0 0 1161.177185 476.572015L1136.401583 490.956197a486.912246 486.912246 0 0 1-243.200177 442.37759z\",\n    fill: \"#FD9A08\",\n    \"p-id\": 1663\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M813.909242 795.839433a326.587482 326.587482 0 0 1-258.147441 29.536203l-29.792149 17.199592a353.205897 353.205897 0 0 0 472.73282-272.429245l-29.792149 17.148403A326.843428 326.843428 0 0 1 813.909242 795.839433zM486.861057 228.099345a326.587482 326.587482 0 0 1 258.14744-29.536204l29.79215-17.199591A353.205897 353.205897 0 0 0 302.016637 453.792794l29.843339-17.148402a326.485103 326.485103 0 0 1 155.001081-208.545047zM1288.280119 374.705387a53.441588 53.441588 0 0 1-14.384182 11.978287l-1044.260914 601.934514a53.799913 53.799913 0 0 1-73.4054-19.759055L7.217686 710.660503a53.697534 53.697534 0 0 1 19.707865-73.405399L1071.442411 35.32059a53.799913 53.799913 0 0 1 73.4054 19.759054l148.80718 258.19863a53.953481 53.953481 0 0 1-5.374872 61.427113zM32.198045 665.716333a28.102904 28.102904 0 0 0-2.815409 32.146855l148.80718 258.19863a28.154093 28.154093 0 0 0 38.443134 10.237852L1261.149811 364.518724a28.154093 28.154093 0 0 0 10.237852-38.443135l-148.755991-258.249819a28.102904 28.102904 0 0 0-38.391945-10.237852L39.722866 659.420054a27.130308 27.130308 0 0 0-7.524821 6.296279z\",\n    fill: \"#FD9A08\",\n    \"p-id\": 1664\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M497.252476 603.111867L358.324823 683.427817l38.852649 67.262688c5.118926 9.316445 12.592558 11.312827 21.704247 6.040333l114.8687-66.546039a21.089975 21.089975 0 0 0 10.237852-11.159259q2.713031-9.930717-16.994834-47.606012l18.530512-4.14633c13.769911 28.973121 19.810244 47.810769 18.274566 56.308187a36.241996 36.241996 0 0 1-16.226996 19.503108l-123.87801 71.664965q-25.338684 14.640129-40.593083-11.82472L314.404438 644.984682l16.175806-9.316445 18.632891 32.300423 122.854225-70.845936-33.784912-58.560514-150.957129 87.021742-9.111688-15.715102L445.346566 513.377093zM525.099434 543.066865l48.425041-28.000526L630.907636 614.271126c3.583248-10.237852 7.064118-22.16495 10.544987-35.115833l14.332993 14.435372a360.423583 360.423583 0 0 1-22.011382 58.765271l-14.384182-10.493799a15.356778 15.356778 0 0 0-0.563082-12.848504l-51.649964-89.530017-33.017073 19.042405z m46.889363-69.566205l-4.504655 17.557916a274.579193 274.579193 0 0 0-58.662893-12.49018l4.86298-17.455537a293.007327 293.007327 0 0 1 58.304568 12.387801z m-2.713031-33.733723L691.055017 369.586461l8.804552 15.356778-53.185641 30.713556 48.834554 84.564659 59.942624-34.603941 8.906932 15.356779-59.891435 34.55275 46.070334 80.111193-15.715103 9.060499-46.070334-80.111192-59.123596 34.143236-8.958121-15.356778 59.021218-34.040858-48.885744-84.46228-52.724938 30.406421z m83.899198 64.037765l-11.824719 11.619962a424.870862 424.870862 0 0 0-50.063097-45.302496l11.312827-12.490179a509.384331 509.384331 0 0 1 50.574989 46.172713z m48.885744-100.330951A351.055948 351.055948 0 0 1 717.16154 470.941197l-16.431753 3.224923a325.922022 325.922022 0 0 0-14.998453-66.546039zM802.084523 308.927187a306.726049 306.726049 0 0 1-4.453466 64.242522 300.634527 300.634527 0 0 1-22.16495 64.242522l-16.892456-9.111688a189.912156 189.912156 0 0 0 21.089976-58.253379 264.597287 264.597287 0 0 0 4.299897-61.427112z m0 122.086386l-8.958121-15.356778 138.211003-79.804057a680.40765 680.40765 0 0 1 34.65513 70.948315c7.473632 18.786459 10.237852 33.170641 8.395038 42.998979s-9.265256 18.888837-21.601867 26.823172l-38.852649 22.420897-13.002072-13.104451c12.694937-6.705793 24.468467-13.258018 35.422968-19.554298 14.179425-8.190282 20.475704-18.837648 18.940026-31.890909s-12.029476-37.982431-30.713556-73.917292l-61.427113 35.371779a198.204817 198.204817 0 0 1 11.722341 70.999504q-2.866599 32.453991-25.59463 70.948315l-17.250781-7.115307a160.375953 160.375953 0 0 0 24.26371-62.143762 155.154649 155.154649 0 0 0-8.958121-63.628251zM962.358097 309.643837l-3.532059 18.786458a204.757042 204.757042 0 0 1-121.318547-44.841792l9.521202-15.663914A178.292194 178.292194 0 0 0 962.358097 309.643837z\",\n    fill: \"#FD9A08\",\n    \"p-id\": 1665\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRate);\nexport default __webpack_public_path__ + \"static/media/rate.9188c89ba07c8dbf28dc6178678670b2.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from 'react'\r\nimport './AudioWave.css'\r\n\r\nexport default ({\r\n  isPlaying\r\n}) => {\r\n  const COUNT = 10\r\n  const MID = COUNT / 2\r\n  const [hrScales, setHrScales] = useState(Array.from({length: COUNT}).map((item, index) => {\r\n    let scale = Math.random();\r\n    const distanceFromMiddle = Math.abs(index - MID);\r\n    if (distanceFromMiddle < MID / 2) {\r\n      scale = scale < 0.3 ? scale + 0.3 : scale;\r\n    }\r\n    scale *= (1 - distanceFromMiddle / MID) * 6;\r\n    return {\r\n      scale,\r\n      animationDelay: Math.random() > 0.5 ? \"180ms\" : \"100ms\"\r\n    }\r\n  }))\r\n\r\n  return (\r\n    <div class=\"audio-wave\">\r\n      {\r\n        hrScales.map(item => {\r\n          return (\r\n            <hr className={isPlaying ? 'animate' : ''} style={{ '--scale': item.scale, 'animationDelay': item.animationDelay }} />\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}","var _rect, _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVoice(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 36,\n    height: 36,\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 17,\n    y: 4,\n    width: 14,\n    height: 27,\n    rx: 7,\n    fill: \"none\",\n    stroke: \"#7635dc\",\n    strokeWidth: 4,\n    strokeLinejoin: \"round\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 23C9 31.2843 15.7157 38 24 38C32.2843 38 39 31.2843 39 23\",\n    stroke: \"#7635dc\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24 38V44\",\n    stroke: \"#7635dc\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVoice);\nexport default __webpack_public_path__ + \"static/media/voice.0438ed445e5fe3972596c319723e3a89.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _circle, _circle2, _path, _path2, _path3, _path4, _circle3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRobot(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9,\n    y: 18,\n    width: 30,\n    height: 24,\n    rx: 2,\n    fill: \"none\",\n    stroke: \"#242424\",\n    strokeWidth: 4\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 17,\n    cy: 26,\n    r: 2,\n    fill: \"#242424\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 31,\n    cy: 26,\n    r: 2,\n    fill: \"#242424\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 32C18.8954 32 18 32.8954 18 34C18 35.1046 18.8954 36 20 36V32ZM28 36C29.1046 36 30 35.1046 30 34C30 32.8954 29.1046 32 28 32V36ZM20 36H28V32H20V36Z\",\n    fill: \"#242424\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24 10V18\",\n    stroke: \"#242424\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 26V34\",\n    stroke: \"#242424\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44 26V34\",\n    stroke: \"#242424\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 24,\n    cy: 8,\n    r: 2,\n    stroke: \"#242424\",\n    strokeWidth: 4\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRobot);\nexport default __webpack_public_path__ + \"static/media/robot.5d700a3fdf5aca98f06d331b045698d2.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUser(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 24,\n    cy: 12,\n    r: 8,\n    fill: \"none\",\n    stroke: \"#242424\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M42 44C42 34.0589 33.9411 26 24 26C14.0589 26 6 34.0589 6 44\",\n    stroke: \"#242424\",\n    strokeWidth: 4,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUser);\nexport default __webpack_public_path__ + \"static/media/user.711687206e59f15defecaedd3b464176.svg\";\nexport { ForwardRef as ReactComponent };","import { Box, Divider, IconButton, Link, Stack, Typography, Menu, MenuItem, CircularProgress } from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles'\r\nimport { DotsThreeVertical, DownloadSimple, Image } from 'phosphor-react';\r\nimport React, { useEffect, useMemo, useRef } from 'react';\r\nimport { Message_options } from '../../data'\r\nimport AudioWave from '../AudioWave/AudioWave'\r\nimport ICON_VOICE from '../../assets/svg/voice.svg'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { appendHistory, updateAudioDuration, updateAudioIsPlaying, updateHistoryItem, updatePreview } from '../../redux/slices/app'\r\nimport { formatDuration } from '../../utils';\r\nimport IMG_ROBOT from '../../assets/svg/robot.svg'\r\nimport IMG_USER from '../../assets/svg/user.svg'\r\nimport IMG_RATE from '../../assets/svg/rate.svg'\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typewriter from '../Typewriter';\r\n\r\nconst DocMsg = ({ el, menu }) => {\r\n  const theme = useTheme();\r\n  return (\r\n    <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'}>\r\n      <Box p={1.5} sx={{\r\n        backgroundColor: el.incoming ? theme.palette.background.default :\r\n          theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n      }}>\r\n        <Stack spacing={2}>\r\n          <Stack p={2} spacing={3} direction='row' alignItems='center'\r\n            sx={{ backgroundColor: theme.palette.background.paper, borderRadius: 1 }}>\r\n            <Image size={48} />\r\n            <Typography variant='caption'>\r\n              Abstract.png\r\n            </Typography>\r\n            <IconButton>\r\n              <DownloadSimple />\r\n            </IconButton>\r\n          </Stack>\r\n          <Typography variant='body2' sx={{ color: el.incoming ? theme.palette.text : '#fff' }} >\r\n            {el.message}\r\n          </Typography>\r\n        </Stack>\r\n      </Box>\r\n      {menu && <MessageOptions />}\r\n\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst LinkMsg = ({ el, menu }) => {\r\n  const theme = useTheme();\r\n  return (\r\n    <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'}>\r\n      <Box p={1.5} sx={{\r\n        backgroundColor: el.incoming ? theme.palette.background.default :\r\n          theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n      }}>\r\n        <Stack spacing={2}>\r\n          <Stack p={2} spacing={3} alignItems='start'\r\n            sx={{ backgroundColor: theme.palette.background.paper, borderRadius: 1 }}>\r\n            <img src={el.preview} alt={el.message} style={{ maxHeight: 210, borderRadius: '10px' }} />\r\n            <Stack spacing={2}>\r\n              <Typography variant='subtitle2'>Creating Chat App</Typography>\r\n              <Typography variant='subtitle2' sx={{ color: theme.palette.primary.main }}\r\n                component={Link} to=\"//https://www.youtube.com\">www.youtube.com</Typography>\r\n            </Stack>\r\n            <Typography variant='body2' color={el.incoming ? theme.palette.text : '#fff'}>\r\n              {el.message}\r\n            </Typography>\r\n          </Stack>\r\n        </Stack>\r\n      </Box>\r\n      {menu && <MessageOptions />}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst ReplyMsg = ({ el, menu }) => {\r\n  const theme = useTheme();\r\n  return (\r\n    <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'}>\r\n      <Box p={1.5} sx={{\r\n        backgroundColor: el.incoming ? theme.palette.background.default :\r\n          theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n      }}>\r\n        <Stack spacing={2}>\r\n          <Stack p={2} direction='column' spacing={3} alignItems='center'\r\n            sx={{ backgroundColor: theme.palette.background.paper, borderRadius: 1 }}>\r\n            <Typography variant='body2' color={theme.palette.text}>\r\n              {el.message}\r\n            </Typography>\r\n          </Stack>\r\n          <Typography variant='body2' color={el.incoming ? theme.palette.text : '#fff'}>\r\n            {el.reply}\r\n          </Typography>\r\n        </Stack>\r\n      </Box>\r\n      {menu && <MessageOptions />}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst MediaMsg = ({ el, menu }) => {\r\n  const dispatch = useDispatch()\r\n  const theme = useTheme();\r\n\r\n  function handlePreview() {\r\n    dispatch(updatePreview({\r\n      isShow: true,\r\n      url: el.content\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'}>\r\n      <Box p={1.5} sx={{\r\n        backgroundColor: el.incoming ? theme.palette.background.default :\r\n          theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n      }}>\r\n        <Stack spacing={1}>\r\n          <img onClick={handlePreview} src={el.content} alt={el.content} style={{ maxHeight: 210, borderRadius: '10px' }} />\r\n          {/* <Typography variant='body2' color={el.incoming ? theme.palette.text : '#fff'}>\r\n            {el.message}\r\n          </Typography> */}\r\n        </Stack>\r\n      </Box>\r\n      {menu && <MessageOptions />}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst TextMsg = ({ el, menu }) => {\r\n  const theme = useTheme();\r\n  return (\r\n    el.creator === 'assistant_score' ?\r\n      <Card sx={{ minWidth: 275 }} style={{ position: 'relative' }}>\r\n        <img src={IMG_RATE} style={{ position: 'absolute', bottom: '-10px', right: '-10px' }} />\r\n        <CardContent style={{ position: 'relative', wordBreak: 'break-all' }}>\r\n          { el.content }\r\n        </CardContent>\r\n      </Card>\r\n    :\r\n    (\r\n        el.creator === 'assistant' && !el.isShow ? null :\r\n        <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'} alignItems={'flex-start'} style={{ flex: 1 }}>\r\n          {\r\n            el.incoming ?\r\n              <img style={{ marginRight: '12px' }} src={IMG_ROBOT} />\r\n              : null\r\n          }\r\n          <Box p={1.5} sx={{\r\n            backgroundColor: el.incoming ? theme.palette.background.default :\r\n              theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n          }}>\r\n            <Typography variant='body2' color={el.incoming ? theme.palette.text : '#fff'} style={{ whiteSpace: 'pre-line' }}>\r\n              {el.creator === 'assistant' ? <Typewriter originalText={el.content} /> : el.content}\r\n            </Typography>\r\n              {/* <Typography variant='body2' color={el.incoming ? theme.palette.text : '#fff'} style={{ whiteSpace: 'pre-line' }}>\r\n                {el.creator === 'assistant' ? el.content : el.content}\r\n              </Typography> */}\r\n          </Box>\r\n          {\r\n            !el.incoming ?\r\n              <img style={{ marginLeft: '12px' }} src={IMG_USER} />\r\n              : null\r\n          }\r\n          {/* {menu && <MessageOptions />} */}\r\n        </Stack>\r\n    )\r\n  )\r\n}\r\n\r\nconst AudioMsg = ({ el, menu }) => {\r\n  const audioRef = useRef()\r\n  const theme = useTheme()\r\n  const dispatch = useDispatch()\r\n  const { history } = useSelector(store => store.app)\r\n  const durationText = useMemo(() => {\r\n    return formatDuration(el?.metadata?.duration || 0)\r\n  }, [el])\r\n\r\n  useEffect(() => {\r\n    if (!el?.metadata) return\r\n    if (el.metadata.isPlaying) {\r\n      audioRef.current.play()\r\n    } else {\r\n      audioRef.current.pause()\r\n      audioRef.current.currentTime = 0\r\n    }\r\n  }, [el])\r\n\r\n  useEffect(() => {\r\n    // return () => {\r\n    //   console.log('as=da=sd=')\r\n    //   audioRef.current = null\r\n    // }\r\n  }, [])\r\n\r\n  function handleLoadedData() {\r\n    dispatch(updateAudioDuration({\r\n      id: el.id,\r\n      duration: Math.ceil(audioRef.current?.duration || '')\r\n    }))\r\n    if (history.find(item => item.subtype === 'audio' && item.metadata.isPlaying)) return\r\n    dispatch(updateAudioIsPlaying({\r\n      id: el.id,\r\n      isPlaying: true\r\n    }))\r\n  }\r\n\r\n  function handleCanPlay() {\r\n    // console.log('das-dsa-dsa', e, audioRef.current.duration)\r\n    // if (history.find(item => item.subtype === 'audio' && item.metadata.isPlaying)) return\r\n    // dispatch(updateHistoryItem({\r\n    //   id: el.id,\r\n    //   target: {\r\n    //     metadata: {\r\n    //       // ref: audioRef,\r\n    //       isPlaying: true,\r\n    //       duration: Math.ceil(audioRef.current.duration)\r\n    //     }\r\n    //   }\r\n    // }))\r\n    // audioRef.current.play()\r\n    // console.log('da-sdas-d-as-d')\r\n    // if (history.find(item => item.subtype === 'audio' && item.metadata.isPlaying)) return\r\n    // dispatch(updateAudioIsPlaying({\r\n    //   id: el.id,\r\n    //   isPlaying: true\r\n    // }))\r\n  }\r\n\r\n  function handlePlay() {\r\n    const audioItem = history.find(item => item.subtype === 'audio' && item.metadata.isPlaying)\r\n    // if (audioItem) {\r\n    //   dispatch(updateHistoryItem({\r\n    //     id: audioItem.id,\r\n    //     target: {\r\n    //       metadata: {\r\n    //         ...audioItem.metadata,\r\n    //         isPlaying: false\r\n    //       }\r\n    //     }\r\n    //   }))\r\n    //   // audioItem.metadata.ref.current.pause()\r\n    //   // audioItem.metadata.ref.current.currentTime = 0\r\n    // }\r\n    // dispatch(updateHistoryItem({\r\n    //   id: el.id,\r\n    //   target: {\r\n    //     metadata: {\r\n    //       // ref: audioRef,\r\n    //       isPlaying: !el.metadata.isPlaying,\r\n    //       duration: Math.ceil(audioRef.current.duration)\r\n    //     }\r\n    //   }\r\n    // }))\r\n    if (audioItem) {\r\n      dispatch(updateAudioIsPlaying({\r\n        id: audioItem.id,\r\n        isPlaying: false\r\n      }))\r\n    }\r\n    dispatch(updateAudioIsPlaying({\r\n      id: el.id,\r\n      isPlaying: true\r\n    }))\r\n  }\r\n\r\n  function handlePlayEnded() {\r\n    dispatch(updateAudioIsPlaying({\r\n      id: el.id,\r\n      isPlaying: false\r\n    }))\r\n    // dispatch(updateHistoryItem({\r\n    //   id: el.id,\r\n    //   target: {\r\n    //     metadata: {\r\n    //       // ref: audioRef,\r\n    //       isPlaying: false,\r\n    //       duration: Math.ceil(audioRef.current.duration)\r\n    //     }\r\n    //   }\r\n    // }))\r\n  }\r\n\r\n  return (\r\n    <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'}>\r\n      <Box p={1.5} sx={{\r\n        backgroundColor: el.incoming ? theme.palette.background.default :\r\n          theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center' }} onClick={handlePlay}>\r\n          <img src={ICON_VOICE} style={{ width: '24px', marginRight: '8px' }} />\r\n          <AudioWave isPlaying={el?.metadata?.isPlaying} />\r\n          <audio on ref={audioRef} onLoadedData={handleLoadedData} onCanPlay={handleCanPlay} onEnded={handlePlayEnded} src={el.content}></audio>\r\n          <span style={{ marginLeft: '12px' }}>{durationText}</span>\r\n        </div>\r\n      </Box>\r\n      {menu && <MessageOptions />}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst ProgressMsg = ({ el, menu }) => {\r\n  const dispatch = useDispatch()\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Stack direction='row' justifyContent={el.incoming ? 'start' : 'end'}>\r\n      <Box p={1.5} sx={{\r\n        backgroundColor: el.incoming ? theme.palette.background.default :\r\n          theme.palette.primary.main, borderRadius: 1.5, width: 'max-content'\r\n      }}>\r\n        <Stack spacing={1}>\r\n          <CircularProgress value={el.content} variant=\"determinate\" />\r\n        </Stack>\r\n      </Box>\r\n      {menu && <MessageOptions />}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nconst TimeLine = ({ el }) => {\r\n  const theme = useTheme();\r\n  return <Stack direction='row' alignItems='center' justifyContent='center'>\r\n    {/* <Divider width='46%' /> */}\r\n    <Typography variant='caption' sx={{ color: theme.palette.text, whiteSpace: 'pre-wrap', textAlign: 'center' }}>\r\n      {el.content}\r\n    </Typography>\r\n    {/* <Divider width='46%' /> */}\r\n  </Stack>\r\n}\r\n\r\nconst MessageOptions = () => {\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  return (\r\n    <>\r\n      <DotsThreeVertical\r\n        id=\"basic-button\"\r\n        aria-controls={open ? 'basic-menu' : undefined}\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={open ? 'true' : undefined}\r\n        onClick={handleClick}\r\n        size={20}\r\n      />\r\n\r\n      <Menu\r\n        id=\"basic-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        MenuListProps={{\r\n          'aria-labelledby': 'basic-button',\r\n        }}\r\n      >\r\n        <Stack spacing={1} px={1}>\r\n          {Message_options.map((el) => (\r\n            <MenuItem onClick={handleClick}>{el.title}</MenuItem>\r\n          ))}\r\n        </Stack>\r\n      </Menu>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// should not be default export, because we need to export multiple things\r\nexport { TimeLine, TextMsg, AudioMsg, MediaMsg, ReplyMsg, LinkMsg, DocMsg, ProgressMsg }","import styled from \"@emotion/styled\";\r\nimport { Badge } from \"@mui/material\";\r\n\r\nconst StyledBadge = styled(Badge)(({ theme }) => ({\r\n    \"& .MuiBadge-badge\": {\r\n      backgroundColor: \"#44b700\",\r\n      color: \"#44b700\",\r\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n      \"&::after\": {\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        borderRadius: \"50%\",\r\n        animation: \"ripple 1.2s infinite ease-in-out\",\r\n        border: \"1px solid currentColor\",\r\n        content: '\"\"',\r\n      },\r\n    },\r\n    \"@keyframes ripple\": {\r\n      \"0%\": {\r\n        transform: \"scale(.8)\",\r\n        opacity: 1,\r\n      },\r\n      \"100%\": {\r\n        transform: \"scale(2.4)\",\r\n        opacity: 0,\r\n      },\r\n    },\r\n  }));\r\n\r\n  export default StyledBadge","import { useState, useEffect } from \"react\";\r\n\r\nexport default function Typewriter({\r\n  originalText\r\n}) {\r\n  const [text, setText] = useState('')\r\n\r\n  useEffect(() => {\r\n    let startIndex = 0;\r\n    if (text) {\r\n      startIndex = text.length\r\n    }\r\n    let currentIndex = startIndex;\r\n    const interval = setInterval(() => {\r\n      if (currentIndex <= originalText.length - 1) {\r\n        setText(text + originalText.slice(startIndex, currentIndex + 1));\r\n        currentIndex++;\r\n      } else {\r\n        clearInterval(interval);\r\n      }\r\n    }, 200);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [originalText]);\r\n\r\n  return (\r\n    <span style={{ whiteSpace: 'pre-line' }}>{text}</span>\r\n  )\r\n}","export function formatDuration(duration) {\r\n  const seconds = duration % 60\r\n  return `${(duration - seconds) / 60}’${seconds}’`\r\n}\r\n\r\nexport function blobToBase64(blob) {\r\n  return new Promise((resolve, reject) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = (e) => {\r\n      resolve(e.target.result);\r\n    };\r\n    fileReader.readAsDataURL(blob);\r\n    fileReader.onerror = () => {\r\n      reject(new Error('blobToBase64 error'));\r\n    };\r\n  });\r\n}\r\n\r\nexport function dataURItoBlob(base64DataArr) {\r\n  var byteString;\r\n  base64DataArr.forEach(item => {\r\n    byteString += window.atob(item);\r\n  })\r\n  var mimeString = 'audio/mp3';\r\n\r\n  var ia = new Uint8Array(byteString.length);//创建视图\r\n  for (var i = 0; i < byteString.length; i++) {\r\n    ia[i] = byteString.charCodeAt(i);\r\n  }\r\n\r\n  var blob = new Blob([ia], {\r\n    type: mimeString\r\n  });\r\n  return blob;\r\n}\r\n\r\nfunction calcScore(json) {\r\n  let score = 0\r\n  for (let key in json) {\r\n    if (!isNaN(Number(json[key]))) {\r\n      score += Number(json[key])\r\n    } else if (typeof json[key] === 'object') {\r\n      score += calcScore(json[key])\r\n    }\r\n  }\r\n\r\n  return score\r\n}\r\n\r\nexport function formatText(originalText) {\r\n  if (!originalText) return ''\r\n\r\n  const text = originalText.replace('顾客：', '').replace('销售：', '')\r\n\r\n  const m = text.match(/<json[^>]*>([^<]|<(?!\\/json))*(<\\/json>)/)\r\n\r\n  if (!m) return text\r\n\r\n  let json = null\r\n  try {\r\n    json = JSON.parse(m[0].slice('<json>'.length, m[0].length - m[2].length).replaceAll('\\n', ''))\r\n  } catch(e) {\r\n    console.error('json parse error')\r\n  }\r\n \r\n  let reason = json['打分理由']\r\n  const score = calcScore(json)\r\n\r\n  const otherTexts = text.split(m[0])\r\n\r\n  return `${otherTexts[0]}\\n得分：${score}分\\n打分理由：${reason}\\n${otherTexts[1]}`\r\n}"],"names":["isPlaying","useState","Array","from","length","map","item","index","scale","Math","random","distanceFromMiddle","abs","COUNT","MID","animationDelay","hrScales","class","className","style","DocMsg","el","menu","theme","useTheme","direction","justifyContent","incoming","Box","p","sx","backgroundColor","palette","background","default","primary","main","borderRadius","width","spacing","alignItems","paper","size","variant","IconButton","color","text","message","MessageOptions","LinkMsg","src","preview","alt","maxHeight","component","Link","to","ReplyMsg","reply","MediaMsg","dispatch","useDispatch","onClick","updatePreview","isShow","url","content","TextMsg","creator","Card","minWidth","position","IMG_RATE","bottom","right","CardContent","wordBreak","flex","marginRight","IMG_ROBOT","whiteSpace","Typewriter","originalText","marginLeft","IMG_USER","AudioMsg","audioRef","useRef","history","useSelector","store","app","durationText","useMemo","formatDuration","metadata","duration","useEffect","current","play","pause","currentTime","display","audioItem","find","subtype","updateAudioIsPlaying","id","ICON_VOICE","on","ref","onLoadedData","updateAudioDuration","ceil","onCanPlay","onEnded","ProgressMsg","CircularProgress","value","React","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","undefined","Menu","onClose","MenuListProps","px","Message_options","MenuItem","title","StyledBadge","styled","Badge","boxShadow","top","left","height","animation","border","transform","opacity","setText","startIndex","currentIndex","interval","setInterval","slice","clearInterval","seconds","blobToBase64","blob","Promise","resolve","reject","fileReader","FileReader","onload","e","target","result","readAsDataURL","onerror","Error","dataURItoBlob","base64DataArr","byteString","forEach","window","atob","ia","Uint8Array","i","charCodeAt","Blob","type","calcScore","json","score","key","isNaN","Number","formatText","replace","m","match","JSON","parse","replaceAll","console","error","reason","otherTexts","split"],"sourceRoot":""}